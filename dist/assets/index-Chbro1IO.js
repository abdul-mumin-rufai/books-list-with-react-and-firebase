function iI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function q_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yf={exports:{}},Za={},Jf={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function sI(){if(Sy)return Pe;Sy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,O={};function S(M,Y,Ae){this.props=M,this.context=Y,this.refs=O,this.updater=Ae||P}S.prototype.isReactComponent={},S.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=S.prototype;function W(M,Y,Ae){this.props=M,this.context=Y,this.refs=O,this.updater=Ae||P}var H=W.prototype=new Q;H.constructor=W,D(H,S.prototype),H.isPureReactComponent=!0;var ie=Array.isArray,K=Object.prototype.hasOwnProperty,he={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(M,Y,Ae){var Re,Ce={},ke=null,Ue=null;if(Y!=null)for(Re in Y.ref!==void 0&&(Ue=Y.ref),Y.key!==void 0&&(ke=""+Y.key),Y)K.call(Y,Re)&&!N.hasOwnProperty(Re)&&(Ce[Re]=Y[Re]);var Ve=arguments.length-2;if(Ve===1)Ce.children=Ae;else if(1<Ve){for(var qe=Array(Ve),Ht=0;Ht<Ve;Ht++)qe[Ht]=arguments[Ht+2];Ce.children=qe}if(M&&M.defaultProps)for(Re in Ve=M.defaultProps,Ve)Ce[Re]===void 0&&(Ce[Re]=Ve[Re]);return{$$typeof:n,type:M,key:ke,ref:Ue,props:Ce,_owner:he.current}}function k(M,Y){return{$$typeof:n,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function b(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Ae){return Y[Ae]})}var F=/\/+/g;function C(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?b(""+M.key):Y.toString(36)}function He(M,Y,Ae,Re,Ce){var ke=typeof M;(ke==="undefined"||ke==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(ke){case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=M,Ce=Ce(Ue),M=Re===""?"."+C(Ue,0):Re,ie(Ce)?(Ae="",M!=null&&(Ae=M.replace(F,"$&/")+"/"),He(Ce,Y,Ae,"",function(Ht){return Ht})):Ce!=null&&(V(Ce)&&(Ce=k(Ce,Ae+(!Ce.key||Ue&&Ue.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+M)),Y.push(Ce)),1;if(Ue=0,Re=Re===""?".":Re+":",ie(M))for(var Ve=0;Ve<M.length;Ve++){ke=M[Ve];var qe=Re+C(ke,Ve);Ue+=He(ke,Y,Ae,qe,Ce)}else if(qe=T(M),typeof qe=="function")for(M=qe.call(M),Ve=0;!(ke=M.next()).done;)ke=ke.value,qe=Re+C(ke,Ve++),Ue+=He(ke,Y,Ae,qe,Ce);else if(ke==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Tt(M,Y,Ae){if(M==null)return M;var Re=[],Ce=0;return He(M,Re,"","",function(ke){return Y.call(Ae,ke,Ce++)}),Re}function Vt(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(Ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=Ae)},function(Ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=Ae)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ze={current:null},se={transition:null},ge={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:se,ReactCurrentOwner:he};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Tt,forEach:function(M,Y,Ae){Tt(M,function(){Y.apply(this,arguments)},Ae)},count:function(M){var Y=0;return Tt(M,function(){Y++}),Y},toArray:function(M){return Tt(M,function(Y){return Y})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Pe.Component=S,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=W,Pe.StrictMode=i,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Pe.act=ue,Pe.cloneElement=function(M,Y,Ae){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Re=D({},M.props),Ce=M.key,ke=M.ref,Ue=M._owner;if(Y!=null){if(Y.ref!==void 0&&(ke=Y.ref,Ue=he.current),Y.key!==void 0&&(Ce=""+Y.key),M.type&&M.type.defaultProps)var Ve=M.type.defaultProps;for(qe in Y)K.call(Y,qe)&&!N.hasOwnProperty(qe)&&(Re[qe]=Y[qe]===void 0&&Ve!==void 0?Ve[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)Re.children=Ae;else if(1<qe){Ve=Array(qe);for(var Ht=0;Ht<qe;Ht++)Ve[Ht]=arguments[Ht+2];Re.children=Ve}return{$$typeof:n,type:M.type,key:Ce,ref:ke,props:Re,_owner:Ue}},Pe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Pe.createElement=A,Pe.createFactory=function(M){var Y=A.bind(null,M);return Y.type=M,Y},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(M){return{$$typeof:d,render:M}},Pe.isValidElement=V,Pe.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:Vt}},Pe.memo=function(M,Y){return{$$typeof:m,type:M,compare:Y===void 0?null:Y}},Pe.startTransition=function(M){var Y=se.transition;se.transition={};try{M()}finally{se.transition=Y}},Pe.unstable_act=ue,Pe.useCallback=function(M,Y){return Ze.current.useCallback(M,Y)},Pe.useContext=function(M){return Ze.current.useContext(M)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(M){return Ze.current.useDeferredValue(M)},Pe.useEffect=function(M,Y){return Ze.current.useEffect(M,Y)},Pe.useId=function(){return Ze.current.useId()},Pe.useImperativeHandle=function(M,Y,Ae){return Ze.current.useImperativeHandle(M,Y,Ae)},Pe.useInsertionEffect=function(M,Y){return Ze.current.useInsertionEffect(M,Y)},Pe.useLayoutEffect=function(M,Y){return Ze.current.useLayoutEffect(M,Y)},Pe.useMemo=function(M,Y){return Ze.current.useMemo(M,Y)},Pe.useReducer=function(M,Y,Ae){return Ze.current.useReducer(M,Y,Ae)},Pe.useRef=function(M){return Ze.current.useRef(M)},Pe.useState=function(M){return Ze.current.useState(M)},Pe.useSyncExternalStore=function(M,Y,Ae){return Ze.current.useSyncExternalStore(M,Y,Ae)},Pe.useTransition=function(){return Ze.current.useTransition()},Pe.version="18.3.1",Pe}var Ay;function Cl(){return Ay||(Ay=1,Jf.exports=sI()),Jf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function oI(){if(Ry)return Za;Ry=1;var n=Cl(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,m){var _,E={},T=null,P=null;m!==void 0&&(T=""+m),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(P=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(E[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:d,key:T,ref:P,props:E,_owner:o.current}}return Za.Fragment=t,Za.jsx=c,Za.jsxs=c,Za}var Py;function aI(){return Py||(Py=1,Yf.exports=oI()),Yf.exports}var q=aI(),te=Cl();const lI=q_(te),uI=iI({__proto__:null,default:lI},[te]);var oc={},Zf={exports:{}},en={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function cI(){return Cy||(Cy=1,(function(n){function e(se,ge){var ue=se.length;se.push(ge);e:for(;0<ue;){var M=ue-1>>>1,Y=se[M];if(0<o(Y,ge))se[M]=ge,se[ue]=Y,ue=M;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ge=se[0],ue=se.pop();if(ue!==ge){se[0]=ue;e:for(var M=0,Y=se.length,Ae=Y>>>1;M<Ae;){var Re=2*(M+1)-1,Ce=se[Re],ke=Re+1,Ue=se[ke];if(0>o(Ce,ue))ke<Y&&0>o(Ue,Ce)?(se[M]=Ue,se[ke]=ue,M=ke):(se[M]=Ce,se[Re]=ue,M=Re);else if(ke<Y&&0>o(Ue,ue))se[M]=Ue,se[ke]=ue,M=ke;else break e}}return ge}function o(se,ge){var ue=se.sortIndex-ge.sortIndex;return ue!==0?ue:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],_=1,E=null,T=3,P=!1,D=!1,O=!1,S=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(se){for(var ge=t(m);ge!==null;){if(ge.callback===null)i(m);else if(ge.startTime<=se)i(m),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(m)}}function ie(se){if(O=!1,H(se),!D)if(t(p)!==null)D=!0,Vt(K);else{var ge=t(m);ge!==null&&Ze(ie,ge.startTime-se)}}function K(se,ge){D=!1,O&&(O=!1,Q(A),A=-1),P=!0;var ue=T;try{for(H(ge),E=t(p);E!==null&&(!(E.expirationTime>ge)||se&&!b());){var M=E.callback;if(typeof M=="function"){E.callback=null,T=E.priorityLevel;var Y=M(E.expirationTime<=ge);ge=n.unstable_now(),typeof Y=="function"?E.callback=Y:E===t(p)&&i(p),H(ge)}else i(p);E=t(p)}if(E!==null)var Ae=!0;else{var Re=t(m);Re!==null&&Ze(ie,Re.startTime-ge),Ae=!1}return Ae}finally{E=null,T=ue,P=!1}}var he=!1,N=null,A=-1,k=5,V=-1;function b(){return!(n.unstable_now()-V<k)}function F(){if(N!==null){var se=n.unstable_now();V=se;var ge=!0;try{ge=N(!0,se)}finally{ge?C():(he=!1,N=null)}}else he=!1}var C;if(typeof W=="function")C=function(){W(F)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Tt=He.port2;He.port1.onmessage=F,C=function(){Tt.postMessage(null)}}else C=function(){S(F,0)};function Vt(se){N=se,he||(he=!0,C())}function Ze(se,ge){A=S(function(){se(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){D||P||(D=!0,Vt(K))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var ue=T;T=ge;try{return se()}finally{T=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ue=T;T=se;try{return ge()}finally{T=ue}},n.unstable_scheduleCallback=function(se,ge,ue){var M=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?M+ue:M):ue=M,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ue+Y,se={id:_++,callback:ge,priorityLevel:se,startTime:ue,expirationTime:Y,sortIndex:-1},ue>M?(se.sortIndex=ue,e(m,se),t(p)===null&&se===t(m)&&(O?(Q(A),A=-1):O=!0,Ze(ie,ue-M))):(se.sortIndex=Y,e(p,se),D||P||(D=!0,Vt(K))),se},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(se){var ge=T;return function(){var ue=T;T=ge;try{return se.apply(this,arguments)}finally{T=ue}}}})(td)),td}var ky;function hI(){return ky||(ky=1,ed.exports=cI()),ed.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function fI(){if(Ny)return en;Ny=1;var n=Cl(),e=hI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function T(r){return p.call(E,r)?!0:p.call(_,r)?!1:m.test(r)?E[r]=!0:(_[r]=!0,!1)}function P(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,a,h){if(s===null||typeof s>"u"||P(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(r,s,a,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new O(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Q,W);S[s]=new O(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Q,W);S[s]=new O(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Q,W);S[s]=new O(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function H(r,s,a,h){var f=S.hasOwnProperty(s)?S[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,a,f,h)&&(a=null),h||f===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),he=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),b=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ze=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var ue=Object.assign,M;function Y(r){if(M===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var Ae=!1;function Re(r,s){if(!r||Ae)return"";Ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,R=g.length-1;1<=w&&0<=R&&f[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(f[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||f[w]!==g[R]){var x=`
`+f[w].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=w&&0<=R);break}}}finally{Ae=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function Ce(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function ke(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case he:return"Portal";case k:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case He:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Tt:return s=r.displayName||null,s!==null?s:ke(r.type)||"Memo";case Vt:s=r._payload,r=r._init;try{return ke(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ve(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ht(r){var s=qe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ms(r){r._valueTracker||(r._valueTracker=Ht(r))}function sa(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=qe(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function qr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Fs(r,s){var a=s.checked;return ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Wl(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ve(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Us(r,s){s=s.checked,s!=null&&H(r,"checked",s,!1)}function Xi(r,s){Us(r,s);var a=Ve(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ft(r,s.type,a):s.hasOwnProperty("defaultValue")&&ft(r,s.type,Ve(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function oa(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ft(r,s,a){(s!=="number"||qr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var lt=Array.isArray;function An(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ve(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function aa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function la(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(lt(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ve(a)}}function Hl(r,s){var a=Ve(s.value),h=Ve(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Wr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ua(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function js(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ua(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Hr,Kl=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Hr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Yi(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gl=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(r){Gl.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Kr[s]=Kr[r]})});function Gr(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Kr.hasOwnProperty(r)&&Kr[r]?(""+s).trim():s+"px"}function Bs(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=Gr(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var ca=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rn(r,s){if(s){if(ca[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function zs(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function $s(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var dr=null,pr=null,st=null;function ha(r){if(r=Fa(r)){if(typeof dr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=wu(s),dr(r.stateNode,r.type,s))}}function Xr(r){pr?st?st.push(r):st=[r]:pr=r}function Yr(){if(pr){var r=pr,s=st;if(st=pr=null,ha(r),s)for(r=0;r<s.length;r++)ha(s[r])}}function Ql(r,s){return r(s)}function Xl(){}var jn=!1;function Yl(r,s,a){if(jn)return r(s,a);jn=!0;try{return Ql(r,s,a)}finally{jn=!1,(pr!==null||st!==null)&&(Xl(),Yr())}}function Ji(r,s){var a=r.stateNode;if(a===null)return null;var h=wu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Jr=!1;if(d)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Jr=!1}function Jl(r,s,a,h,f,g,w,R,x){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(Z){this.onError(Z)}}var mr=!1,Bn=null,qs=!1,mn=null,Zl={onError:function(r){mr=!0,Bn=r}};function eu(r,s,a,h,f,g,w,R,x){mr=!1,Bn=null,Jl.apply(Zl,arguments)}function fa(r,s,a,h,f,g,w,R,x){if(eu.apply(this,arguments),mr){if(mr){var z=Bn;mr=!1,Bn=null}else throw Error(t(198));qs||(qs=!0,mn=z)}}function Pn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function da(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function tu(r){if(Pn(r)!==r)throw Error(t(188))}function nu(r){var s=r.alternate;if(!s){if(s=Pn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return tu(f),r;if(g===h)return tu(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var w=!1,R=f.child;R;){if(R===a){w=!0,a=f,h=g;break}if(R===h){w=!0,h=f,a=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===a){w=!0,a=g,h=f;break}if(R===h){w=!0,h=g,a=f;break}R=R.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ru(r){return r=nu(r),r!==null?Zi(r):null}function Zi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Zi(r);if(s!==null)return s;r=r.sibling}return null}var pa=e.unstable_scheduleCallback,Ws=e.unstable_cancelCallback,es=e.unstable_shouldYield,gr=e.unstable_requestPaint,Qe=e.unstable_now,Ph=e.unstable_getCurrentPriorityLevel,Hs=e.unstable_ImmediatePriority,ma=e.unstable_UserBlockingPriority,ts=e.unstable_NormalPriority,ga=e.unstable_LowPriority,Ks=e.unstable_IdlePriority,ns=null,rn=null;function iu(r){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ns,r,void 0,(r.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:rs,zn=Math.log,gn=Math.LN2;function rs(r){return r>>>=0,r===0?32:31-(zn(r)/gn|0)|0}var $n=64,ei=4194304;function Fe(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function yr(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var R=w&~f;R!==0?h=Fe(R):(g&=w,g!==0&&(h=Fe(g)))}else w=a&~f,w!==0?h=Fe(w):g!==0&&(h=Fe(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-sn(s),f=1<<a,h|=r[a],s&=~f;return h}function is(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-sn(g),R=1<<w,x=f[w];x===-1?((R&a)===0||(R&h)!==0)&&(f[w]=is(R,s)):x<=s&&(r.expiredLanes|=R),g&=~R}}function ya(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function va(){var r=$n;return $n<<=1,($n&4194240)===0&&($n=64),r}function _a(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function os(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-sn(s),r[s]=a}function Ch(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-sn(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function Ea(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-sn(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var be=0;function qn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var wa,Gs,Ta,Ia,Sa,Wn=!1,Qs=[],Hn=null,Kn=null,Ct=null,as=new Map,vr=new Map,on=[],su="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ti(r,s){switch(r){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":as.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(s.pointerId)}}function Cn(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Fa(s),s!==null&&Gs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function ou(r,s,a,h,f){switch(s){case"focusin":return Hn=Cn(Hn,r,s,a,h,f),!0;case"dragenter":return Kn=Cn(Kn,r,s,a,h,f),!0;case"mouseover":return Ct=Cn(Ct,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return as.set(g,Cn(as.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,vr.set(g,Cn(vr.get(g)||null,r,s,a,h,f)),!0}return!1}function Xs(r){var s=hs(r.target);if(s!==null){var a=Pn(s);if(a!==null){if(s=a.tag,s===13){if(s=da(a),s!==null){r.blockedOn=s,Sa(r.priority,function(){Ta(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function We(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ys(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Qr=h,a.target.dispatchEvent(h),Qr=null}else return s=Fa(a),s!==null&&Gs(s),r.blockedOn=a,!1;s.shift()}return!0}function au(r,s,a){We(r)&&a.delete(s)}function kh(){Wn=!1,Hn!==null&&We(Hn)&&(Hn=null),Kn!==null&&We(Kn)&&(Kn=null),Ct!==null&&We(Ct)&&(Ct=null),as.forEach(au),vr.forEach(au)}function ni(r,s){r.blockedOn===s&&(r.blockedOn=null,Wn||(Wn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kh)))}function ri(r){function s(f){return ni(f,r)}if(0<Qs.length){ni(Qs[0],r);for(var a=1;a<Qs.length;a++){var h=Qs[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Hn!==null&&ni(Hn,r),Kn!==null&&ni(Kn,r),Ct!==null&&ni(Ct,r),as.forEach(s),vr.forEach(s),a=0;a<on.length;a++)h=on[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<on.length&&(a=on[0],a.blockedOn===null);)Xs(a),a.blockedOn===null&&on.shift()}var _r=ie.ReactCurrentBatchConfig,Er=!0;function Gn(r,s,a,h){var f=be,g=_r.transition;_r.transition=null;try{be=1,Aa(r,s,a,h)}finally{be=f,_r.transition=g}}function lu(r,s,a,h){var f=be,g=_r.transition;_r.transition=null;try{be=4,Aa(r,s,a,h)}finally{be=f,_r.transition=g}}function Aa(r,s,a,h){if(Er){var f=Ys(r,s,a,h);if(f===null)jh(r,s,h,Qn,a),ti(r,h);else if(ou(f,r,s,a,h))h.stopPropagation();else if(ti(r,h),s&4&&-1<su.indexOf(r)){for(;f!==null;){var g=Fa(f);if(g!==null&&wa(g),g=Ys(r,s,a,h),g===null&&jh(r,s,h,Qn,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else jh(r,s,h,null,a)}}var Qn=null;function Ys(r,s,a,h){if(Qn=null,r=$s(h),r=hs(r),r!==null)if(s=Pn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=da(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Qn=r,null}function Js(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ph()){case Hs:return 1;case ma:return 4;case ts:case ga:return 16;case Ks:return 536870912;default:return 16}default:return 16}}var an=null,Zs=null,wr=null;function uu(){if(wr)return wr;var r,s=Zs,a=s.length,h,f="value"in an?an.value:an.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===f[g-h];h++);return wr=f.slice(r,1<h?1-h:void 0)}function ls(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xn(){return!0}function Ra(){return!1}function Lt(r){function s(a,h,f,g,w){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xn:Ra,this.isPropagationStopped=Ra,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),s}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Lt(Yn),ii=ue({},Yn,{view:0,detail:0}),eo=Lt(ii),to,no,ln,cs=ue({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ie,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ln&&(ln&&r.type==="mousemove"?(to=r.screenX-ln.screenX,no=r.screenY-ln.screenY):no=to=0,ln=r),to)},movementY:function(r){return"movementY"in r?r.movementY:no}}),Pa=Lt(cs),cu=ue({},cs,{dataTransfer:0}),hu=Lt(cu),ro=ue({},ii,{relatedTarget:0}),kt=Lt(ro),fu=ue({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Lt(fu),si=ue({},Yn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Lt(si),y=ue({},Yn,{data:0}),v=Lt(y),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function re(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=$[r])?!!s[r]:!1}function Ie(){return re}var ut=ue({},ii,{key:function(r){if(r.key){var s=I[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ls(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?j[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ie,charCode:function(r){return r.type==="keypress"?ls(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ls(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$e=Lt(ut),dt=ue({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),un=Lt(dt),Tr=ue({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ie}),Jn=Lt(Tr),Zn=ue({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),io=Lt(Zn),Ca=ue({},cs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),JT=Lt(Ca),ZT=[9,13,27,32],Nh=d&&"CompositionEvent"in window,ka=null;d&&"documentMode"in document&&(ka=document.documentMode);var e0=d&&"TextEvent"in window&&!ka,gm=d&&(!Nh||ka&&8<ka&&11>=ka),ym=" ",vm=!1;function _m(r,s){switch(r){case"keyup":return ZT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Em(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var so=!1;function t0(r,s){switch(r){case"compositionend":return Em(s);case"keypress":return s.which!==32?null:(vm=!0,ym);case"textInput":return r=s.data,r===ym&&vm?null:r;default:return null}}function n0(r,s){if(so)return r==="compositionend"||!Nh&&_m(r,s)?(r=uu(),wr=Zs=an=null,so=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gm&&s.locale!=="ko"?null:s.data;default:return null}}var r0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!r0[r.type]:s==="textarea"}function Tm(r,s,a,h){Xr(h),s=vu(s,"onChange"),0<s.length&&(a=new us("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Na=null,xa=null;function i0(r){jm(r,0)}function pu(r){var s=co(r);if(sa(s))return r}function s0(r,s){if(r==="change")return s}var Im=!1;if(d){var xh;if(d){var Oh="oninput"in document;if(!Oh){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),Oh=typeof Sm.oninput=="function"}xh=Oh}else xh=!1;Im=xh&&(!document.documentMode||9<document.documentMode)}function Am(){Na&&(Na.detachEvent("onpropertychange",Rm),xa=Na=null)}function Rm(r){if(r.propertyName==="value"&&pu(xa)){var s=[];Tm(s,xa,r,$s(r)),Yl(i0,s)}}function o0(r,s,a){r==="focusin"?(Am(),Na=s,xa=a,Na.attachEvent("onpropertychange",Rm)):r==="focusout"&&Am()}function a0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pu(xa)}function l0(r,s){if(r==="click")return pu(s)}function u0(r,s){if(r==="input"||r==="change")return pu(s)}function c0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var kn=typeof Object.is=="function"?Object.is:c0;function Oa(r,s){if(kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!kn(r[f],s[f]))return!1}return!0}function Pm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cm(r,s){var a=Pm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pm(a)}}function km(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?km(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Nm(){for(var r=window,s=qr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=qr(r.document)}return s}function bh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function h0(r){var s=Nm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&km(a.ownerDocument.documentElement,a)){if(h!==null&&bh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Cm(a,g);var w=Cm(a,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var f0=d&&"documentMode"in document&&11>=document.documentMode,oo=null,Dh=null,ba=null,Vh=!1;function xm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vh||oo==null||oo!==qr(h)||(h=oo,"selectionStart"in h&&bh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ba&&Oa(ba,h)||(ba=h,h=vu(Dh,"onSelect"),0<h.length&&(s=new us("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=oo)))}function mu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var ao={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},Lh={},Om={};d&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function gu(r){if(Lh[r])return Lh[r];if(!ao[r])return r;var s=ao[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Om)return Lh[r]=s[a];return r}var bm=gu("animationend"),Dm=gu("animationiteration"),Vm=gu("animationstart"),Lm=gu("transitionend"),Mm=new Map,Fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(r,s){Mm.set(r,s),l(s,[r])}for(var Mh=0;Mh<Fm.length;Mh++){var Fh=Fm[Mh],d0=Fh.toLowerCase(),p0=Fh[0].toUpperCase()+Fh.slice(1);oi(d0,"on"+p0)}oi(bm,"onAnimationEnd"),oi(Dm,"onAnimationIteration"),oi(Vm,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(Lm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function Um(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,fa(h,s,void 0,r),r.currentTarget=null}function jm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var R=h[w],x=R.instance,z=R.currentTarget;if(R=R.listener,x!==g&&f.isPropagationStopped())break e;Um(f,R,z),g=x}else for(w=0;w<h.length;w++){if(R=h[w],x=R.instance,z=R.currentTarget,R=R.listener,x!==g&&f.isPropagationStopped())break e;Um(f,R,z),g=x}}}if(qs)throw r=mn,qs=!1,mn=null,r}function Xe(r,s){var a=s[Hh];a===void 0&&(a=s[Hh]=new Set);var h=r+"__bubble";a.has(h)||(Bm(s,r,2,!1),a.add(h))}function Uh(r,s,a){var h=0;s&&(h|=4),Bm(a,r,h,s)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Va(r){if(!r[yu]){r[yu]=!0,i.forEach(function(a){a!=="selectionchange"&&(m0.has(a)||Uh(a,!1,r),Uh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[yu]||(s[yu]=!0,Uh("selectionchange",!1,s))}}function Bm(r,s,a,h){switch(Js(s)){case 1:var f=Gn;break;case 4:f=lu;break;default:f=Aa}a=f.bind(null,s,a,r),f=void 0,!Jr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function jh(r,s,a,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var x=w.tag;if((x===3||x===4)&&(x=w.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;w=w.return}for(;R!==null;){if(w=hs(R),w===null)return;if(x=w.tag,x===5||x===6){h=g=w;continue e}R=R.parentNode}}h=h.return}Yl(function(){var z=g,Z=$s(a),ee=[];e:{var J=Mm.get(r);if(J!==void 0){var ae=us,fe=r;switch(r){case"keypress":if(ls(a)===0)break e;case"keydown":case"keyup":ae=$e;break;case"focusin":fe="focus",ae=kt;break;case"focusout":fe="blur",ae=kt;break;case"beforeblur":case"afterblur":ae=kt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Jn;break;case bm:case Dm:case Vm:ae=du;break;case Lm:ae=io;break;case"scroll":ae=eo;break;case"wheel":ae=JT;break;case"copy":case"cut":case"paste":ae=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=un}var de=(s&4)!==0,ct=!de&&r==="scroll",U=de?J!==null?J+"Capture":null:J;de=[];for(var L=z,B;L!==null;){B=L;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,U!==null&&(ne=Ji(L,U),ne!=null&&de.push(La(L,ne,B)))),ct)break;L=L.return}0<de.length&&(J=new ae(J,fe,null,a,Z),ee.push({event:J,listeners:de}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",J&&a!==Qr&&(fe=a.relatedTarget||a.fromElement)&&(hs(fe)||fe[Ir]))break e;if((ae||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(fe=a.relatedTarget||a.toElement,ae=z,fe=fe?hs(fe):null,fe!==null&&(ct=Pn(fe),fe!==ct||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ae=null,fe=z),ae!==fe)){if(de=Pa,ne="onMouseLeave",U="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(de=un,ne="onPointerLeave",U="onPointerEnter",L="pointer"),ct=ae==null?J:co(ae),B=fe==null?J:co(fe),J=new de(ne,L+"leave",ae,a,Z),J.target=ct,J.relatedTarget=B,ne=null,hs(Z)===z&&(de=new de(U,L+"enter",fe,a,Z),de.target=B,de.relatedTarget=ct,ne=de),ct=ne,ae&&fe)t:{for(de=ae,U=fe,L=0,B=de;B;B=lo(B))L++;for(B=0,ne=U;ne;ne=lo(ne))B++;for(;0<L-B;)de=lo(de),L--;for(;0<B-L;)U=lo(U),B--;for(;L--;){if(de===U||U!==null&&de===U.alternate)break t;de=lo(de),U=lo(U)}de=null}else de=null;ae!==null&&zm(ee,J,ae,de,!1),fe!==null&&ct!==null&&zm(ee,ct,fe,de,!0)}}e:{if(J=z?co(z):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var pe=s0;else if(wm(J))if(Im)pe=u0;else{pe=a0;var ye=o0}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=l0);if(pe&&(pe=pe(r,z))){Tm(ee,pe,a,Z);break e}ye&&ye(r,J,z),r==="focusout"&&(ye=J._wrapperState)&&ye.controlled&&J.type==="number"&&ft(J,"number",J.value)}switch(ye=z?co(z):window,r){case"focusin":(wm(ye)||ye.contentEditable==="true")&&(oo=ye,Dh=z,ba=null);break;case"focusout":ba=Dh=oo=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,xm(ee,a,Z);break;case"selectionchange":if(f0)break;case"keydown":case"keyup":xm(ee,a,Z)}var ve;if(Nh)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else so?_m(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(gm&&a.locale!=="ko"&&(so||we!=="onCompositionStart"?we==="onCompositionEnd"&&so&&(ve=uu()):(an=Z,Zs="value"in an?an.value:an.textContent,so=!0)),ye=vu(z,we),0<ye.length&&(we=new v(we,r,null,a,Z),ee.push({event:we,listeners:ye}),ve?we.data=ve:(ve=Em(a),ve!==null&&(we.data=ve)))),(ve=e0?t0(r,a):n0(r,a))&&(z=vu(z,"onBeforeInput"),0<z.length&&(Z=new v("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:z}),Z.data=ve))}jm(ee,s)})}function La(r,s,a){return{instance:r,listener:s,currentTarget:a}}function vu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Ji(r,a),g!=null&&h.unshift(La(r,g,f)),g=Ji(r,s),g!=null&&h.push(La(r,g,f))),r=r.return}return h}function lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function zm(r,s,a,h,f){for(var g=s._reactName,w=[];a!==null&&a!==h;){var R=a,x=R.alternate,z=R.stateNode;if(x!==null&&x===h)break;R.tag===5&&z!==null&&(R=z,f?(x=Ji(a,g),x!=null&&w.unshift(La(a,x,R))):f||(x=Ji(a,g),x!=null&&w.push(La(a,x,R)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var g0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function $m(r){return(typeof r=="string"?r:""+r).replace(g0,`
`).replace(y0,"")}function _u(r,s,a){if(s=$m(s),$m(r)!==s&&a)throw Error(t(425))}function Eu(){}var Bh=null,zh=null;function $h(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qh=typeof setTimeout=="function"?setTimeout:void 0,v0=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(r){return qm.resolve(null).then(r).catch(E0)}:qh;function E0(r){setTimeout(function(){throw r})}function Wh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),ri(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);ri(s)}function ai(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Wm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var uo=Math.random().toString(36).slice(2),er="__reactFiber$"+uo,Ma="__reactProps$"+uo,Ir="__reactContainer$"+uo,Hh="__reactEvents$"+uo,w0="__reactListeners$"+uo,T0="__reactHandles$"+uo;function hs(r){var s=r[er];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Ir]||a[er]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Wm(r);r!==null;){if(a=r[er])return a;r=Wm(r)}return s}r=a,a=r.parentNode}return null}function Fa(r){return r=r[er]||r[Ir],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function wu(r){return r[Ma]||null}var Kh=[],ho=-1;function li(r){return{current:r}}function Ye(r){0>ho||(r.current=Kh[ho],Kh[ho]=null,ho--)}function Ke(r,s){ho++,Kh[ho]=r.current,r.current=s}var ui={},Mt=li(ui),Qt=li(!1),fs=ui;function fo(r,s){var a=r.type.contextTypes;if(!a)return ui;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Xt(r){return r=r.childContextTypes,r!=null}function Tu(){Ye(Qt),Ye(Mt)}function Hm(r,s,a){if(Mt.current!==ui)throw Error(t(168));Ke(Mt,s),Ke(Qt,a)}function Km(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Ue(r)||"Unknown",f));return ue({},a,h)}function Iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ui,fs=Mt.current,Ke(Mt,r),Ke(Qt,Qt.current),!0}function Gm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Km(r,s,fs),h.__reactInternalMemoizedMergedChildContext=r,Ye(Qt),Ye(Mt),Ke(Mt,r)):Ye(Qt),Ke(Qt,a)}var Sr=null,Su=!1,Gh=!1;function Qm(r){Sr===null?Sr=[r]:Sr.push(r)}function I0(r){Su=!0,Qm(r)}function ci(){if(!Gh&&Sr!==null){Gh=!0;var r=0,s=be;try{var a=Sr;for(be=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Sr=null,Su=!1}catch(f){throw Sr!==null&&(Sr=Sr.slice(r+1)),pa(Hs,ci),f}finally{be=s,Gh=!1}}return null}var po=[],mo=0,Au=null,Ru=0,yn=[],vn=0,ds=null,Ar=1,Rr="";function ps(r,s){po[mo++]=Ru,po[mo++]=Au,Au=r,Ru=s}function Xm(r,s,a){yn[vn++]=Ar,yn[vn++]=Rr,yn[vn++]=ds,ds=r;var h=Ar;r=Rr;var f=32-sn(h)-1;h&=~(1<<f),a+=1;var g=32-sn(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Ar=1<<32-sn(s)+f|a<<f|h,Rr=g+r}else Ar=1<<g|a<<f|h,Rr=r}function Qh(r){r.return!==null&&(ps(r,1),Xm(r,1,0))}function Xh(r){for(;r===Au;)Au=po[--mo],po[mo]=null,Ru=po[--mo],po[mo]=null;for(;r===ds;)ds=yn[--vn],yn[vn]=null,Rr=yn[--vn],yn[vn]=null,Ar=yn[--vn],yn[vn]=null}var cn=null,hn=null,et=!1,Nn=null;function Ym(r,s){var a=Tn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Jm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,cn=r,hn=ai(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,cn=r,hn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ds!==null?{id:Ar,overflow:Rr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Tn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,cn=r,hn=null,!0):!1;default:return!1}}function Yh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Jh(r){if(et){var s=hn;if(s){var a=s;if(!Jm(r,s)){if(Yh(r))throw Error(t(418));s=ai(a.nextSibling);var h=cn;s&&Jm(r,s)?Ym(h,a):(r.flags=r.flags&-4097|2,et=!1,cn=r)}}else{if(Yh(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,cn=r}}}function Zm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cn=r}function Pu(r){if(r!==cn)return!1;if(!et)return Zm(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!$h(r.type,r.memoizedProps)),s&&(s=hn)){if(Yh(r))throw eg(),Error(t(418));for(;s;)Ym(r,s),s=ai(s.nextSibling)}if(Zm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){hn=ai(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}hn=null}}else hn=cn?ai(r.stateNode.nextSibling):null;return!0}function eg(){for(var r=hn;r;)r=ai(r.nextSibling)}function go(){hn=cn=null,et=!1}function Zh(r){Nn===null?Nn=[r]:Nn.push(r)}var S0=ie.ReactCurrentBatchConfig;function Ua(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var R=f.refs;w===null?delete R[g]:R[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Cu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function tg(r){var s=r._init;return s(r._payload)}function ng(r){function s(U,L){if(r){var B=U.deletions;B===null?(U.deletions=[L],U.flags|=16):B.push(L)}}function a(U,L){if(!r)return null;for(;L!==null;)s(U,L),L=L.sibling;return null}function h(U,L){for(U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function f(U,L){return U=vi(U,L),U.index=0,U.sibling=null,U}function g(U,L,B){return U.index=B,r?(B=U.alternate,B!==null?(B=B.index,B<L?(U.flags|=2,L):B):(U.flags|=2,L)):(U.flags|=1048576,L)}function w(U){return r&&U.alternate===null&&(U.flags|=2),U}function R(U,L,B,ne){return L===null||L.tag!==6?(L=Wf(B,U.mode,ne),L.return=U,L):(L=f(L,B),L.return=U,L)}function x(U,L,B,ne){var pe=B.type;return pe===N?Z(U,L,B.props.children,ne,B.key):L!==null&&(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&tg(pe)===L.type)?(ne=f(L,B.props),ne.ref=Ua(U,L,B),ne.return=U,ne):(ne=Ju(B.type,B.key,B.props,null,U.mode,ne),ne.ref=Ua(U,L,B),ne.return=U,ne)}function z(U,L,B,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=Hf(B,U.mode,ne),L.return=U,L):(L=f(L,B.children||[]),L.return=U,L)}function Z(U,L,B,ne,pe){return L===null||L.tag!==7?(L=Ts(B,U.mode,ne,pe),L.return=U,L):(L=f(L,B),L.return=U,L)}function ee(U,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Wf(""+L,U.mode,B),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return B=Ju(L.type,L.key,L.props,null,U.mode,B),B.ref=Ua(U,null,L),B.return=U,B;case he:return L=Hf(L,U.mode,B),L.return=U,L;case Vt:var ne=L._init;return ee(U,ne(L._payload),B)}if(lt(L)||ge(L))return L=Ts(L,U.mode,B,null),L.return=U,L;Cu(U,L)}return null}function J(U,L,B,ne){var pe=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return pe!==null?null:R(U,L,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case K:return B.key===pe?x(U,L,B,ne):null;case he:return B.key===pe?z(U,L,B,ne):null;case Vt:return pe=B._init,J(U,L,pe(B._payload),ne)}if(lt(B)||ge(B))return pe!==null?null:Z(U,L,B,ne,null);Cu(U,B)}return null}function ae(U,L,B,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(B)||null,R(L,U,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case K:return U=U.get(ne.key===null?B:ne.key)||null,x(L,U,ne,pe);case he:return U=U.get(ne.key===null?B:ne.key)||null,z(L,U,ne,pe);case Vt:var ye=ne._init;return ae(U,L,B,ye(ne._payload),pe)}if(lt(ne)||ge(ne))return U=U.get(B)||null,Z(L,U,ne,pe,null);Cu(L,ne)}return null}function fe(U,L,B,ne){for(var pe=null,ye=null,ve=L,we=L=0,At=null;ve!==null&&we<B.length;we++){ve.index>we?(At=ve,ve=null):At=ve.sibling;var Me=J(U,ve,B[we],ne);if(Me===null){ve===null&&(ve=At);break}r&&ve&&Me.alternate===null&&s(U,ve),L=g(Me,L,we),ye===null?pe=Me:ye.sibling=Me,ye=Me,ve=At}if(we===B.length)return a(U,ve),et&&ps(U,we),pe;if(ve===null){for(;we<B.length;we++)ve=ee(U,B[we],ne),ve!==null&&(L=g(ve,L,we),ye===null?pe=ve:ye.sibling=ve,ye=ve);return et&&ps(U,we),pe}for(ve=h(U,ve);we<B.length;we++)At=ae(ve,U,we,B[we],ne),At!==null&&(r&&At.alternate!==null&&ve.delete(At.key===null?we:At.key),L=g(At,L,we),ye===null?pe=At:ye.sibling=At,ye=At);return r&&ve.forEach(function(_i){return s(U,_i)}),et&&ps(U,we),pe}function de(U,L,B,ne){var pe=ge(B);if(typeof pe!="function")throw Error(t(150));if(B=pe.call(B),B==null)throw Error(t(151));for(var ye=pe=null,ve=L,we=L=0,At=null,Me=B.next();ve!==null&&!Me.done;we++,Me=B.next()){ve.index>we?(At=ve,ve=null):At=ve.sibling;var _i=J(U,ve,Me.value,ne);if(_i===null){ve===null&&(ve=At);break}r&&ve&&_i.alternate===null&&s(U,ve),L=g(_i,L,we),ye===null?pe=_i:ye.sibling=_i,ye=_i,ve=At}if(Me.done)return a(U,ve),et&&ps(U,we),pe;if(ve===null){for(;!Me.done;we++,Me=B.next())Me=ee(U,Me.value,ne),Me!==null&&(L=g(Me,L,we),ye===null?pe=Me:ye.sibling=Me,ye=Me);return et&&ps(U,we),pe}for(ve=h(U,ve);!Me.done;we++,Me=B.next())Me=ae(ve,U,we,Me.value,ne),Me!==null&&(r&&Me.alternate!==null&&ve.delete(Me.key===null?we:Me.key),L=g(Me,L,we),ye===null?pe=Me:ye.sibling=Me,ye=Me);return r&&ve.forEach(function(rI){return s(U,rI)}),et&&ps(U,we),pe}function ct(U,L,B,ne){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case K:e:{for(var pe=B.key,ye=L;ye!==null;){if(ye.key===pe){if(pe=B.type,pe===N){if(ye.tag===7){a(U,ye.sibling),L=f(ye,B.props.children),L.return=U,U=L;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&tg(pe)===ye.type){a(U,ye.sibling),L=f(ye,B.props),L.ref=Ua(U,ye,B),L.return=U,U=L;break e}a(U,ye);break}else s(U,ye);ye=ye.sibling}B.type===N?(L=Ts(B.props.children,U.mode,ne,B.key),L.return=U,U=L):(ne=Ju(B.type,B.key,B.props,null,U.mode,ne),ne.ref=Ua(U,L,B),ne.return=U,U=ne)}return w(U);case he:e:{for(ye=B.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){a(U,L.sibling),L=f(L,B.children||[]),L.return=U,U=L;break e}else{a(U,L);break}else s(U,L);L=L.sibling}L=Hf(B,U.mode,ne),L.return=U,U=L}return w(U);case Vt:return ye=B._init,ct(U,L,ye(B._payload),ne)}if(lt(B))return fe(U,L,B,ne);if(ge(B))return de(U,L,B,ne);Cu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,L!==null&&L.tag===6?(a(U,L.sibling),L=f(L,B),L.return=U,U=L):(a(U,L),L=Wf(B,U.mode,ne),L.return=U,U=L),w(U)):a(U,L)}return ct}var yo=ng(!0),rg=ng(!1),ku=li(null),Nu=null,vo=null,ef=null;function tf(){ef=vo=Nu=null}function nf(r){var s=ku.current;Ye(ku),r._currentValue=s}function rf(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function _o(r,s){Nu=r,ef=vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Yt=!0),r.firstContext=null)}function _n(r){var s=r._currentValue;if(ef!==r)if(r={context:r,memoizedValue:s,next:null},vo===null){if(Nu===null)throw Error(t(308));vo=r,Nu.dependencies={lanes:0,firstContext:r}}else vo=vo.next=r;return s}var ms=null;function sf(r){ms===null?ms=[r]:ms.push(r)}function ig(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,sf(s)):(a.next=f.next,f.next=a),s.interleaved=a,Pr(r,h)}function Pr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var hi=!1;function of(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Cr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function fi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Le&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Pr(r,a)}return f=h.interleaved,f===null?(s.next=s,sf(h)):(s.next=f.next,f.next=s),h.interleaved=s,Pr(r,a)}function xu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Ea(r,a)}}function og(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Ou(r,s,a,h){var f=r.updateQueue;hi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var x=R,z=x.next;x.next=null,w===null?g=z:w.next=z,w=x;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,R=Z.lastBaseUpdate,R!==w&&(R===null?Z.firstBaseUpdate=z:R.next=z,Z.lastBaseUpdate=x))}if(g!==null){var ee=f.baseState;w=0,Z=z=x=null,R=g;do{var J=R.lane,ae=R.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:ae,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var fe=r,de=R;switch(J=s,ae=a,de.tag){case 1:if(fe=de.payload,typeof fe=="function"){ee=fe.call(ae,ee,J);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=de.payload,J=typeof fe=="function"?fe.call(ae,ee,J):fe,J==null)break e;ee=ue({},ee,J);break e;case 2:hi=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[R]:J.push(R))}else ae={eventTime:ae,lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Z===null?(z=Z=ae,x=ee):Z=Z.next=ae,w|=J;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;J=R,R=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(x=ee),f.baseState=x,f.firstBaseUpdate=z,f.lastBaseUpdate=Z,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);vs|=w,r.lanes=w,r.memoizedState=ee}}function ag(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var ja={},tr=li(ja),Ba=li(ja),za=li(ja);function gs(r){if(r===ja)throw Error(t(174));return r}function af(r,s){switch(Ke(za,s),Ke(Ba,r),Ke(tr,ja),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:js(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=js(s,r)}Ye(tr),Ke(tr,s)}function Eo(){Ye(tr),Ye(Ba),Ye(za)}function lg(r){gs(za.current);var s=gs(tr.current),a=js(s,r.type);s!==a&&(Ke(Ba,r),Ke(tr,a))}function lf(r){Ba.current===r&&(Ye(tr),Ye(Ba))}var nt=li(0);function bu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var uf=[];function cf(){for(var r=0;r<uf.length;r++)uf[r]._workInProgressVersionPrimary=null;uf.length=0}var Du=ie.ReactCurrentDispatcher,hf=ie.ReactCurrentBatchConfig,ys=0,rt=null,_t=null,It=null,Vu=!1,$a=!1,qa=0,A0=0;function Ft(){throw Error(t(321))}function ff(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!kn(r[a],s[a]))return!1;return!0}function df(r,s,a,h,f,g){if(ys=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Du.current=r===null||r.memoizedState===null?k0:N0,r=a(h,f),$a){g=0;do{if($a=!1,qa=0,25<=g)throw Error(t(301));g+=1,It=_t=null,s.updateQueue=null,Du.current=x0,r=a(h,f)}while($a)}if(Du.current=Fu,s=_t!==null&&_t.next!==null,ys=0,It=_t=rt=null,Vu=!1,s)throw Error(t(300));return r}function pf(){var r=qa!==0;return qa=0,r}function nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?rt.memoizedState=It=r:It=It.next=r,It}function En(){if(_t===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var s=It===null?rt.memoizedState:It.next;if(s!==null)It=s,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?rt.memoizedState=It=r:It=It.next=r}return It}function Wa(r,s){return typeof s=="function"?s(r):s}function mf(r){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=_t,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var R=w=null,x=null,z=g;do{var Z=z.lane;if((ys&Z)===Z)x!==null&&(x=x.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var ee={lane:Z,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};x===null?(R=x=ee,w=h):x=x.next=ee,rt.lanes|=Z,vs|=Z}z=z.next}while(z!==null&&z!==g);x===null?w=h:x.next=R,kn(h,s.memoizedState)||(Yt=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=x,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,rt.lanes|=g,vs|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function gf(r){var s=En(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);kn(g,s.memoizedState)||(Yt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function ug(){}function cg(r,s){var a=rt,h=En(),f=s(),g=!kn(h.memoizedState,f);if(g&&(h.memoizedState=f,Yt=!0),h=h.queue,yf(dg.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Ha(9,fg.bind(null,a,h,f,s),void 0,null),St===null)throw Error(t(349));(ys&30)!==0||hg(a,s,f)}return f}function hg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function fg(r,s,a,h){s.value=a,s.getSnapshot=h,pg(s)&&mg(r)}function dg(r,s,a){return a(function(){pg(s)&&mg(r)})}function pg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!kn(r,a)}catch{return!0}}function mg(r){var s=Pr(r,1);s!==null&&Dn(s,r,1,-1)}function gg(r){var s=nr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:r},s.queue=r,r=r.dispatch=C0.bind(null,rt,r),[s.memoizedState,r]}function Ha(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function yg(){return En().memoizedState}function Lu(r,s,a,h){var f=nr();rt.flags|=r,f.memoizedState=Ha(1|s,a,void 0,h===void 0?null:h)}function Mu(r,s,a,h){var f=En();h=h===void 0?null:h;var g=void 0;if(_t!==null){var w=_t.memoizedState;if(g=w.destroy,h!==null&&ff(h,w.deps)){f.memoizedState=Ha(s,a,g,h);return}}rt.flags|=r,f.memoizedState=Ha(1|s,a,g,h)}function vg(r,s){return Lu(8390656,8,r,s)}function yf(r,s){return Mu(2048,8,r,s)}function _g(r,s){return Mu(4,2,r,s)}function Eg(r,s){return Mu(4,4,r,s)}function wg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Tg(r,s,a){return a=a!=null?a.concat([r]):null,Mu(4,4,wg.bind(null,s,r),a)}function vf(){}function Ig(r,s){var a=En();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&ff(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Sg(r,s){var a=En();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&ff(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Ag(r,s,a){return(ys&21)===0?(r.baseState&&(r.baseState=!1,Yt=!0),r.memoizedState=a):(kn(a,s)||(a=va(),rt.lanes|=a,vs|=a,r.baseState=!0),s)}function R0(r,s){var a=be;be=a!==0&&4>a?a:4,r(!0);var h=hf.transition;hf.transition={};try{r(!1),s()}finally{be=a,hf.transition=h}}function Rg(){return En().memoizedState}function P0(r,s,a){var h=gi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Pg(r))Cg(s,a);else if(a=ig(r,s,a,h),a!==null){var f=Gt();Dn(a,r,h,f),kg(a,s,h)}}function C0(r,s,a){var h=gi(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pg(r))Cg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,R=g(w,a);if(f.hasEagerState=!0,f.eagerState=R,kn(R,w)){var x=s.interleaved;x===null?(f.next=f,sf(s)):(f.next=x.next,x.next=f),s.interleaved=f;return}}catch{}finally{}a=ig(r,s,f,h),a!==null&&(f=Gt(),Dn(a,r,h,f),kg(a,s,h))}}function Pg(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function Cg(r,s){$a=Vu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function kg(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Ea(r,a)}}var Fu={readContext:_n,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},k0={readContext:_n,useCallback:function(r,s){return nr().memoizedState=[r,s===void 0?null:s],r},useContext:_n,useEffect:vg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Lu(4194308,4,wg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Lu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Lu(4,2,r,s)},useMemo:function(r,s){var a=nr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=nr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=P0.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=nr();return r={current:r},s.memoizedState=r},useState:gg,useDebugValue:vf,useDeferredValue:function(r){return nr().memoizedState=r},useTransition:function(){var r=gg(!1),s=r[0];return r=R0.bind(null,r[1]),nr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=rt,f=nr();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),St===null)throw Error(t(349));(ys&30)!==0||hg(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,vg(dg.bind(null,h,g,r),[r]),h.flags|=2048,Ha(9,fg.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=nr(),s=St.identifierPrefix;if(et){var a=Rr,h=Ar;a=(h&~(1<<32-sn(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=qa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=A0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},N0={readContext:_n,useCallback:Ig,useContext:_n,useEffect:yf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:Eg,useMemo:Sg,useReducer:mf,useRef:yg,useState:function(){return mf(Wa)},useDebugValue:vf,useDeferredValue:function(r){var s=En();return Ag(s,_t.memoizedState,r)},useTransition:function(){var r=mf(Wa)[0],s=En().memoizedState;return[r,s]},useMutableSource:ug,useSyncExternalStore:cg,useId:Rg,unstable_isNewReconciler:!1},x0={readContext:_n,useCallback:Ig,useContext:_n,useEffect:yf,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:Eg,useMemo:Sg,useReducer:gf,useRef:yg,useState:function(){return gf(Wa)},useDebugValue:vf,useDeferredValue:function(r){var s=En();return _t===null?s.memoizedState=r:Ag(s,_t.memoizedState,r)},useTransition:function(){var r=gf(Wa)[0],s=En().memoizedState;return[r,s]},useMutableSource:ug,useSyncExternalStore:cg,useId:Rg,unstable_isNewReconciler:!1};function xn(r,s){if(r&&r.defaultProps){s=ue({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function _f(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ue({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Uu={isMounted:function(r){return(r=r._reactInternals)?Pn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Gt(),f=gi(r),g=Cr(h,f);g.payload=s,a!=null&&(g.callback=a),s=fi(r,g,f),s!==null&&(Dn(s,r,f,h),xu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Gt(),f=gi(r),g=Cr(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=fi(r,g,f),s!==null&&(Dn(s,r,f,h),xu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Gt(),h=gi(r),f=Cr(a,h);f.tag=2,s!=null&&(f.callback=s),s=fi(r,f,h),s!==null&&(Dn(s,r,h,a),xu(s,r,h))}};function Ng(r,s,a,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!Oa(a,h)||!Oa(f,g):!0}function xg(r,s,a){var h=!1,f=ui,g=s.contextType;return typeof g=="object"&&g!==null?g=_n(g):(f=Xt(s)?fs:Mt.current,h=s.contextTypes,g=(h=h!=null)?fo(r,f):ui),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Uu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Og(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Uu.enqueueReplaceState(s,s.state,null)}function Ef(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},of(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=_n(g):(g=Xt(s)?fs:Mt.current,f.context=fo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(_f(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Uu.enqueueReplaceState(f,f.state,null),Ou(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function wo(r,s){try{var a="",h=s;do a+=Ce(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function wf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Tf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var O0=typeof WeakMap=="function"?WeakMap:Map;function bg(r,s,a){a=Cr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Hu||(Hu=!0,Mf=h),Tf(r,s)},a}function Dg(r,s,a){a=Cr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){Tf(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Tf(r,s),typeof h!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Vg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new O0;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=H0.bind(null,r,s,a),s.then(r,r))}function Lg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Mg(r,s,a,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Cr(-1,1),s.tag=2,fi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var b0=ie.ReactCurrentOwner,Yt=!1;function Kt(r,s,a,h){s.child=r===null?rg(s,null,a,h):yo(s,r.child,a,h)}function Fg(r,s,a,h,f){a=a.render;var g=s.ref;return _o(s,f),h=df(r,s,a,h,g,f),a=pf(),r!==null&&!Yt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,kr(r,s,f)):(et&&a&&Qh(s),s.flags|=1,Kt(r,s,h,f),s.child)}function Ug(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!qf(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,jg(r,s,g,h,f)):(r=Ju(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Oa,a(w,h)&&r.ref===s.ref)return kr(r,s,f)}return s.flags|=1,r=vi(g,h),r.ref=s.ref,r.return=s,s.child=r}function jg(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Oa(g,h)&&r.ref===s.ref)if(Yt=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Yt=!0);else return s.lanes=r.lanes,kr(r,s,f)}return If(r,s,a,h,f)}function Bg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Io,fn),fn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(Io,fn),fn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ke(Io,fn),fn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Ke(Io,fn),fn|=h;return Kt(r,s,f,a),s.child}function zg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function If(r,s,a,h,f){var g=Xt(a)?fs:Mt.current;return g=fo(s,g),_o(s,f),a=df(r,s,a,h,g,f),h=pf(),r!==null&&!Yt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,kr(r,s,f)):(et&&h&&Qh(s),s.flags|=1,Kt(r,s,a,f),s.child)}function $g(r,s,a,h,f){if(Xt(a)){var g=!0;Iu(s)}else g=!1;if(_o(s,f),s.stateNode===null)Bu(r,s),xg(s,a,h),Ef(s,a,h,f),h=!0;else if(r===null){var w=s.stateNode,R=s.memoizedProps;w.props=R;var x=w.context,z=a.contextType;typeof z=="object"&&z!==null?z=_n(z):(z=Xt(a)?fs:Mt.current,z=fo(s,z));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function";ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==h||x!==z)&&Og(s,w,h,z),hi=!1;var J=s.memoizedState;w.state=J,Ou(s,h,w,f),x=s.memoizedState,R!==h||J!==x||Qt.current||hi?(typeof Z=="function"&&(_f(s,a,Z,h),x=s.memoizedState),(R=hi||Ng(s,a,R,h,J,x,z))?(ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),w.props=h,w.state=x,w.context=z,h=R):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,sg(r,s),R=s.memoizedProps,z=s.type===s.elementType?R:xn(s.type,R),w.props=z,ee=s.pendingProps,J=w.context,x=a.contextType,typeof x=="object"&&x!==null?x=_n(x):(x=Xt(a)?fs:Mt.current,x=fo(s,x));var ae=a.getDerivedStateFromProps;(Z=typeof ae=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==ee||J!==x)&&Og(s,w,h,x),hi=!1,J=s.memoizedState,w.state=J,Ou(s,h,w,f);var fe=s.memoizedState;R!==ee||J!==fe||Qt.current||hi?(typeof ae=="function"&&(_f(s,a,ae,h),fe=s.memoizedState),(z=hi||Ng(s,a,z,h,J,fe,x)||!1)?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,fe,x),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,fe,x)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=fe),w.props=h,w.state=fe,w.context=x,h=z):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return Sf(r,s,a,h,g,f)}function Sf(r,s,a,h,f,g){zg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&Gm(s,a,!1),kr(r,s,g);h=s.stateNode,b0.current=s;var R=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=yo(s,r.child,null,g),s.child=yo(s,null,R,g)):Kt(r,s,R,g),s.memoizedState=h.state,f&&Gm(s,a,!0),s.child}function qg(r){var s=r.stateNode;s.pendingContext?Hm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Hm(r,s.context,!1),af(r,s.containerInfo)}function Wg(r,s,a,h,f){return go(),Zh(f),s.flags|=256,Kt(r,s,a,h),s.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function Rf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Hg(r,s,a){var h=s.pendingProps,f=nt.current,g=!1,w=(s.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ke(nt,f&1),r===null)return Jh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Zu(w,h,0,null),r=Ts(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Rf(a),s.memoizedState=Af,r):Pf(s,w));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return D0(r,s,w,h,R,f,a);if(g){g=h.fallback,w=s.mode,f=r.child,R=f.sibling;var x={mode:"hidden",children:h.children};return(w&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=vi(f,x),h.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=vi(R,g):(g=Ts(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Rf(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Af,h}return g=r.child,r=g.sibling,h=vi(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Pf(r,s){return s=Zu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ju(r,s,a,h){return h!==null&&Zh(h),yo(s,r.child,null,a),r=Pf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function D0(r,s,a,h,f,g,w){if(a)return s.flags&256?(s.flags&=-257,h=wf(Error(t(422))),ju(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Zu({mode:"visible",children:h.children},f,0,null),g=Ts(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&yo(s,r.child,null,w),s.child.memoizedState=Rf(w),s.memoizedState=Af,g);if((s.mode&1)===0)return ju(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=wf(g,h,void 0),ju(r,s,w,h)}if(R=(w&r.childLanes)!==0,Yt||R){if(h=St,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Pr(r,f),Dn(h,r,f,-1))}return $f(),h=wf(Error(t(421))),ju(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=K0.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,hn=ai(f.nextSibling),cn=s,et=!0,Nn=null,r!==null&&(yn[vn++]=Ar,yn[vn++]=Rr,yn[vn++]=ds,Ar=r.id,Rr=r.overflow,ds=s),s=Pf(s,h.children),s.flags|=4096,s)}function Kg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),rf(r.return,s,a)}function Cf(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Gg(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Kt(r,s,h.children,a),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Kg(r,a,s);else if(r.tag===19)Kg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&bu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Cf(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&bu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Cf(s,!0,a,null,g);break;case"together":Cf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Bu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function kr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),vs|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=vi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=vi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function V0(r,s,a){switch(s.tag){case 3:qg(s),go();break;case 5:lg(s);break;case 1:Xt(s.type)&&Iu(s);break;case 4:af(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ke(ku,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(nt,nt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Hg(r,s,a):(Ke(nt,nt.current&1),r=kr(r,s,a),r!==null?r.sibling:null);Ke(nt,nt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Gg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,Bg(r,s,a)}return kr(r,s,a)}var Qg,kf,Xg,Yg;Qg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},kf=function(){},Xg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,gs(tr.current);var g=null;switch(a){case"input":f=Fs(r,f),h=Fs(r,h),g=[];break;case"select":f=ue({},f,{value:void 0}),h=ue({},h,{value:void 0}),g=[];break;case"textarea":f=aa(r,f),h=aa(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Eu)}Rn(a,h);var w;a=null;for(z in f)if(!h.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var R=f[z];for(w in R)R.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var x=h[z];if(R=f?.[z],h.hasOwnProperty(z)&&x!==R&&(x!=null||R!=null))if(z==="style")if(R){for(w in R)!R.hasOwnProperty(w)||x&&x.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in x)x.hasOwnProperty(w)&&R[w]!==x[w]&&(a||(a={}),a[w]=x[w])}else a||(g||(g=[]),g.push(z,a)),a=x;else z==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,R=R?R.__html:void 0,x!=null&&R!==x&&(g=g||[]).push(z,x)):z==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(z,""+x):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(x!=null&&z==="onScroll"&&Xe("scroll",r),g||R===x||(g=[])):(g=g||[]).push(z,x))}a&&(g=g||[]).push("style",a);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},Yg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ka(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function L0(r,s,a){var h=s.pendingProps;switch(Xh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Xt(s.type)&&Tu(),Ut(s),null;case 3:return h=s.stateNode,Eo(),Ye(Qt),Ye(Mt),cf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Pu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nn!==null&&(jf(Nn),Nn=null))),kf(r,s),Ut(s),null;case 5:lf(s);var f=gs(za.current);if(a=s.type,r!==null&&s.stateNode!=null)Xg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=gs(tr.current),Pu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[er]=s,h[Ma]=g,r=(s.mode&1)!==0,a){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(f=0;f<Da.length;f++)Xe(Da[f],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Wl(h,g),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Xe("invalid",h);break;case"textarea":la(h,g),Xe("invalid",h)}Rn(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&_u(h.textContent,R,r),f=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&_u(h.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Xe("scroll",h)}switch(a){case"input":Ms(h),oa(h,g,!0);break;case"textarea":Ms(h),Wr(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Eu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ua(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[er]=s,r[Ma]=h,Qg(r,s,!1,!1),s.stateNode=r;e:{switch(w=zs(a,h),a){case"dialog":Xe("cancel",r),Xe("close",r),f=h;break;case"iframe":case"object":case"embed":Xe("load",r),f=h;break;case"video":case"audio":for(f=0;f<Da.length;f++)Xe(Da[f],r);f=h;break;case"source":Xe("error",r),f=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),f=h;break;case"details":Xe("toggle",r),f=h;break;case"input":Wl(r,h),f=Fs(r,h),Xe("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=ue({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":la(r,h),f=aa(r,h),Xe("invalid",r);break;default:f=h}Rn(a,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var x=R[g];g==="style"?Bs(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Kl(r,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Yi(r,x):typeof x=="number"&&Yi(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&Xe("scroll",r):x!=null&&H(r,g,x,w))}switch(a){case"input":Ms(r),oa(r,h,!1);break;case"textarea":Ms(r),Wr(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ve(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?An(r,!!h.multiple,g,!1):h.defaultValue!=null&&An(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Eu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Yg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=gs(za.current),gs(tr.current),Pu(s)){if(h=s.stateNode,a=s.memoizedProps,h[er]=s,(g=h.nodeValue!==a)&&(r=cn,r!==null))switch(r.tag){case 3:_u(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&_u(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[er]=s,s.stateNode=h}return Ut(s),null;case 13:if(Ye(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&hn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)eg(),go(),s.flags|=98560,g=!1;else if(g=Pu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[er]=s}else go(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),g=!1}else Nn!==null&&(jf(Nn),Nn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(nt.current&1)!==0?Et===0&&(Et=3):$f())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return Eo(),kf(r,s),r===null&&Va(s.stateNode.containerInfo),Ut(s),null;case 10:return nf(s.type._context),Ut(s),null;case 17:return Xt(s.type)&&Tu(),Ut(s),null;case 19:if(Ye(nt),g=s.memoizedState,g===null)return Ut(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Ka(g,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=bu(r),w!==null){for(s.flags|=128,Ka(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(nt,nt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Qe()>So&&(s.flags|=128,h=!0,Ka(g,!1),s.lanes=4194304)}else{if(!h)if(r=bu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ka(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!et)return Ut(s),null}else 2*Qe()-g.renderingStartTime>So&&a!==1073741824&&(s.flags|=128,h=!0,Ka(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Qe(),s.sibling=null,a=nt.current,Ke(nt,h?a&1|2:a&1),s):(Ut(s),null);case 22:case 23:return zf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(fn&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function M0(r,s){switch(Xh(s),s.tag){case 1:return Xt(s.type)&&Tu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Eo(),Ye(Qt),Ye(Mt),cf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return lf(s),null;case 13:if(Ye(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));go()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(nt),null;case 4:return Eo(),null;case 10:return nf(s.type._context),null;case 22:case 23:return zf(),null;case 24:return null;default:return null}}var zu=!1,jt=!1,F0=typeof WeakSet=="function"?WeakSet:Set,ce=null;function To(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ot(r,s,h)}else a.current=null}function Nf(r,s,a){try{a()}catch(h){ot(r,s,h)}}var Jg=!1;function U0(r,s){if(Bh=Er,r=Nm(),bh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,R=-1,x=-1,z=0,Z=0,ee=r,J=null;t:for(;;){for(var ae;ee!==a||f!==0&&ee.nodeType!==3||(R=w+f),ee!==g||h!==0&&ee.nodeType!==3||(x=w+h),ee.nodeType===3&&(w+=ee.nodeValue.length),(ae=ee.firstChild)!==null;)J=ee,ee=ae;for(;;){if(ee===r)break t;if(J===a&&++z===f&&(R=w),J===g&&++Z===h&&(x=w),(ae=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ae}a=R===-1||x===-1?null:{start:R,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(zh={focusedElem:r,selectionRange:a},Er=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var de=fe.memoizedProps,ct=fe.memoizedState,U=s.stateNode,L=U.getSnapshotBeforeUpdate(s.elementType===s.type?de:xn(s.type,de),ct);U.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){ot(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return fe=Jg,Jg=!1,fe}function Ga(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Nf(s,a,g)}f=f.next}while(f!==h)}}function $u(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function xf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Zg(r){var s=r.alternate;s!==null&&(r.alternate=null,Zg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[er],delete s[Ma],delete s[Hh],delete s[w0],delete s[T0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ey(r){return r.tag===5||r.tag===3||r.tag===4}function ty(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ey(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Of(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Eu));else if(h!==4&&(r=r.child,r!==null))for(Of(r,s,a),r=r.sibling;r!==null;)Of(r,s,a),r=r.sibling}function bf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(bf(r,s,a),r=r.sibling;r!==null;)bf(r,s,a),r=r.sibling}var Nt=null,On=!1;function di(r,s,a){for(a=a.child;a!==null;)ny(r,s,a),a=a.sibling}function ny(r,s,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ns,a)}catch{}switch(a.tag){case 5:jt||To(a,s);case 6:var h=Nt,f=On;Nt=null,di(r,s,a),Nt=h,On=f,Nt!==null&&(On?(r=Nt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(On?(r=Nt,a=a.stateNode,r.nodeType===8?Wh(r.parentNode,a):r.nodeType===1&&Wh(r,a),ri(r)):Wh(Nt,a.stateNode));break;case 4:h=Nt,f=On,Nt=a.stateNode.containerInfo,On=!0,di(r,s,a),Nt=h,On=f;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&Nf(a,s,w),f=f.next}while(f!==h)}di(r,s,a);break;case 1:if(!jt&&(To(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(R){ot(a,s,R)}di(r,s,a);break;case 21:di(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,di(r,s,a),jt=h):di(r,s,a);break;default:di(r,s,a)}}function ry(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new F0),s.forEach(function(h){var f=G0.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function bn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,w=s,R=w;e:for(;R!==null;){switch(R.tag){case 5:Nt=R.stateNode,On=!1;break e;case 3:Nt=R.stateNode.containerInfo,On=!0;break e;case 4:Nt=R.stateNode.containerInfo,On=!0;break e}R=R.return}if(Nt===null)throw Error(t(160));ny(g,w,f),Nt=null,On=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch(z){ot(f,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)iy(s,r),s=s.sibling}function iy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(bn(s,r),rr(r),h&4){try{Ga(3,r,r.return),$u(3,r)}catch(de){ot(r,r.return,de)}try{Ga(5,r,r.return)}catch(de){ot(r,r.return,de)}}break;case 1:bn(s,r),rr(r),h&512&&a!==null&&To(a,a.return);break;case 5:if(bn(s,r),rr(r),h&512&&a!==null&&To(a,a.return),r.flags&32){var f=r.stateNode;try{Yi(f,"")}catch(de){ot(r,r.return,de)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,R=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Us(f,g),zs(R,w);var z=zs(R,g);for(w=0;w<x.length;w+=2){var Z=x[w],ee=x[w+1];Z==="style"?Bs(f,ee):Z==="dangerouslySetInnerHTML"?Kl(f,ee):Z==="children"?Yi(f,ee):H(f,Z,ee,z)}switch(R){case"input":Xi(f,g);break;case"textarea":Hl(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?An(f,!!g.multiple,ae,!1):J!==!!g.multiple&&(g.defaultValue!=null?An(f,!!g.multiple,g.defaultValue,!0):An(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ma]=g}catch(de){ot(r,r.return,de)}}break;case 6:if(bn(s,r),rr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(de){ot(r,r.return,de)}}break;case 3:if(bn(s,r),rr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{ri(s.containerInfo)}catch(de){ot(r,r.return,de)}break;case 4:bn(s,r),rr(r);break;case 13:bn(s,r),rr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Lf=Qe())),h&4&&ry(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(z=jt)||Z,bn(s,r),jt=z):bn(s,r),rr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Z&&(r.mode&1)!==0)for(ce=r,Z=r.child;Z!==null;){for(ee=ce=Z;ce!==null;){switch(J=ce,ae=J.child,J.tag){case 0:case 11:case 14:case 15:Ga(4,J,J.return);break;case 1:To(J,J.return);var fe=J.stateNode;if(typeof fe.componentWillUnmount=="function"){h=J,a=J.return;try{s=h,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(de){ot(h,a,de)}}break;case 5:To(J,J.return);break;case 22:if(J.memoizedState!==null){ay(ee);continue}}ae!==null?(ae.return=J,ce=ae):ay(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,z?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ee.stateNode,x=ee.memoizedProps.style,w=x!=null&&x.hasOwnProperty("display")?x.display:null,R.style.display=Gr("display",w))}catch(de){ot(r,r.return,de)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=z?"":ee.memoizedProps}catch(de){ot(r,r.return,de)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:bn(s,r),rr(r),h&4&&ry(r);break;case 21:break;default:bn(s,r),rr(r)}}function rr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(ey(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Yi(f,""),h.flags&=-33);var g=ty(r);bf(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,R=ty(r);Of(r,R,w);break;default:throw Error(t(161))}}catch(x){ot(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function j0(r,s,a){ce=r,sy(r)}function sy(r,s,a){for(var h=(r.mode&1)!==0;ce!==null;){var f=ce,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||zu;if(!w){var R=f.alternate,x=R!==null&&R.memoizedState!==null||jt;R=zu;var z=jt;if(zu=w,(jt=x)&&!z)for(ce=f;ce!==null;)w=ce,x=w.child,w.tag===22&&w.memoizedState!==null?ly(f):x!==null?(x.return=w,ce=x):ly(f);for(;g!==null;)ce=g,sy(g),g=g.sibling;ce=f,zu=R,jt=z}oy(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ce=g):oy(r)}}function oy(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:jt||$u(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:xn(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&ag(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ag(s,w,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Z=z.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&ri(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&xf(s)}catch(J){ot(s,s.return,J)}}if(s===r){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function ay(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function ly(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{$u(4,s)}catch(x){ot(s,a,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(x){ot(s,f,x)}}var g=s.return;try{xf(s)}catch(x){ot(s,g,x)}break;case 5:var w=s.return;try{xf(s)}catch(x){ot(s,w,x)}}}catch(x){ot(s,s.return,x)}if(s===r){ce=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ce=R;break}ce=s.return}}var B0=Math.ceil,qu=ie.ReactCurrentDispatcher,Df=ie.ReactCurrentOwner,wn=ie.ReactCurrentBatchConfig,Le=0,St=null,pt=null,xt=0,fn=0,Io=li(0),Et=0,Qa=null,vs=0,Wu=0,Vf=0,Xa=null,Jt=null,Lf=0,So=1/0,Nr=null,Hu=!1,Mf=null,pi=null,Ku=!1,mi=null,Gu=0,Ya=0,Ff=null,Qu=-1,Xu=0;function Gt(){return(Le&6)!==0?Qe():Qu!==-1?Qu:Qu=Qe()}function gi(r){return(r.mode&1)===0?1:(Le&2)!==0&&xt!==0?xt&-xt:S0.transition!==null?(Xu===0&&(Xu=va()),Xu):(r=be,r!==0||(r=window.event,r=r===void 0?16:Js(r.type)),r)}function Dn(r,s,a,h){if(50<Ya)throw Ya=0,Ff=null,Error(t(185));os(r,a,h),((Le&2)===0||r!==St)&&(r===St&&((Le&2)===0&&(Wu|=a),Et===4&&yi(r,xt)),Zt(r,h),a===1&&Le===0&&(s.mode&1)===0&&(So=Qe()+500,Su&&ci()))}function Zt(r,s){var a=r.callbackNode;ss(r,s);var h=yr(r,r===St?xt:0);if(h===0)a!==null&&Ws(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Ws(a),s===1)r.tag===0?I0(cy.bind(null,r)):Qm(cy.bind(null,r)),_0(function(){(Le&6)===0&&ci()}),a=null;else{switch(qn(h)){case 1:a=Hs;break;case 4:a=ma;break;case 16:a=ts;break;case 536870912:a=Ks;break;default:a=ts}a=vy(a,uy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function uy(r,s){if(Qu=-1,Xu=0,(Le&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Ao()&&r.callbackNode!==a)return null;var h=yr(r,r===St?xt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Yu(r,h);else{s=h;var f=Le;Le|=2;var g=fy();(St!==r||xt!==s)&&(Nr=null,So=Qe()+500,Es(r,s));do try{q0();break}catch(R){hy(r,R)}while(!0);tf(),qu.current=g,Le=f,pt!==null?s=0:(St=null,xt=0,s=Et)}if(s!==0){if(s===2&&(f=ya(r),f!==0&&(h=f,s=Uf(r,f))),s===1)throw a=Qa,Es(r,0),yi(r,h),Zt(r,Qe()),a;if(s===6)yi(r,h);else{if(f=r.current.alternate,(h&30)===0&&!z0(f)&&(s=Yu(r,h),s===2&&(g=ya(r),g!==0&&(h=g,s=Uf(r,g))),s===1))throw a=Qa,Es(r,0),yi(r,h),Zt(r,Qe()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ws(r,Jt,Nr);break;case 3:if(yi(r,h),(h&130023424)===h&&(s=Lf+500-Qe(),10<s)){if(yr(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Gt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=qh(ws.bind(null,r,Jt,Nr),s);break}ws(r,Jt,Nr);break;case 4:if(yi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-sn(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*B0(h/1960))-h,10<h){r.timeoutHandle=qh(ws.bind(null,r,Jt,Nr),h);break}ws(r,Jt,Nr);break;case 5:ws(r,Jt,Nr);break;default:throw Error(t(329))}}}return Zt(r,Qe()),r.callbackNode===a?uy.bind(null,r):null}function Uf(r,s){var a=Xa;return r.current.memoizedState.isDehydrated&&(Es(r,s).flags|=256),r=Yu(r,s),r!==2&&(s=Jt,Jt=a,s!==null&&jf(s)),r}function jf(r){Jt===null?Jt=r:Jt.push.apply(Jt,r)}function z0(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!kn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yi(r,s){for(s&=~Vf,s&=~Wu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-sn(s),h=1<<a;r[a]=-1,s&=~h}}function cy(r){if((Le&6)!==0)throw Error(t(327));Ao();var s=yr(r,0);if((s&1)===0)return Zt(r,Qe()),null;var a=Yu(r,s);if(r.tag!==0&&a===2){var h=ya(r);h!==0&&(s=h,a=Uf(r,h))}if(a===1)throw a=Qa,Es(r,0),yi(r,s),Zt(r,Qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ws(r,Jt,Nr),Zt(r,Qe()),null}function Bf(r,s){var a=Le;Le|=1;try{return r(s)}finally{Le=a,Le===0&&(So=Qe()+500,Su&&ci())}}function _s(r){mi!==null&&mi.tag===0&&(Le&6)===0&&Ao();var s=Le;Le|=1;var a=wn.transition,h=be;try{if(wn.transition=null,be=1,r)return r()}finally{be=h,wn.transition=a,Le=s,(Le&6)===0&&ci()}}function zf(){fn=Io.current,Ye(Io)}function Es(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,v0(a)),pt!==null)for(a=pt.return;a!==null;){var h=a;switch(Xh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Tu();break;case 3:Eo(),Ye(Qt),Ye(Mt),cf();break;case 5:lf(h);break;case 4:Eo();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:nf(h.type._context);break;case 22:case 23:zf()}a=a.return}if(St=r,pt=r=vi(r.current,null),xt=fn=s,Et=0,Qa=null,Vf=Wu=vs=0,Jt=Xa=null,ms!==null){for(s=0;s<ms.length;s++)if(a=ms[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}a.pending=h}ms=null}return r}function hy(r,s){do{var a=pt;try{if(tf(),Du.current=Fu,Vu){for(var h=rt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Vu=!1}if(ys=0,It=_t=rt=null,$a=!1,qa=0,Df.current=null,a===null||a.return===null){Et=1,Qa=s,pt=null;break}e:{var g=r,w=a.return,R=a,x=s;if(s=xt,R.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var z=x,Z=R,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ae=Lg(w);if(ae!==null){ae.flags&=-257,Mg(ae,w,R,g,s),ae.mode&1&&Vg(g,z,s),s=ae,x=z;var fe=s.updateQueue;if(fe===null){var de=new Set;de.add(x),s.updateQueue=de}else fe.add(x);break e}else{if((s&1)===0){Vg(g,z,s),$f();break e}x=Error(t(426))}}else if(et&&R.mode&1){var ct=Lg(w);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Mg(ct,w,R,g,s),Zh(wo(x,R));break e}}g=x=wo(x,R),Et!==4&&(Et=2),Xa===null?Xa=[g]:Xa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=bg(g,x,s);og(g,U);break e;case 1:R=x;var L=g.type,B=g.stateNode;if((g.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(pi===null||!pi.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Dg(g,R,s);og(g,ne);break e}}g=g.return}while(g!==null)}py(a)}catch(pe){s=pe,pt===a&&a!==null&&(pt=a=a.return);continue}break}while(!0)}function fy(){var r=qu.current;return qu.current=Fu,r===null?Fu:r}function $f(){(Et===0||Et===3||Et===2)&&(Et=4),St===null||(vs&268435455)===0&&(Wu&268435455)===0||yi(St,xt)}function Yu(r,s){var a=Le;Le|=2;var h=fy();(St!==r||xt!==s)&&(Nr=null,Es(r,s));do try{$0();break}catch(f){hy(r,f)}while(!0);if(tf(),Le=a,qu.current=h,pt!==null)throw Error(t(261));return St=null,xt=0,Et}function $0(){for(;pt!==null;)dy(pt)}function q0(){for(;pt!==null&&!es();)dy(pt)}function dy(r){var s=yy(r.alternate,r,fn);r.memoizedProps=r.pendingProps,s===null?py(r):pt=s,Df.current=null}function py(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=L0(a,s,fn),a!==null){pt=a;return}}else{if(a=M0(a,s),a!==null){a.flags&=32767,pt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=r}while(s!==null);Et===0&&(Et=5)}function ws(r,s,a){var h=be,f=wn.transition;try{wn.transition=null,be=1,W0(r,s,a,h)}finally{wn.transition=f,be=h}return null}function W0(r,s,a,h){do Ao();while(mi!==null);if((Le&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Ch(r,g),r===St&&(pt=St=null,xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ku||(Ku=!0,vy(ts,function(){return Ao(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=wn.transition,wn.transition=null;var w=be;be=1;var R=Le;Le|=4,Df.current=null,U0(r,a),iy(a,r),h0(zh),Er=!!Bh,zh=Bh=null,r.current=a,j0(a),gr(),Le=R,be=w,wn.transition=g}else r.current=a;if(Ku&&(Ku=!1,mi=r,Gu=f),g=r.pendingLanes,g===0&&(pi=null),iu(a.stateNode),Zt(r,Qe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Hu)throw Hu=!1,r=Mf,Mf=null,r;return(Gu&1)!==0&&r.tag!==0&&Ao(),g=r.pendingLanes,(g&1)!==0?r===Ff?Ya++:(Ya=0,Ff=r):Ya=0,ci(),null}function Ao(){if(mi!==null){var r=qn(Gu),s=wn.transition,a=be;try{if(wn.transition=null,be=16>r?16:r,mi===null)var h=!1;else{if(r=mi,mi=null,Gu=0,(Le&6)!==0)throw Error(t(331));var f=Le;for(Le|=4,ce=r.current;ce!==null;){var g=ce,w=g.child;if((ce.flags&16)!==0){var R=g.deletions;if(R!==null){for(var x=0;x<R.length;x++){var z=R[x];for(ce=z;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:Ga(8,Z,g)}var ee=Z.child;if(ee!==null)ee.return=Z,ce=ee;else for(;ce!==null;){Z=ce;var J=Z.sibling,ae=Z.return;if(Zg(Z),Z===z){ce=null;break}if(J!==null){J.return=ae,ce=J;break}ce=ae}}}var fe=g.alternate;if(fe!==null){var de=fe.child;if(de!==null){fe.child=null;do{var ct=de.sibling;de.sibling=null,de=ct}while(de!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ce=w;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ga(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,ce=U;break e}ce=g.return}}var L=r.current;for(ce=L;ce!==null;){w=ce;var B=w.child;if((w.subtreeFlags&2064)!==0&&B!==null)B.return=w,ce=B;else e:for(w=L;ce!==null;){if(R=ce,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:$u(9,R)}}catch(pe){ot(R,R.return,pe)}if(R===w){ce=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,ce=ne;break e}ce=R.return}}if(Le=f,ci(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ns,r)}catch{}h=!0}return h}finally{be=a,wn.transition=s}}return!1}function my(r,s,a){s=wo(a,s),s=bg(r,s,1),r=fi(r,s,1),s=Gt(),r!==null&&(os(r,1,s),Zt(r,s))}function ot(r,s,a){if(r.tag===3)my(r,r,a);else for(;s!==null;){if(s.tag===3){my(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(pi===null||!pi.has(h))){r=wo(a,r),r=Dg(s,r,1),s=fi(s,r,1),r=Gt(),s!==null&&(os(s,1,r),Zt(s,r));break}}s=s.return}}function H0(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Gt(),r.pingedLanes|=r.suspendedLanes&a,St===r&&(xt&a)===a&&(Et===4||Et===3&&(xt&130023424)===xt&&500>Qe()-Lf?Es(r,0):Vf|=a),Zt(r,s)}function gy(r,s){s===0&&((r.mode&1)===0?s=1:(s=ei,ei<<=1,(ei&130023424)===0&&(ei=4194304)));var a=Gt();r=Pr(r,s),r!==null&&(os(r,s,a),Zt(r,a))}function K0(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),gy(r,a)}function G0(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),gy(r,a)}var yy;yy=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Qt.current)Yt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Yt=!1,V0(r,s,a);Yt=(r.flags&131072)!==0}else Yt=!1,et&&(s.flags&1048576)!==0&&Xm(s,Ru,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Bu(r,s),r=s.pendingProps;var f=fo(s,Mt.current);_o(s,a),f=df(null,s,h,r,f,a);var g=pf();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xt(h)?(g=!0,Iu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,of(s),f.updater=Uu,s.stateNode=f,f._reactInternals=s,Ef(s,h,r,a),s=Sf(null,s,h,!0,g,a)):(s.tag=0,et&&g&&Qh(s),Kt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Bu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=X0(h),r=xn(h,r),f){case 0:s=If(null,s,h,r,a);break e;case 1:s=$g(null,s,h,r,a);break e;case 11:s=Fg(null,s,h,r,a);break e;case 14:s=Ug(null,s,h,xn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:xn(h,f),If(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:xn(h,f),$g(r,s,h,f,a);case 3:e:{if(qg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,sg(r,s),Ou(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=wo(Error(t(423)),s),s=Wg(r,s,h,a,f);break e}else if(h!==f){f=wo(Error(t(424)),s),s=Wg(r,s,h,a,f);break e}else for(hn=ai(s.stateNode.containerInfo.firstChild),cn=s,et=!0,Nn=null,a=rg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(go(),h===f){s=kr(r,s,a);break e}Kt(r,s,h,a)}s=s.child}return s;case 5:return lg(s),r===null&&Jh(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,$h(h,f)?w=null:g!==null&&$h(h,g)&&(s.flags|=32),zg(r,s),Kt(r,s,w,a),s.child;case 6:return r===null&&Jh(s),null;case 13:return Hg(r,s,a);case 4:return af(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=yo(s,null,h,a):Kt(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:xn(h,f),Fg(r,s,h,f,a);case 7:return Kt(r,s,s.pendingProps,a),s.child;case 8:return Kt(r,s,s.pendingProps.children,a),s.child;case 12:return Kt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Ke(ku,h._currentValue),h._currentValue=w,g!==null)if(kn(g.value,w)){if(g.children===f.children&&!Qt.current){s=kr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var x=R.firstContext;x!==null;){if(x.context===h){if(g.tag===1){x=Cr(-1,a&-a),x.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var Z=z.pending;Z===null?x.next=x:(x.next=Z.next,Z.next=x),z.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),rf(g.return,a,s),R.lanes|=a;break}x=x.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,R=w.alternate,R!==null&&(R.lanes|=a),rf(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Kt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,_o(s,a),f=_n(f),h=h(f),s.flags|=1,Kt(r,s,h,a),s.child;case 14:return h=s.type,f=xn(h,s.pendingProps),f=xn(h.type,f),Ug(r,s,h,f,a);case 15:return jg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:xn(h,f),Bu(r,s),s.tag=1,Xt(h)?(r=!0,Iu(s)):r=!1,_o(s,a),xg(s,h,f),Ef(s,h,f,a),Sf(null,s,h,!0,r,a);case 19:return Gg(r,s,a);case 22:return Bg(r,s,a)}throw Error(t(156,s.tag))};function vy(r,s){return pa(r,s)}function Q0(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(r,s,a,h){return new Q0(r,s,a,h)}function qf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function X0(r){if(typeof r=="function")return qf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Tt)return 14}return 2}function vi(r,s){var a=r.alternate;return a===null?(a=Tn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ju(r,s,a,h,f,g){var w=2;if(h=r,typeof r=="function")qf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case N:return Ts(a.children,f,g,s);case A:w=8,f|=8;break;case k:return r=Tn(12,a,s,f|2),r.elementType=k,r.lanes=g,r;case C:return r=Tn(13,a,s,f),r.elementType=C,r.lanes=g,r;case He:return r=Tn(19,a,s,f),r.elementType=He,r.lanes=g,r;case Ze:return Zu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:w=10;break e;case b:w=9;break e;case F:w=11;break e;case Tt:w=14;break e;case Vt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Tn(w,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Ts(r,s,a,h){return r=Tn(7,r,h,s),r.lanes=a,r}function Zu(r,s,a,h){return r=Tn(22,r,h,s),r.elementType=Ze,r.lanes=a,r.stateNode={isHidden:!1},r}function Wf(r,s,a){return r=Tn(6,r,null,s),r.lanes=a,r}function Hf(r,s,a){return s=Tn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Y0(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_a(0),this.expirationTimes=_a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Kf(r,s,a,h,f,g,w,R,x){return r=new Y0(r,s,a,R,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Tn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},of(g),r}function J0(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function _y(r){if(!r)return ui;r=r._reactInternals;e:{if(Pn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Xt(a))return Km(r,a,s)}return s}function Ey(r,s,a,h,f,g,w,R,x){return r=Kf(a,h,!0,r,f,g,w,R,x),r.context=_y(null),a=r.current,h=Gt(),f=gi(a),g=Cr(h,f),g.callback=s??null,fi(a,g,f),r.current.lanes=f,os(r,f,h),Zt(r,h),r}function ec(r,s,a,h){var f=s.current,g=Gt(),w=gi(f);return a=_y(a),s.context===null?s.context=a:s.pendingContext=a,s=Cr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=fi(f,s,w),r!==null&&(Dn(r,f,w,g),xu(r,f,w)),w}function tc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function wy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Gf(r,s){wy(r,s),(r=r.alternate)&&wy(r,s)}function Z0(){return null}var Ty=typeof reportError=="function"?reportError:function(r){console.error(r)};function Qf(r){this._internalRoot=r}nc.prototype.render=Qf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ec(r,s,null,null)},nc.prototype.unmount=Qf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;_s(function(){ec(null,r,null,null)}),s[Ir]=null}};function nc(r){this._internalRoot=r}nc.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ia();r={blockedOn:null,target:r,priority:s};for(var a=0;a<on.length&&s!==0&&s<on[a].priority;a++);on.splice(a,0,r),a===0&&Xs(r)}};function Xf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function rc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Iy(){}function eI(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var z=tc(w);g.call(z)}}var w=Ey(s,h,r,0,null,!1,!1,"",Iy);return r._reactRootContainer=w,r[Ir]=w.current,Va(r.nodeType===8?r.parentNode:r),_s(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var R=h;h=function(){var z=tc(x);R.call(z)}}var x=Kf(r,0,!1,null,null,!1,!1,"",Iy);return r._reactRootContainer=x,r[Ir]=x.current,Va(r.nodeType===8?r.parentNode:r),_s(function(){ec(s,x,a,h)}),x}function ic(r,s,a,h,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var R=f;f=function(){var x=tc(w);R.call(x)}}ec(s,w,r,f)}else w=eI(a,s,r,f,h);return tc(w)}wa=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Fe(s.pendingLanes);a!==0&&(Ea(s,a|1),Zt(s,Qe()),(Le&6)===0&&(So=Qe()+500,ci()))}break;case 13:_s(function(){var h=Pr(r,1);if(h!==null){var f=Gt();Dn(h,r,1,f)}}),Gf(r,1)}},Gs=function(r){if(r.tag===13){var s=Pr(r,134217728);if(s!==null){var a=Gt();Dn(s,r,134217728,a)}Gf(r,134217728)}},Ta=function(r){if(r.tag===13){var s=gi(r),a=Pr(r,s);if(a!==null){var h=Gt();Dn(a,r,s,h)}Gf(r,s)}},Ia=function(){return be},Sa=function(r,s){var a=be;try{return be=r,s()}finally{be=a}},dr=function(r,s,a){switch(s){case"input":if(Xi(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=wu(h);if(!f)throw Error(t(90));sa(h),Xi(h,f)}}}break;case"textarea":Hl(r,a);break;case"select":s=a.value,s!=null&&An(r,!!a.multiple,s,!1)}},Ql=Bf,Xl=_s;var tI={usingClientEntryPoint:!1,Events:[Fa,co,wu,Xr,Yr,Bf]},Ja={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nI={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ru(r),r===null?null:r.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||Z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{ns=sc.inject(nI),rn=sc}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI,en.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xf(s))throw Error(t(200));return J0(r,s,null,a)},en.createRoot=function(r,s){if(!Xf(r))throw Error(t(299));var a=!1,h="",f=Ty;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Kf(r,1,!1,null,null,a,!1,h,f),r[Ir]=s.current,Va(r.nodeType===8?r.parentNode:r),new Qf(s)},en.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ru(s),r=r===null?null:r.stateNode,r},en.flushSync=function(r){return _s(r)},en.hydrate=function(r,s,a){if(!rc(s))throw Error(t(200));return ic(null,r,s,!0,a)},en.hydrateRoot=function(r,s,a){if(!Xf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",w=Ty;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Ey(s,null,r,1,a??null,f,!1,g,w),r[Ir]=s.current,Va(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new nc(s)},en.render=function(r,s,a){if(!rc(s))throw Error(t(200));return ic(null,r,s,!1,a)},en.unmountComponentAtNode=function(r){if(!rc(r))throw Error(t(40));return r._reactRootContainer?(_s(function(){ic(null,null,r,!1,function(){r._reactRootContainer=null,r[Ir]=null})}),!0):!1},en.unstable_batchedUpdates=Bf,en.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!rc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ic(r,s,a,!1,h)},en.version="18.3.1-next-f1338f8080-20240426",en}var xy;function W_(){if(xy)return Zf.exports;xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zf.exports=fI(),Zf.exports}var Oy;function dI(){if(Oy)return oc;Oy=1;var n=W_();return oc.createRoot=n.createRoot,oc.hydrateRoot=n.hydrateRoot,oc}var pI=dI();const mI=q_(pI);var gI=W_();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pl.apply(this,arguments)}var Ri;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ri||(Ri={}));const by="popstate";function yI(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:c,hash:d}=i.location;return kd("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Rc(o)}return _I(e,t,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dp(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vI(){return Math.random().toString(36).substr(2,8)}function Dy(n,e){return{usr:n.state,key:n.key,idx:e}}function kd(n,e,t,i){return t===void 0&&(t=null),pl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ko(e):e,{state:t,key:e&&e.key||i||vI()})}function Rc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ko(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function _I(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d=Ri.Pop,p=null,m=_();m==null&&(m=0,c.replaceState(pl({},c.state,{idx:m}),""));function _(){return(c.state||{idx:null}).idx}function E(){d=Ri.Pop;let S=_(),Q=S==null?null:S-m;m=S,p&&p({action:d,location:O.location,delta:Q})}function T(S,Q){d=Ri.Push;let W=kd(O.location,S,Q);m=_()+1;let H=Dy(W,m),ie=O.createHref(W);try{c.pushState(H,"",ie)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(ie)}l&&p&&p({action:d,location:O.location,delta:1})}function P(S,Q){d=Ri.Replace;let W=kd(O.location,S,Q);m=_();let H=Dy(W,m),ie=O.createHref(W);c.replaceState(H,"",ie),l&&p&&p({action:d,location:O.location,delta:0})}function D(S){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof S=="string"?S:Rc(S);return W=W.replace(/ $/,"%20"),at(Q,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,Q)}let O={get action(){return d},get location(){return n(o,c)},listen(S){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(by,E),p=S,()=>{o.removeEventListener(by,E),p=null}},createHref(S){return e(o,S)},createURL:D,encodeLocation(S){let Q=D(S);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:T,replace:P,go(S){return c.go(S)}};return O}var Vy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Vy||(Vy={}));function EI(n,e,t){return t===void 0&&(t="/"),wI(n,e,t)}function wI(n,e,t,i){let o=typeof e=="string"?Ko(e):e,l=Fo(o.pathname||"/",t);if(l==null)return null;let c=H_(n);TI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=bI(l);d=xI(c[p],m)}return d}function H_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let m=Ci([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(at(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),H_(l.children,e,_,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:kI(m,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of K_(l.path))o(l,c,p)}),e}function K_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=K_(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function TI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const II=/^:[\w-]+$/,SI=3,AI=2,RI=1,PI=10,CI=-2,Ly=n=>n==="*";function kI(n,e){let t=n.split("/"),i=t.length;return t.some(Ly)&&(i+=CI),e&&(i+=AI),t.filter(o=>!Ly(o)).reduce((o,l)=>o+(II.test(l)?SI:l===""?RI:PI),i)}function NI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function xI(n,e,t){let{routesMeta:i}=n,o={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Nd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),T=p.route;if(!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Ci([l,E.pathname]),pathnameBase:FI(Ci([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=Ci([l,E.pathnameBase]))}return c}function Nd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=OI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,_,E)=>{let{paramName:T,isOptional:P}=_;if(T==="*"){let O=d[E]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const D=d[E];return P&&!D?m[T]=void 0:m[T]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function OI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),dp(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function bI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dp(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Fo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}const DI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VI=n=>DI.test(n);function LI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ko(n):n,l;if(t)if(VI(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),dp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+t))}t.startsWith("/")?l=My(t.substring(1),"/"):l=My(t,e)}else l=e;return{pathname:l,search:UI(i),hash:jI(o)}}function My(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function nd(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G_(n,e){let t=MI(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Q_(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Ko(n):(o=pl({},n),at(!o.pathname||!o.pathname.includes("?"),nd("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),nd("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),nd("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}d=E>=0?e[E]:"/"}let p=LI(o,d),m=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}const Ci=n=>n.join("/").replace(/\/\/+/g,"/"),FI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function BI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const X_=["post","put","patch","delete"];new Set(X_);const zI=["get",...X_];new Set(zI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ml.apply(this,arguments)}const nh=te.createContext(null),Y_=te.createContext(null),Wi=te.createContext(null),rh=te.createContext(null),Hi=te.createContext({outlet:null,matches:[],isDataRoute:!1}),J_=te.createContext(null);function $I(n,e){let{relative:t}=e===void 0?{}:e;kl()||at(!1);let{basename:i,navigator:o}=te.useContext(Wi),{hash:l,pathname:c,search:d}=ih(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:Ci([i,c])),o.createHref({pathname:p,search:d,hash:l})}function kl(){return te.useContext(rh)!=null}function Nl(){return kl()||at(!1),te.useContext(rh).location}function Z_(n){te.useContext(Wi).static||te.useLayoutEffect(n)}function pp(){let{isDataRoute:n}=te.useContext(Hi);return n?rS():qI()}function qI(){kl()||at(!1);let n=te.useContext(nh),{basename:e,future:t,navigator:i}=te.useContext(Wi),{matches:o}=te.useContext(Hi),{pathname:l}=Nl(),c=JSON.stringify(G_(o,t.v7_relativeSplatPath)),d=te.useRef(!1);return Z_(()=>{d.current=!0}),te.useCallback(function(m,_){if(_===void 0&&(_={}),!d.current)return;if(typeof m=="number"){i.go(m);return}let E=Q_(m,JSON.parse(c),l,_.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ci([e,E.pathname])),(_.replace?i.replace:i.push)(E,_.state,_)},[e,i,c,l,n])}function WI(){let{matches:n}=te.useContext(Hi),e=n[n.length-1];return e?e.params:{}}function ih(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=te.useContext(Wi),{matches:o}=te.useContext(Hi),{pathname:l}=Nl(),c=JSON.stringify(G_(o,i.v7_relativeSplatPath));return te.useMemo(()=>Q_(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function HI(n,e){return KI(n,e)}function KI(n,e,t,i){kl()||at(!1);let{navigator:o}=te.useContext(Wi),{matches:l}=te.useContext(Hi),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let m=Nl(),_;if(e){var E;let S=typeof e=="string"?Ko(e):e;p==="/"||(E=S.pathname)!=null&&E.startsWith(p)||at(!1),_=S}else _=m;let T=_.pathname||"/",P=T;if(p!=="/"){let S=p.replace(/^\//,"").split("/");P="/"+T.replace(/^\//,"").split("/").slice(S.length).join("/")}let D=EI(n,{pathname:P}),O=JI(D&&D.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:Ci([p,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?p:Ci([p,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,t,i);return e&&O?te.createElement(rh.Provider,{value:{location:ml({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Ri.Pop}},O):O}function GI(){let n=nS(),e=BI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),t?te.createElement("pre",{style:o},t):null,null)}const QI=te.createElement(GI,null);class XI extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?te.createElement(Hi.Provider,{value:this.props.routeContext},te.createElement(J_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YI(n){let{routeContext:e,match:t,children:i}=n,o=te.useContext(nh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),te.createElement(Hi.Provider,{value:e},i)}function JI(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);_>=0||at(!1),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,m=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<c.length;_++){let E=c[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=_),E.route.id){let{loaderData:T,errors:P}=t,D=E.route.loader&&T[E.route.id]===void 0&&(!P||P[E.route.id]===void 0);if(E.route.lazy||D){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((_,E,T)=>{let P,D=!1,O=null,S=null;t&&(P=d&&E.route.id?d[E.route.id]:void 0,O=E.route.errorElement||QI,p&&(m<0&&T===0?(iS("route-fallback"),D=!0,S=null):m===T&&(D=!0,S=E.route.hydrateFallbackElement||null)));let Q=e.concat(c.slice(0,T+1)),W=()=>{let H;return P?H=O:D?H=S:E.route.Component?H=te.createElement(E.route.Component,null):E.route.element?H=E.route.element:H=_,te.createElement(YI,{match:E,routeContext:{outlet:_,matches:Q,isDataRoute:t!=null},children:H})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?te.createElement(XI,{location:t.location,revalidation:t.revalidation,component:O,error:P,children:W(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):W()},null)}var eE=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(eE||{}),tE=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(tE||{});function ZI(n){let e=te.useContext(nh);return e||at(!1),e}function eS(n){let e=te.useContext(Y_);return e||at(!1),e}function tS(n){let e=te.useContext(Hi);return e||at(!1),e}function nE(n){let e=tS(),t=e.matches[e.matches.length-1];return t.route.id||at(!1),t.route.id}function nS(){var n;let e=te.useContext(J_),t=eS(),i=nE();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function rS(){let{router:n}=ZI(eE.UseNavigateStable),e=nE(tE.UseNavigateStable),t=te.useRef(!1);return Z_(()=>{t.current=!0}),te.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,ml({fromRouteId:e},l)))},[n,e])}const Fy={};function iS(n,e,t){Fy[n]||(Fy[n]=!0)}function sS(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function dc(n){at(!1)}function oS(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Ri.Pop,navigator:l,static:c=!1,future:d}=n;kl()&&at(!1);let p=e.replace(/^\/*/,"/"),m=te.useMemo(()=>({basename:p,navigator:l,static:c,future:ml({v7_relativeSplatPath:!1},d)}),[p,d,l,c]);typeof i=="string"&&(i=Ko(i));let{pathname:_="/",search:E="",hash:T="",state:P=null,key:D="default"}=i,O=te.useMemo(()=>{let S=Fo(_,p);return S==null?null:{location:{pathname:S,search:E,hash:T,state:P,key:D},navigationType:o}},[p,_,E,T,P,D,o]);return O==null?null:te.createElement(Wi.Provider,{value:m},te.createElement(rh.Provider,{children:t,value:O}))}function aS(n){let{children:e,location:t}=n;return HI(xd(e),t)}new Promise(()=>{});function xd(n,e){e===void 0&&(e=[]);let t=[];return te.Children.forEach(n,(i,o)=>{if(!te.isValidElement(i))return;let l=[...e,o];if(i.type===te.Fragment){t.push.apply(t,xd(i.props.children,l));return}i.type!==dc&&at(!1),!i.props.index||!i.props.children||at(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=xd(i.props.children,l)),t.push(c)}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pc.apply(this,arguments)}function rE(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function lS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uS(n,e){return n.button===0&&(!e||e==="_self")&&!lS(n)}const cS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fS="6";try{window.__reactRouterVersion=fS}catch{}const dS=te.createContext({isTransitioning:!1}),pS="startTransition",Uy=uI[pS];function mS(n){let{basename:e,children:t,future:i,window:o}=n,l=te.useRef();l.current==null&&(l.current=yI({window:o,v5Compat:!0}));let c=l.current,[d,p]=te.useState({action:c.action,location:c.location}),{v7_startTransition:m}=i||{},_=te.useCallback(E=>{m&&Uy?Uy(()=>p(E)):p(E)},[p,m]);return te.useLayoutEffect(()=>c.listen(_),[c,_]),te.useEffect(()=>sS(i),[i]),te.createElement(oS,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:i})}const gS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sh=te.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:_,viewTransition:E}=e,T=rE(e,cS),{basename:P}=te.useContext(Wi),D,O=!1;if(typeof m=="string"&&yS.test(m)&&(D=m,gS))try{let H=new URL(window.location.href),ie=m.startsWith("//")?new URL(H.protocol+m):new URL(m),K=Fo(ie.pathname,P);ie.origin===H.origin&&K!=null?m=K+ie.search+ie.hash:O=!0}catch{}let S=$I(m,{relative:o}),Q=_S(m,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E});function W(H){i&&i(H),H.defaultPrevented||Q(H)}return te.createElement("a",Pc({},T,{href:D||S,onClick:O||l?i:W,ref:t,target:p}))}),jy=te.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:l="",end:c=!1,style:d,to:p,viewTransition:m,children:_}=e,E=rE(e,hS),T=ih(p,{relative:E.relative}),P=Nl(),D=te.useContext(Y_),{navigator:O,basename:S}=te.useContext(Wi),Q=D!=null&&ES(T)&&m===!0,W=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,H=P.pathname,ie=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;o||(H=H.toLowerCase(),ie=ie?ie.toLowerCase():null,W=W.toLowerCase()),ie&&S&&(ie=Fo(ie,S)||ie);const K=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let he=H===W||!c&&H.startsWith(W)&&H.charAt(K)==="/",N=ie!=null&&(ie===W||!c&&ie.startsWith(W)&&ie.charAt(W.length)==="/"),A={isActive:he,isPending:N,isTransitioning:Q},k=he?i:void 0,V;typeof l=="function"?V=l(A):V=[l,he?"active":null,N?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let b=typeof d=="function"?d(A):d;return te.createElement(sh,Pc({},E,{"aria-current":k,className:V,ref:t,style:b,to:p,viewTransition:m}),typeof _=="function"?_(A):_)});var Od;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Od||(Od={}));var By;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(By||(By={}));function vS(n){let e=te.useContext(nh);return e||at(!1),e}function _S(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,p=pp(),m=Nl(),_=ih(n,{relative:c});return te.useCallback(E=>{if(uS(E,t)){E.preventDefault();let T=i!==void 0?i:Rc(m)===Rc(_);p(n,{replace:T,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[m,p,_,i,o,t,n,l,c,d])}function ES(n,e){e===void 0&&(e={});let t=te.useContext(dS);t==null&&at(!1);let{basename:i}=vS(Od.useViewTransitionState),o=ih(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Fo(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Fo(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Nd(o.pathname,c)!=null||Nd(o.pathname,l)!=null}var rd={exports:{}},id={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function wS(){if(zy)return id;zy=1;var n=Cl();function e(E,T){return E===T&&(E!==0||1/E===1/T)||E!==E&&T!==T}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,o=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function d(E,T){var P=T(),D=i({inst:{value:P,getSnapshot:T}}),O=D[0].inst,S=D[1];return l(function(){O.value=P,O.getSnapshot=T,p(O)&&S({inst:O})},[E,P,T]),o(function(){return p(O)&&S({inst:O}),E(function(){p(O)&&S({inst:O})})},[E]),c(P),P}function p(E){var T=E.getSnapshot;E=E.value;try{var P=T();return!t(E,P)}catch{return!0}}function m(E,T){return T()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return id.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:_,id}var $y;function iE(){return $y||($y=1,rd.exports=wS()),rd.exports}iE();var sd={exports:{}},od={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function TS(){if(qy)return od;qy=1;var n=Cl(),e=iE();function t(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var i=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,l=n.useRef,c=n.useEffect,d=n.useMemo,p=n.useDebugValue;return od.useSyncExternalStoreWithSelector=function(m,_,E,T,P){var D=l(null);if(D.current===null){var O={hasValue:!1,value:null};D.current=O}else O=D.current;D=d(function(){function Q(he){if(!W){if(W=!0,H=he,he=T(he),P!==void 0&&O.hasValue){var N=O.value;if(P(N,he))return ie=N}return ie=he}if(N=ie,i(H,he))return N;var A=T(he);return P!==void 0&&P(N,A)?(H=he,N):(H=he,ie=A)}var W=!1,H,ie,K=E===void 0?null:E;return[function(){return Q(_())},K===null?void 0:function(){return Q(K())}]},[_,E,T,P]);var S=o(m,D[0],D[1]);return c(function(){O.hasValue=!0,O.value=S},[S]),p(S),S},od}var Wy;function IS(){return Wy||(Wy=1,sd.exports=TS()),sd.exports}var SS=IS();function AS(n){n()}let sE=AS;const RS=n=>sE=n,PS=()=>sE,Hy=Symbol.for("react-redux-context"),Ky=typeof globalThis<"u"?globalThis:{};function CS(){var n;if(!te.createContext)return{};const e=(n=Ky[Hy])!=null?n:Ky[Hy]=new Map;let t=e.get(te.createContext);return t||(t=te.createContext(null),e.set(te.createContext,t)),t}const Mi=CS();function mp(n=Mi){return function(){return te.useContext(n)}}const oE=mp(),kS=()=>{throw new Error("uSES not initialized!")};let aE=kS;const NS=n=>{aE=n},xS=(n,e)=>n===e;function OS(n=Mi){const e=n===Mi?oE:mp(n);return function(i,o={}){const{equalityFn:l=xS,stabilityCheck:c=void 0,noopCheck:d=void 0}=typeof o=="function"?{equalityFn:o}:o,{store:p,subscription:m,getServerState:_,stabilityCheck:E,noopCheck:T}=e();te.useRef(!0);const P=te.useCallback({[i.name](O){return i(O)}}[i.name],[i,E,c]),D=aE(m.addNestedSub,p.getState,_||p.getState,P,l);return te.useDebugValue(D),D}}const bd=OS();var ad={exports:{}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function bS(){if(Gy)return je;Gy=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,m=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,E=n?Symbol.for("react.suspense"):60113,T=n?Symbol.for("react.suspense_list"):60120,P=n?Symbol.for("react.memo"):60115,D=n?Symbol.for("react.lazy"):60116,O=n?Symbol.for("react.block"):60121,S=n?Symbol.for("react.fundamental"):60117,Q=n?Symbol.for("react.responder"):60118,W=n?Symbol.for("react.scope"):60119;function H(K){if(typeof K=="object"&&K!==null){var he=K.$$typeof;switch(he){case e:switch(K=K.type,K){case p:case m:case i:case l:case o:case E:return K;default:switch(K=K&&K.$$typeof,K){case d:case _:case D:case P:case c:return K;default:return he}}case t:return he}}}function ie(K){return H(K)===m}return je.AsyncMode=p,je.ConcurrentMode=m,je.ContextConsumer=d,je.ContextProvider=c,je.Element=e,je.ForwardRef=_,je.Fragment=i,je.Lazy=D,je.Memo=P,je.Portal=t,je.Profiler=l,je.StrictMode=o,je.Suspense=E,je.isAsyncMode=function(K){return ie(K)||H(K)===p},je.isConcurrentMode=ie,je.isContextConsumer=function(K){return H(K)===d},je.isContextProvider=function(K){return H(K)===c},je.isElement=function(K){return typeof K=="object"&&K!==null&&K.$$typeof===e},je.isForwardRef=function(K){return H(K)===_},je.isFragment=function(K){return H(K)===i},je.isLazy=function(K){return H(K)===D},je.isMemo=function(K){return H(K)===P},je.isPortal=function(K){return H(K)===t},je.isProfiler=function(K){return H(K)===l},je.isStrictMode=function(K){return H(K)===o},je.isSuspense=function(K){return H(K)===E},je.isValidElementType=function(K){return typeof K=="string"||typeof K=="function"||K===i||K===m||K===l||K===o||K===E||K===T||typeof K=="object"&&K!==null&&(K.$$typeof===D||K.$$typeof===P||K.$$typeof===c||K.$$typeof===d||K.$$typeof===_||K.$$typeof===S||K.$$typeof===Q||K.$$typeof===W||K.$$typeof===O)},je.typeOf=H,je}var Qy;function DS(){return Qy||(Qy=1,ad.exports=bS()),ad.exports}var ld,Xy;function VS(){if(Xy)return ld;Xy=1;var n=DS(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[n.ForwardRef]=i,l[n.Memo]=o;function c(D){return n.isMemo(D)?o:l[D.$$typeof]||e}var d=Object.defineProperty,p=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,T=Object.prototype;function P(D,O,S){if(typeof O!="string"){if(T){var Q=E(O);Q&&Q!==T&&P(D,Q,S)}var W=p(O);m&&(W=W.concat(m(O)));for(var H=c(D),ie=c(O),K=0;K<W.length;++K){var he=W[K];if(!t[he]&&!(S&&S[he])&&!(ie&&ie[he])&&!(H&&H[he])){var N=_(O,he);try{d(D,he,N)}catch{}}}}return D}return ld=P,ld}VS();var ud={exports:{}},Be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function LS(){if(Yy)return Be;Yy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),D;D=Symbol.for("react.module.reference");function O(S){if(typeof S=="object"&&S!==null){var Q=S.$$typeof;switch(Q){case n:switch(S=S.type,S){case t:case o:case i:case m:case _:return S;default:switch(S=S&&S.$$typeof,S){case d:case c:case p:case T:case E:case l:return S;default:return Q}}case e:return Q}}}return Be.ContextConsumer=c,Be.ContextProvider=l,Be.Element=n,Be.ForwardRef=p,Be.Fragment=t,Be.Lazy=T,Be.Memo=E,Be.Portal=e,Be.Profiler=o,Be.StrictMode=i,Be.Suspense=m,Be.SuspenseList=_,Be.isAsyncMode=function(){return!1},Be.isConcurrentMode=function(){return!1},Be.isContextConsumer=function(S){return O(S)===c},Be.isContextProvider=function(S){return O(S)===l},Be.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===n},Be.isForwardRef=function(S){return O(S)===p},Be.isFragment=function(S){return O(S)===t},Be.isLazy=function(S){return O(S)===T},Be.isMemo=function(S){return O(S)===E},Be.isPortal=function(S){return O(S)===e},Be.isProfiler=function(S){return O(S)===o},Be.isStrictMode=function(S){return O(S)===i},Be.isSuspense=function(S){return O(S)===m},Be.isSuspenseList=function(S){return O(S)===_},Be.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===t||S===o||S===i||S===m||S===_||S===P||typeof S=="object"&&S!==null&&(S.$$typeof===T||S.$$typeof===E||S.$$typeof===l||S.$$typeof===c||S.$$typeof===p||S.$$typeof===D||S.getModuleId!==void 0)},Be.typeOf=O,Be}var Jy;function MS(){return Jy||(Jy=1,ud.exports=LS()),ud.exports}MS();function FS(){const n=PS();let e=null,t=null;return{clear(){e=null,t=null},notify(){n(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],o=e;for(;o;)i.push(o),o=o.next;return i},subscribe(i){let o=!0,l=t={callback:i,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!o||e===null||(o=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}const Zy={notify(){},get:()=>[]};function US(n,e){let t,i=Zy,o=0,l=!1;function c(O){_();const S=i.subscribe(O);let Q=!1;return()=>{Q||(Q=!0,S(),E())}}function d(){i.notify()}function p(){D.onStateChange&&D.onStateChange()}function m(){return l}function _(){o++,t||(t=n.subscribe(p),i=FS())}function E(){o--,t&&o===0&&(t(),t=void 0,i.clear(),i=Zy)}function T(){l||(l=!0,_())}function P(){l&&(l=!1,E())}const D={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:m,trySubscribe:T,tryUnsubscribe:P,getListeners:()=>i};return D}const jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BS=jS?te.useLayoutEffect:te.useEffect;function zS({store:n,context:e,children:t,serverState:i,stabilityCheck:o="once",noopCheck:l="once"}){const c=te.useMemo(()=>{const m=US(n);return{store:n,subscription:m,getServerState:i?()=>i:void 0,stabilityCheck:o,noopCheck:l}},[n,i,o,l]),d=te.useMemo(()=>n.getState(),[n]);BS(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==n.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,d]);const p=e||Mi;return te.createElement(p.Provider,{value:c},t)}function lE(n=Mi){const e=n===Mi?oE:mp(n);return function(){const{store:i}=e();return i}}const $S=lE();function qS(n=Mi){const e=n===Mi?$S:lE(n);return function(){return e().dispatch}}const Go=qS();NS(SS.useSyncExternalStoreWithSelector);RS(gI.unstable_batchedUpdates);function Vn(n){for(var e=arguments.length,t=Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map((function(o){return"'"+o+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Fi(n){return!!n&&!!n[tt]}function Vr(n){var e;return!!n&&((function(t){if(!t||typeof t!="object")return!1;var i=Object.getPrototypeOf(t);if(i===null)return!0;var o=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===ZS})(n)||Array.isArray(n)||!!n[ov]||!!(!((e=n.constructor)===null||e===void 0)&&e[ov])||gp(n)||yp(n))}function Cs(n,e,t){t===void 0&&(t=!1),Qo(n)===0?(t?Object.keys:Oo)(n).forEach((function(i){t&&typeof i=="symbol"||e(i,n[i],n)})):n.forEach((function(i,o){return e(o,i,n)}))}function Qo(n){var e=n[tt];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:gp(n)?2:yp(n)?3:0}function xo(n,e){return Qo(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function WS(n,e){return Qo(n)===2?n.get(e):n[e]}function uE(n,e,t){var i=Qo(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function cE(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e}function gp(n){return YS&&n instanceof Map}function yp(n){return JS&&n instanceof Set}function Is(n){return n.o||n.t}function vp(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=fE(n);delete e[tt];for(var t=Oo(e),i=0;i<t.length;i++){var o=t[i],l=e[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(e[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:n[o]})}return Object.create(Object.getPrototypeOf(n),e)}function _p(n,e){return e===void 0&&(e=!1),Ep(n)||Fi(n)||!Vr(n)||(Qo(n)>1&&(n.set=n.add=n.clear=n.delete=HS),Object.freeze(n),e&&Cs(n,(function(t,i){return _p(i,!0)}),!0)),n}function HS(){Vn(2)}function Ep(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function sr(n){var e=Md[n];return e||Vn(18,n),e}function KS(n,e){Md[n]||(Md[n]=e)}function Dd(){return gl}function cd(n,e){e&&(sr("Patches"),n.u=[],n.s=[],n.v=e)}function Cc(n){Vd(n),n.p.forEach(GS),n.p=null}function Vd(n){n===gl&&(gl=n.l)}function ev(n){return gl={p:[],l:gl,h:n,m:!0,_:0}}function GS(n){var e=n[tt];e.i===0||e.i===1?e.j():e.g=!0}function hd(n,e){e._=e.p.length;var t=e.p[0],i=n!==void 0&&n!==t;return e.h.O||sr("ES5").S(e,n,i),i?(t[tt].P&&(Cc(e),Vn(4)),Vr(n)&&(n=kc(e,n),e.l||Nc(e,n)),e.u&&sr("Patches").M(t[tt].t,n,e.u,e.s)):n=kc(e,t,[]),Cc(e),e.u&&e.v(e.u,e.s),n!==hE?n:void 0}function kc(n,e,t){if(Ep(e))return e;var i=e[tt];if(!i)return Cs(e,(function(d,p){return tv(n,i,e,d,p,t)}),!0),e;if(i.A!==n)return e;if(!i.P)return Nc(n,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var o=i.i===4||i.i===5?i.o=vp(i.k):i.o,l=o,c=!1;i.i===3&&(l=new Set(o),o.clear(),c=!0),Cs(l,(function(d,p){return tv(n,i,o,d,p,t,c)})),Nc(n,o,!1),t&&n.u&&sr("Patches").N(i,t,n.u,n.s)}return i.o}function tv(n,e,t,i,o,l,c){if(Fi(o)){var d=kc(n,o,l&&e&&e.i!==3&&!xo(e.R,i)?l.concat(i):void 0);if(uE(t,i,d),!Fi(d))return;n.m=!1}else c&&t.add(o);if(Vr(o)&&!Ep(o)){if(!n.h.D&&n._<1)return;kc(n,o),e&&e.A.l||Nc(n,o)}}function Nc(n,e,t){t===void 0&&(t=!1),!n.l&&n.h.D&&n.m&&_p(e,t)}function fd(n,e){var t=n[tt];return(t?Is(t):n)[e]}function nv(n,e){if(e in n)for(var t=Object.getPrototypeOf(n);t;){var i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Object.getPrototypeOf(t)}}function wi(n){n.P||(n.P=!0,n.l&&wi(n.l))}function dd(n){n.o||(n.o=vp(n.t))}function Ld(n,e,t){var i=gp(e)?sr("MapSet").F(e,t):yp(e)?sr("MapSet").T(e,t):n.O?(function(o,l){var c=Array.isArray(o),d={i:c?1:0,A:l?l.A:Dd(),P:!1,I:!1,R:{},l,t:o,k:null,o:null,j:null,C:!1},p=d,m=yl;c&&(p=[d],m=el);var _=Proxy.revocable(p,m),E=_.revoke,T=_.proxy;return d.k=T,d.j=E,T})(e,t):sr("ES5").J(e,t);return(t?t.A:Dd()).p.push(i),i}function QS(n){return Fi(n)||Vn(22,n),(function e(t){if(!Vr(t))return t;var i,o=t[tt],l=Qo(t);if(o){if(!o.P&&(o.i<4||!sr("ES5").K(o)))return o.t;o.I=!0,i=rv(t,l),o.I=!1}else i=rv(t,l);return Cs(i,(function(c,d){o&&WS(o.t,c)===d||uE(i,c,e(d))})),l===3?new Set(i):i})(n)}function rv(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return vp(n)}function XS(){function n(l,c){var d=o[l];return d?d.enumerable=c:o[l]=d={configurable:!0,enumerable:c,get:function(){var p=this[tt];return yl.get(p,l)},set:function(p){var m=this[tt];yl.set(m,l,p)}},d}function e(l){for(var c=l.length-1;c>=0;c--){var d=l[c][tt];if(!d.P)switch(d.i){case 5:i(d)&&wi(d);break;case 4:t(d)&&wi(d)}}}function t(l){for(var c=l.t,d=l.k,p=Oo(d),m=p.length-1;m>=0;m--){var _=p[m];if(_!==tt){var E=c[_];if(E===void 0&&!xo(c,_))return!0;var T=d[_],P=T&&T[tt];if(P?P.t!==E:!cE(T,E))return!0}}var D=!!c[tt];return p.length!==Oo(c).length+(D?0:1)}function i(l){var c=l.k;if(c.length!==l.t.length)return!0;var d=Object.getOwnPropertyDescriptor(c,c.length-1);if(d&&!d.get)return!0;for(var p=0;p<c.length;p++)if(!c.hasOwnProperty(p))return!0;return!1}var o={};KS("ES5",{J:function(l,c){var d=Array.isArray(l),p=(function(_,E){if(_){for(var T=Array(E.length),P=0;P<E.length;P++)Object.defineProperty(T,""+P,n(P,!0));return T}var D=fE(E);delete D[tt];for(var O=Oo(D),S=0;S<O.length;S++){var Q=O[S];D[Q]=n(Q,_||!!D[Q].enumerable)}return Object.create(Object.getPrototypeOf(E),D)})(d,l),m={i:d?5:4,A:c?c.A:Dd(),P:!1,I:!1,R:{},l:c,t:l,k:p,o:null,g:!1,C:!1};return Object.defineProperty(p,tt,{value:m,writable:!0}),p},S:function(l,c,d){d?Fi(c)&&c[tt].A===l&&e(l.p):(l.u&&(function p(m){if(m&&typeof m=="object"){var _=m[tt];if(_){var E=_.t,T=_.k,P=_.R,D=_.i;if(D===4)Cs(T,(function(H){H!==tt&&(E[H]!==void 0||xo(E,H)?P[H]||p(T[H]):(P[H]=!0,wi(_)))})),Cs(E,(function(H){T[H]!==void 0||xo(T,H)||(P[H]=!1,wi(_))}));else if(D===5){if(i(_)&&(wi(_),P.length=!0),T.length<E.length)for(var O=T.length;O<E.length;O++)P[O]=!1;else for(var S=E.length;S<T.length;S++)P[S]=!0;for(var Q=Math.min(T.length,E.length),W=0;W<Q;W++)T.hasOwnProperty(W)||(P[W]=!0),P[W]===void 0&&p(T[W])}}}})(l.p[0]),e(l.p))},K:function(l){return l.i===4?t(l):i(l)}})}var iv,gl,wp=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",YS=typeof Map<"u",JS=typeof Set<"u",sv=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",hE=wp?Symbol.for("immer-nothing"):((iv={})["immer-nothing"]=!0,iv),ov=wp?Symbol.for("immer-draftable"):"__$immer_draftable",tt=wp?Symbol.for("immer-state"):"__$immer_state",ZS=""+Object.prototype.constructor,Oo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,fE=Object.getOwnPropertyDescriptors||function(n){var e={};return Oo(n).forEach((function(t){e[t]=Object.getOwnPropertyDescriptor(n,t)})),e},Md={},yl={get:function(n,e){if(e===tt)return n;var t=Is(n);if(!xo(t,e))return(function(o,l,c){var d,p=nv(l,c);return p?"value"in p?p.value:(d=p.get)===null||d===void 0?void 0:d.call(o.k):void 0})(n,t,e);var i=t[e];return n.I||!Vr(i)?i:i===fd(n.t,e)?(dd(n),n.o[e]=Ld(n.A.h,i,n)):i},has:function(n,e){return e in Is(n)},ownKeys:function(n){return Reflect.ownKeys(Is(n))},set:function(n,e,t){var i=nv(Is(n),e);if(i?.set)return i.set.call(n.k,t),!0;if(!n.P){var o=fd(Is(n),e),l=o?.[tt];if(l&&l.t===t)return n.o[e]=t,n.R[e]=!1,!0;if(cE(t,o)&&(t!==void 0||xo(n.t,e)))return!0;dd(n),wi(n)}return n.o[e]===t&&(t!==void 0||e in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[e])||(n.o[e]=t,n.R[e]=!0),!0},deleteProperty:function(n,e){return fd(n.t,e)!==void 0||e in n.t?(n.R[e]=!1,dd(n),wi(n)):delete n.R[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var t=Is(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.i!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty:function(){Vn(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){Vn(12)}},el={};Cs(yl,(function(n,e){el[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),el.deleteProperty=function(n,e){return el.set.call(this,n,e,void 0)},el.set=function(n,e,t){return yl.set.call(this,n[0],e,t,n[0])};var e1=(function(){function n(t){var i=this;this.O=sv,this.D=!0,this.produce=function(o,l,c){if(typeof o=="function"&&typeof l!="function"){var d=l;l=o;var p=i;return function(O){var S=this;O===void 0&&(O=d);for(var Q=arguments.length,W=Array(Q>1?Q-1:0),H=1;H<Q;H++)W[H-1]=arguments[H];return p.produce(O,(function(ie){var K;return(K=l).call.apply(K,[S,ie].concat(W))}))}}var m;if(typeof l!="function"&&Vn(6),c!==void 0&&typeof c!="function"&&Vn(7),Vr(o)){var _=ev(i),E=Ld(i,o,void 0),T=!0;try{m=l(E),T=!1}finally{T?Cc(_):Vd(_)}return typeof Promise<"u"&&m instanceof Promise?m.then((function(O){return cd(_,c),hd(O,_)}),(function(O){throw Cc(_),O})):(cd(_,c),hd(m,_))}if(!o||typeof o!="object"){if((m=l(o))===void 0&&(m=o),m===hE&&(m=void 0),i.D&&_p(m,!0),c){var P=[],D=[];sr("Patches").M(o,m,P,D),c(P,D)}return m}Vn(21,o)},this.produceWithPatches=function(o,l){if(typeof o=="function")return function(m){for(var _=arguments.length,E=Array(_>1?_-1:0),T=1;T<_;T++)E[T-1]=arguments[T];return i.produceWithPatches(m,(function(P){return o.apply(void 0,[P].concat(E))}))};var c,d,p=i.produce(o,l,(function(m,_){c=m,d=_}));return typeof Promise<"u"&&p instanceof Promise?p.then((function(m){return[m,c,d]})):[p,c,d]},typeof t?.useProxies=="boolean"&&this.setUseProxies(t.useProxies),typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=n.prototype;return e.createDraft=function(t){Vr(t)||Vn(8),Fi(t)&&(t=QS(t));var i=ev(this),o=Ld(this,t,void 0);return o[tt].C=!0,Vd(i),o},e.finishDraft=function(t,i){var o=t&&t[tt],l=o.A;return cd(l,i),hd(void 0,l)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!sv&&Vn(20),this.O=t},e.applyPatches=function(t,i){var o;for(o=i.length-1;o>=0;o--){var l=i[o];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}o>-1&&(i=i.slice(o+1));var c=sr("Patches").$;return Fi(t)?c(t,i):this.produce(t,(function(d){return c(d,i)}))},n})(),pn=new e1,dE=pn.produce;pn.produceWithPatches.bind(pn);pn.setAutoFreeze.bind(pn);pn.setUseProxies.bind(pn);pn.applyPatches.bind(pn);pn.createDraft.bind(pn);pn.finishDraft.bind(pn);function vl(n){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(n)}function t1(n,e){if(vl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(vl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function n1(n){var e=t1(n,"string");return vl(e)=="symbol"?e:e+""}function r1(n,e,t){return(e=n1(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function av(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function lv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?av(Object(t),!0).forEach(function(i){r1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):av(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function zt(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var uv=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),pd=function(){return Math.random().toString(36).substring(7).split("").join(".")},xc={INIT:"@@redux/INIT"+pd(),REPLACE:"@@redux/REPLACE"+pd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+pd()}};function i1(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function pE(n,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(zt(1));return t(pE)(n,e)}if(typeof n!="function")throw new Error(zt(2));var o=n,l=e,c=[],d=c,p=!1;function m(){d===c&&(d=c.slice())}function _(){if(p)throw new Error(zt(3));return l}function E(O){if(typeof O!="function")throw new Error(zt(4));if(p)throw new Error(zt(5));var S=!0;return m(),d.push(O),function(){if(S){if(p)throw new Error(zt(6));S=!1,m();var W=d.indexOf(O);d.splice(W,1),c=null}}}function T(O){if(!i1(O))throw new Error(zt(7));if(typeof O.type>"u")throw new Error(zt(8));if(p)throw new Error(zt(9));try{p=!0,l=o(l,O)}finally{p=!1}for(var S=c=d,Q=0;Q<S.length;Q++){var W=S[Q];W()}return O}function P(O){if(typeof O!="function")throw new Error(zt(10));o=O,T({type:xc.REPLACE})}function D(){var O,S=E;return O={subscribe:function(W){if(typeof W!="object"||W===null)throw new Error(zt(11));function H(){W.next&&W.next(_())}H();var ie=S(H);return{unsubscribe:ie}}},O[uv]=function(){return this},O}return T({type:xc.INIT}),i={dispatch:T,subscribe:E,getState:_,replaceReducer:P},i[uv]=D,i}function s1(n){Object.keys(n).forEach(function(e){var t=n[e],i=t(void 0,{type:xc.INIT});if(typeof i>"u")throw new Error(zt(12));if(typeof t(void 0,{type:xc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function o1(n){for(var e=Object.keys(n),t={},i=0;i<e.length;i++){var o=e[i];typeof n[o]=="function"&&(t[o]=n[o])}var l=Object.keys(t),c;try{s1(t)}catch(d){c=d}return function(p,m){if(p===void 0&&(p={}),c)throw c;for(var _=!1,E={},T=0;T<l.length;T++){var P=l[T],D=t[P],O=p[P],S=D(O,m);if(typeof S>"u")throw m&&m.type,new Error(zt(14));E[P]=S,_=_||S!==O}return _=_||l.length!==Object.keys(p).length,_?E:p}}function Oc(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,o){return function(){return i(o.apply(void 0,arguments))}})}function a1(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return function(){var o=i.apply(void 0,arguments),l=function(){throw new Error(zt(15))},c={getState:o.getState,dispatch:function(){return l.apply(void 0,arguments)}},d=e.map(function(p){return p(c)});return l=Oc.apply(void 0,d)(o.dispatch),lv(lv({},o),{},{dispatch:l})}}}function mE(n){var e=function(i){var o=i.dispatch,l=i.getState;return function(c){return function(d){return typeof d=="function"?d(o,l,n):c(d)}}};return e}var Fd=mE();Fd.withExtraArgument=mE;var gE=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}})(),l1=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(_){return p([m,_])}}function p(m){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,o=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){t.label=m[1];break}if(m[0]===6&&t.label<l[1]){t.label=l[1],l=m;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(m);break}l[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(_){m=[6,_],o=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Uo=function(n,e){for(var t=0,i=e.length,o=n.length;t<i;t++,o++)n[o]=e[t];return n},u1=Object.defineProperty,c1=Object.defineProperties,h1=Object.getOwnPropertyDescriptors,cv=Object.getOwnPropertySymbols,f1=Object.prototype.hasOwnProperty,d1=Object.prototype.propertyIsEnumerable,hv=function(n,e,t){return e in n?u1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},ki=function(n,e){for(var t in e||(e={}))f1.call(e,t)&&hv(n,t,e[t]);if(cv)for(var i=0,o=cv(e);i<o.length;i++){var t=o[i];d1.call(e,t)&&hv(n,t,e[t])}return n},md=function(n,e){return c1(n,h1(e))},p1=function(n,e,t){return new Promise(function(i,o){var l=function(p){try{d(t.next(p))}catch(m){o(m)}},c=function(p){try{d(t.throw(p))}catch(m){o(m)}},d=function(p){return p.done?i(p.value):Promise.resolve(p.value).then(l,c)};d((t=t.apply(n,e)).next())})},m1=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Oc:Oc.apply(null,arguments)};function g1(n){if(typeof n!="object"||n===null)return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return e===t}function Ni(n,e){function t(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(e){var l=e.apply(void 0,i);if(!l)throw new Error("prepareAction did not return an object");return ki(ki({type:n,payload:l.payload},"meta"in l&&{meta:l.meta}),"error"in l&&{error:l.error})}return{type:n,payload:i[0]}}return t.toString=function(){return""+n},t.type=n,t.match=function(i){return i.type===n},t}var y1=(function(n){gE(e,n);function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=n.apply(this,t)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Uo([void 0],t[0].concat(this)))):new(e.bind.apply(e,Uo([void 0],t.concat(this))))},e})(Array),v1=(function(n){gE(e,n);function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=n.apply(this,t)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Uo([void 0],t[0].concat(this)))):new(e.bind.apply(e,Uo([void 0],t.concat(this))))},e})(Array);function Ud(n){return Vr(n)?dE(n,function(){}):n}function _1(n){return typeof n=="boolean"}function E1(){return function(e){return w1(e)}}function w1(n){n===void 0&&(n={});var e=n.thunk,t=e===void 0?!0:e;n.immutableCheck,n.serializableCheck,n.actionCreatorCheck;var i=new y1;return t&&(_1(t)?i.push(Fd):i.push(Fd.withExtraArgument(t.extraArgument))),i}function T1(n){var e=E1(),t=n||{},i=t.reducer,o=i===void 0?void 0:i,l=t.middleware,c=l===void 0?e():l,d=t.devTools,p=d===void 0?!0:d,m=t.preloadedState,_=m===void 0?void 0:m,E=t.enhancers,T=E===void 0?void 0:E,P;if(typeof o=="function")P=o;else if(g1(o))P=o1(o);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var D=c;typeof D=="function"&&(D=D(e));var O=a1.apply(void 0,D),S=Oc;p&&(S=m1(ki({trace:!1},typeof p=="object"&&p)));var Q=new v1(O),W=Q;Array.isArray(T)?W=Uo([O],T):typeof T=="function"&&(W=T(Q));var H=S.apply(void 0,W);return pE(P,_,H)}function yE(n){var e={},t=[],i,o={addCase:function(l,c){var d=typeof l=="string"?l:l.type;if(!d)throw new Error("`builder.addCase` cannot be called with an empty action type");if(d in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[d]=c,o},addMatcher:function(l,c){return t.push({matcher:l,reducer:c}),o},addDefaultCase:function(l){return i=l,o}};return n(o),[e,t,i]}function I1(n){return typeof n=="function"}function S1(n,e,t,i){t===void 0&&(t=[]);var o=typeof e=="function"?yE(e):[e,t,i],l=o[0],c=o[1],d=o[2],p;if(I1(n))p=function(){return Ud(n())};else{var m=Ud(n);p=function(){return m}}function _(E,T){E===void 0&&(E=p());var P=Uo([l[T.type]],c.filter(function(D){var O=D.matcher;return O(T)}).map(function(D){var O=D.reducer;return O}));return P.filter(function(D){return!!D}).length===0&&(P=[d]),P.reduce(function(D,O){if(O)if(Fi(D)){var S=D,Q=O(S,T);return Q===void 0?D:Q}else{if(Vr(D))return dE(D,function(W){return O(W,T)});var Q=O(D,T);if(Q===void 0){if(D===null)return D;throw Error("A case reducer on a non-draftable value must not return undefined")}return Q}return D},E)}return _.getInitialState=p,_}function A1(n,e){return n+"/"+e}function vE(n){var e=n.name;if(!e)throw new Error("`name` is a required option for createSlice");var t=typeof n.initialState=="function"?n.initialState:Ud(n.initialState),i=n.reducers||{},o=Object.keys(i),l={},c={},d={};o.forEach(function(_){var E=i[_],T=A1(e,_),P,D;"reducer"in E?(P=E.reducer,D=E.prepare):P=E,l[_]=P,c[T]=P,d[_]=D?Ni(T,D):Ni(T)});function p(){var _=typeof n.extraReducers=="function"?yE(n.extraReducers):[n.extraReducers],E=_[0],T=E===void 0?{}:E,P=_[1],D=P===void 0?[]:P,O=_[2],S=O===void 0?void 0:O,Q=ki(ki({},T),c);return S1(t,function(W){for(var H in Q)W.addCase(H,Q[H]);for(var ie=0,K=D;ie<K.length;ie++){var he=K[ie];W.addMatcher(he.matcher,he.reducer)}S&&W.addDefaultCase(S)})}var m;return{name:e,reducer:function(_,E){return m||(m=p()),m(_,E)},actions:d,caseReducers:l,getInitialState:function(){return m||(m=p()),m.getInitialState()}}}var R1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P1=function(n){n===void 0&&(n=21);for(var e="",t=n;t--;)e+=R1[Math.random()*64|0];return e},C1=["name","message","stack","code"],gd=(function(){function n(e,t){this.payload=e,this.meta=t}return n})(),fv=(function(){function n(e,t){this.payload=e,this.meta=t}return n})(),k1=function(n){if(typeof n=="object"&&n!==null){for(var e={},t=0,i=C1;t<i.length;t++){var o=i[t];typeof n[o]=="string"&&(e[o]=n[o])}return e}return{message:String(n)}},oh=(function(){function n(e,t,i){var o=Ni(e+"/fulfilled",function(m,_,E,T){return{payload:m,meta:md(ki({},T||{}),{arg:E,requestId:_,requestStatus:"fulfilled"})}}),l=Ni(e+"/pending",function(m,_,E){return{payload:void 0,meta:md(ki({},E||{}),{arg:_,requestId:m,requestStatus:"pending"})}}),c=Ni(e+"/rejected",function(m,_,E,T,P){return{payload:T,error:(i&&i.serializeError||k1)(m||"Rejected"),meta:md(ki({},P||{}),{arg:E,requestId:_,rejectedWithValue:!!T,requestStatus:"rejected",aborted:m?.name==="AbortError",condition:m?.name==="ConditionError"})}}),d=typeof AbortController<"u"?AbortController:(function(){function m(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return m.prototype.abort=function(){},m})();function p(m){return function(_,E,T){var P=i?.idGenerator?i.idGenerator(m):P1(),D=new d,O;function S(W){O=W,D.abort()}var Q=(function(){return p1(this,null,function(){var W,H,ie,K,he,N,A;return l1(this,function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),K=(W=i?.condition)==null?void 0:W.call(i,m,{getState:E,extra:T}),x1(K)?[4,K]:[3,2];case 1:K=k.sent(),k.label=2;case 2:if(K===!1||D.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return he=new Promise(function(V,b){return D.signal.addEventListener("abort",function(){return b({name:"AbortError",message:O||"Aborted"})})}),_(l(P,m,(H=i?.getPendingMeta)==null?void 0:H.call(i,{requestId:P,arg:m},{getState:E,extra:T}))),[4,Promise.race([he,Promise.resolve(t(m,{dispatch:_,getState:E,extra:T,requestId:P,signal:D.signal,abort:S,rejectWithValue:function(V,b){return new gd(V,b)},fulfillWithValue:function(V,b){return new fv(V,b)}})).then(function(V){if(V instanceof gd)throw V;return V instanceof fv?o(V.payload,P,m,V.meta):o(V,P,m)})])];case 3:return ie=k.sent(),[3,5];case 4:return N=k.sent(),ie=N instanceof gd?c(null,P,m,N.payload,N.meta):c(N,P,m),[3,5];case 5:return A=i&&!i.dispatchConditionRejection&&c.match(ie)&&ie.meta.condition,A||_(ie),[2,ie]}})})})();return Object.assign(Q,{abort:S,requestId:P,arg:m,unwrap:function(){return Q.then(N1)}})}}return Object.assign(p,{pending:l,rejected:c,fulfilled:o,typePrefix:e})}return n.withTypes=function(){return n},n})();function N1(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function x1(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var Tp="listenerMiddleware";Ni(Tp+"/add");Ni(Tp+"/removeAll");Ni(Tp+"/remove");var dv;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);XS();const O1=()=>{};var pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},b1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},EE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,m=p?n[o+2]:0,_=l>>2,E=(l&3)<<4|d>>4;let T=(d&15)<<2|m>>6,P=m&63;p||(P=64,c||(T=64)),i.push(t[_],t[E],t[T],t[P])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_E(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):b1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||m==null||E==null)throw new D1;const T=l<<2|d>>4;if(i.push(T),m!==64){const P=d<<4&240|m>>2;if(i.push(P),E!==64){const D=m<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class D1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V1=function(n){const e=_E(n);return EE.encodeByteArray(e,!0)},bc=function(n){return V1(n).replace(/\./g,"")},wE=function(n){try{return EE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=()=>L1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof pv>"u")return;const n=pv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},U1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&wE(n[1]);return e&&JSON.parse(e)},ah=()=>{try{return O1()||M1()||F1()||U1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TE=n=>ah()?.emulatorHosts?.[n],j1=n=>{const e=TE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},IE=()=>ah()?.config,SE=n=>ah()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[bc(JSON.stringify(t)),bc(JSON.stringify(c)),""].join(".")}const ll={};function $1(){const n={prod:[],emulator:[]};for(const e of Object.keys(ll))ll[e]?n.emulator.push(e):n.prod.push(e);return n}function q1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let mv=!1;function RE(n,e){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||ll[n]===e||ll[n]||mv)return;ll[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=$1().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,P){T.setAttribute("width","24"),T.setAttribute("id",P),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{mv=!0,c()},T}function _(T,P){T.setAttribute("id",P),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=q1(i),P=t("text"),D=document.getElementById(P)||document.createElement("span"),O=t("learnmore"),S=document.getElementById(O)||document.createElement("a"),Q=t("preprendIcon"),W=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),_(S,O);const ie=m();p(W,Q),H.append(W,D,S,ie),document.body.appendChild(H)}l?(D.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function H1(){const n=ah()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X1(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Y1(){return!H1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J1(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="FirebaseError";class Br extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=eA,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?tA(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Br(o,d,i)}}function tA(n,e){return n.replace(nA,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const nA=/\{\$([^}]+)}/g;function rA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ks(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(gv(l)&&gv(c)){if(!ks(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function gv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function tl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function nl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function iA(n,e){const t=new sA(n,e);return t.subscribe.bind(t)}class sA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");oA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=yd),o.error===void 0&&(o.error=yd),o.complete===void 0&&(o.complete=yd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n){return n&&n._delegate?n._delegate:n}class Ns{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new B1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uA(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lA(n){return n===Ss?void 0:n}function uA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ne||(Ne={}));const hA={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},fA=Ne.INFO,dA={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},pA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=dA[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=fA,this._logHandler=pA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const mA=(n,e)=>e.some(t=>n instanceof t);let yv,vv;function gA(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return vv||(vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PE=new WeakMap,jd=new WeakMap,CE=new WeakMap,vd=new WeakMap,Sp=new WeakMap;function vA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(xi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&PE.set(t,n)}).catch(()=>{}),Sp.set(e,n),e}function _A(n){if(jd.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});jd.set(n,e)}let Bd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function EA(n){Bd=n(Bd)}function wA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_d(this),e,...t);return CE.set(i,e.sort?e.sort():[e]),xi(i)}:yA().includes(n)?function(...e){return n.apply(_d(this),e),xi(PE.get(this))}:function(...e){return xi(n.apply(_d(this),e))}}function TA(n){return typeof n=="function"?wA(n):(n instanceof IDBTransaction&&_A(n),mA(n,gA())?new Proxy(n,Bd):n)}function xi(n){if(n instanceof IDBRequest)return vA(n);if(vd.has(n))return vd.get(n);const e=TA(n);return e!==n&&(vd.set(n,e),Sp.set(e,n)),e}const _d=n=>Sp.get(n);function IA(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=xi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(xi(c.result),p.oldVersion,p.newVersion,xi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const SA=["get","getKey","getAll","getAllKeys","count"],AA=["put","add","delete","clear"],Ed=new Map;function _v(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ed.get(e))return Ed.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=AA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||SA.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&p.done]))[0]};return Ed.set(e,l),l}EA(n=>({...n,get:(e,t,i)=>_v(e,t)||n.get(e,t,i),has:(e,t)=>!!_v(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function PA(n){return n.getComponent()?.type==="VERSION"}const zd="@firebase/app",Ev="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Ip("@firebase/app"),CA="@firebase/app-compat",kA="@firebase/analytics-compat",NA="@firebase/analytics",xA="@firebase/app-check-compat",OA="@firebase/app-check",bA="@firebase/auth",DA="@firebase/auth-compat",VA="@firebase/database",LA="@firebase/data-connect",MA="@firebase/database-compat",FA="@firebase/functions",UA="@firebase/functions-compat",jA="@firebase/installations",BA="@firebase/installations-compat",zA="@firebase/messaging",$A="@firebase/messaging-compat",qA="@firebase/performance",WA="@firebase/performance-compat",HA="@firebase/remote-config",KA="@firebase/remote-config-compat",GA="@firebase/storage",QA="@firebase/storage-compat",XA="@firebase/firestore",YA="@firebase/ai",JA="@firebase/firestore-compat",ZA="firebase",eR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",tR={[zd]:"fire-core",[CA]:"fire-core-compat",[NA]:"fire-analytics",[kA]:"fire-analytics-compat",[OA]:"fire-app-check",[xA]:"fire-app-check-compat",[bA]:"fire-auth",[DA]:"fire-auth-compat",[VA]:"fire-rtdb",[LA]:"fire-data-connect",[MA]:"fire-rtdb-compat",[FA]:"fire-fn",[UA]:"fire-fn-compat",[jA]:"fire-iid",[BA]:"fire-iid-compat",[zA]:"fire-fcm",[$A]:"fire-fcm-compat",[qA]:"fire-perf",[WA]:"fire-perf-compat",[HA]:"fire-rc",[KA]:"fire-rc-compat",[GA]:"fire-gcs",[QA]:"fire-gcs-compat",[XA]:"fire-fst",[JA]:"fire-fst-compat",[YA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,nR=new Map,qd=new Map;function wv(n,e){try{n.container.addComponent(e)}catch(t){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jo(n){const e=n.name;if(qd.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;qd.set(e,n);for(const t of Dc.values())wv(t,n);for(const t of nR.values())wv(t,n);return!0}function Ap(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function In(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new xl("app","Firebase",rR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=eR;function kE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:$d,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Oi.create("bad-app-name",{appName:String(o)});if(t||(t=IE()),!t)throw Oi.create("no-options");const l=Dc.get(o);if(l){if(ks(t,l.options)&&ks(i,l.config))return l;throw Oi.create("duplicate-app",{appName:o})}const c=new cA(o);for(const p of qd.values())c.addComponent(p);const d=new iR(t,i,c);return Dc.set(o,d),d}function NE(n=$d){const e=Dc.get(n);if(!e&&n===$d&&IE())return kE();if(!e)throw Oi.create("no-app",{appName:n});return e}function bi(n,e,t){let i=tR[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(c.join(" "));return}jo(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",oR=1,_l="firebase-heartbeat-store";let wd=null;function xE(){return wd||(wd=IA(sR,oR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_l)}catch(t){console.warn(t)}}}}).catch(n=>{throw Oi.create("idb-open",{originalErrorMessage:n.message})})),wd}async function aR(n){try{const t=(await xE()).transaction(_l),i=await t.objectStore(_l).get(OE(n));return await t.done,i}catch(e){if(e instanceof Br)Lr.warn(e.message);else{const t=Oi.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(t.message)}}}async function Tv(n,e){try{const i=(await xE()).transaction(_l,"readwrite");await i.objectStore(_l).put(e,OE(n)),await i.done}catch(t){if(t instanceof Br)Lr.warn(t.message);else{const i=Oi.create("idb-set",{originalErrorMessage:t?.message});Lr.warn(i.message)}}}function OE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1024,uR=30;class cR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>uR){const o=dR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Iv(),{heartbeatsToSend:t,unsentEntries:i}=hR(this._heartbeatsCache.heartbeats),o=bc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Lr.warn(e),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function hR(n,e=lR){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Sv(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Sv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class fR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J1()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sv(n){return bc(JSON.stringify({version:2,heartbeats:n})).length}function dR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n){jo(new Ns("platform-logger",e=>new RA(e),"PRIVATE")),jo(new Ns("heartbeat",e=>new cR(e),"PRIVATE")),bi(zd,Ev,n),bi(zd,Ev,"esm2020"),bi("fire-js","")}pR("");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,bE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function k(){}k.prototype=A.prototype,N.F=A.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(V,b,F){for(var C=Array(arguments.length-2),He=2;He<arguments.length;He++)C[He-2]=arguments[He];return A.prototype[b].apply(V,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,k){k||(k=0);const V=Array(16);if(typeof A=="string")for(var b=0;b<16;++b)V[b]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(b=0;b<16;++b)V[b]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=N.g[0],k=N.g[1],b=N.g[2];let F=N.g[3],C;C=A+(F^k&(b^F))+V[0]+3614090360&4294967295,A=k+(C<<7&4294967295|C>>>25),C=F+(b^A&(k^b))+V[1]+3905402710&4294967295,F=A+(C<<12&4294967295|C>>>20),C=b+(k^F&(A^k))+V[2]+606105819&4294967295,b=F+(C<<17&4294967295|C>>>15),C=k+(A^b&(F^A))+V[3]+3250441966&4294967295,k=b+(C<<22&4294967295|C>>>10),C=A+(F^k&(b^F))+V[4]+4118548399&4294967295,A=k+(C<<7&4294967295|C>>>25),C=F+(b^A&(k^b))+V[5]+1200080426&4294967295,F=A+(C<<12&4294967295|C>>>20),C=b+(k^F&(A^k))+V[6]+2821735955&4294967295,b=F+(C<<17&4294967295|C>>>15),C=k+(A^b&(F^A))+V[7]+4249261313&4294967295,k=b+(C<<22&4294967295|C>>>10),C=A+(F^k&(b^F))+V[8]+1770035416&4294967295,A=k+(C<<7&4294967295|C>>>25),C=F+(b^A&(k^b))+V[9]+2336552879&4294967295,F=A+(C<<12&4294967295|C>>>20),C=b+(k^F&(A^k))+V[10]+4294925233&4294967295,b=F+(C<<17&4294967295|C>>>15),C=k+(A^b&(F^A))+V[11]+2304563134&4294967295,k=b+(C<<22&4294967295|C>>>10),C=A+(F^k&(b^F))+V[12]+1804603682&4294967295,A=k+(C<<7&4294967295|C>>>25),C=F+(b^A&(k^b))+V[13]+4254626195&4294967295,F=A+(C<<12&4294967295|C>>>20),C=b+(k^F&(A^k))+V[14]+2792965006&4294967295,b=F+(C<<17&4294967295|C>>>15),C=k+(A^b&(F^A))+V[15]+1236535329&4294967295,k=b+(C<<22&4294967295|C>>>10),C=A+(b^F&(k^b))+V[1]+4129170786&4294967295,A=k+(C<<5&4294967295|C>>>27),C=F+(k^b&(A^k))+V[6]+3225465664&4294967295,F=A+(C<<9&4294967295|C>>>23),C=b+(A^k&(F^A))+V[11]+643717713&4294967295,b=F+(C<<14&4294967295|C>>>18),C=k+(F^A&(b^F))+V[0]+3921069994&4294967295,k=b+(C<<20&4294967295|C>>>12),C=A+(b^F&(k^b))+V[5]+3593408605&4294967295,A=k+(C<<5&4294967295|C>>>27),C=F+(k^b&(A^k))+V[10]+38016083&4294967295,F=A+(C<<9&4294967295|C>>>23),C=b+(A^k&(F^A))+V[15]+3634488961&4294967295,b=F+(C<<14&4294967295|C>>>18),C=k+(F^A&(b^F))+V[4]+3889429448&4294967295,k=b+(C<<20&4294967295|C>>>12),C=A+(b^F&(k^b))+V[9]+568446438&4294967295,A=k+(C<<5&4294967295|C>>>27),C=F+(k^b&(A^k))+V[14]+3275163606&4294967295,F=A+(C<<9&4294967295|C>>>23),C=b+(A^k&(F^A))+V[3]+4107603335&4294967295,b=F+(C<<14&4294967295|C>>>18),C=k+(F^A&(b^F))+V[8]+1163531501&4294967295,k=b+(C<<20&4294967295|C>>>12),C=A+(b^F&(k^b))+V[13]+2850285829&4294967295,A=k+(C<<5&4294967295|C>>>27),C=F+(k^b&(A^k))+V[2]+4243563512&4294967295,F=A+(C<<9&4294967295|C>>>23),C=b+(A^k&(F^A))+V[7]+1735328473&4294967295,b=F+(C<<14&4294967295|C>>>18),C=k+(F^A&(b^F))+V[12]+2368359562&4294967295,k=b+(C<<20&4294967295|C>>>12),C=A+(k^b^F)+V[5]+4294588738&4294967295,A=k+(C<<4&4294967295|C>>>28),C=F+(A^k^b)+V[8]+2272392833&4294967295,F=A+(C<<11&4294967295|C>>>21),C=b+(F^A^k)+V[11]+1839030562&4294967295,b=F+(C<<16&4294967295|C>>>16),C=k+(b^F^A)+V[14]+4259657740&4294967295,k=b+(C<<23&4294967295|C>>>9),C=A+(k^b^F)+V[1]+2763975236&4294967295,A=k+(C<<4&4294967295|C>>>28),C=F+(A^k^b)+V[4]+1272893353&4294967295,F=A+(C<<11&4294967295|C>>>21),C=b+(F^A^k)+V[7]+4139469664&4294967295,b=F+(C<<16&4294967295|C>>>16),C=k+(b^F^A)+V[10]+3200236656&4294967295,k=b+(C<<23&4294967295|C>>>9),C=A+(k^b^F)+V[13]+681279174&4294967295,A=k+(C<<4&4294967295|C>>>28),C=F+(A^k^b)+V[0]+3936430074&4294967295,F=A+(C<<11&4294967295|C>>>21),C=b+(F^A^k)+V[3]+3572445317&4294967295,b=F+(C<<16&4294967295|C>>>16),C=k+(b^F^A)+V[6]+76029189&4294967295,k=b+(C<<23&4294967295|C>>>9),C=A+(k^b^F)+V[9]+3654602809&4294967295,A=k+(C<<4&4294967295|C>>>28),C=F+(A^k^b)+V[12]+3873151461&4294967295,F=A+(C<<11&4294967295|C>>>21),C=b+(F^A^k)+V[15]+530742520&4294967295,b=F+(C<<16&4294967295|C>>>16),C=k+(b^F^A)+V[2]+3299628645&4294967295,k=b+(C<<23&4294967295|C>>>9),C=A+(b^(k|~F))+V[0]+4096336452&4294967295,A=k+(C<<6&4294967295|C>>>26),C=F+(k^(A|~b))+V[7]+1126891415&4294967295,F=A+(C<<10&4294967295|C>>>22),C=b+(A^(F|~k))+V[14]+2878612391&4294967295,b=F+(C<<15&4294967295|C>>>17),C=k+(F^(b|~A))+V[5]+4237533241&4294967295,k=b+(C<<21&4294967295|C>>>11),C=A+(b^(k|~F))+V[12]+1700485571&4294967295,A=k+(C<<6&4294967295|C>>>26),C=F+(k^(A|~b))+V[3]+2399980690&4294967295,F=A+(C<<10&4294967295|C>>>22),C=b+(A^(F|~k))+V[10]+4293915773&4294967295,b=F+(C<<15&4294967295|C>>>17),C=k+(F^(b|~A))+V[1]+2240044497&4294967295,k=b+(C<<21&4294967295|C>>>11),C=A+(b^(k|~F))+V[8]+1873313359&4294967295,A=k+(C<<6&4294967295|C>>>26),C=F+(k^(A|~b))+V[15]+4264355552&4294967295,F=A+(C<<10&4294967295|C>>>22),C=b+(A^(F|~k))+V[6]+2734768916&4294967295,b=F+(C<<15&4294967295|C>>>17),C=k+(F^(b|~A))+V[13]+1309151649&4294967295,k=b+(C<<21&4294967295|C>>>11),C=A+(b^(k|~F))+V[4]+4149444226&4294967295,A=k+(C<<6&4294967295|C>>>26),C=F+(k^(A|~b))+V[11]+3174756917&4294967295,F=A+(C<<10&4294967295|C>>>22),C=b+(A^(F|~k))+V[2]+718787259&4294967295,b=F+(C<<15&4294967295|C>>>17),C=k+(F^(b|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(b+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+b&4294967295,N.g[3]=N.g[3]+F&4294967295}i.prototype.v=function(N,A){A===void 0&&(A=N.length);const k=A-this.blockSize,V=this.C;let b=this.h,F=0;for(;F<A;){if(b==0)for(;F<=k;)o(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<A;)if(V[b++]=N.charCodeAt(F++),b==this.blockSize){o(this,V),b=0;break}}else for(;F<A;)if(V[b++]=N[F++],b==this.blockSize){o(this,V),b=0;break}}this.h=b,this.o+=A},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,k=0;k<4;++k)for(let V=0;V<32;V+=8)N[A++]=this.g[k]>>>V&255;return N};function l(N,A){var k=d;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=A(N)}function c(N,A){this.h=A;const k=[];let V=!0;for(let b=N.length-1;b>=0;b--){const F=N[b]|0;V&&F==A||(k[b]=F,V=!1)}this.g=k}var d={};function p(N){return-128<=N&&N<128?l(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return S(m(-N));const A=[];let k=1;for(let V=0;N>=k;V++)A[V]=N/k|0,k*=4294967296;return new c(A,0)}function _(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return S(_(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=m(Math.pow(A,8));let V=E;for(let F=0;F<N.length;F+=8){var b=Math.min(8,N.length-F);const C=parseInt(N.substring(F,F+b),A);b<8?(b=m(Math.pow(A,b)),V=V.j(b).add(m(C))):(V=V.j(k),V=V.add(m(C)))}return V}var E=p(0),T=p(1),P=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-S(this).m();let N=0,A=1;for(let k=0;k<this.g.length;k++){const V=this.i(k);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(O(this))return"-"+S(this).toString(N);const A=m(Math.pow(N,6));var k=this;let V="";for(;;){const b=ie(k,A).g;k=Q(k,b.j(A));let F=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=b,D(k))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function O(N){return N.h==-1}n.l=function(N){return N=Q(this,N),O(N)?-1:D(N)?0:1};function S(N){const A=N.g.length,k=[];for(let V=0;V<A;V++)k[V]=~N.g[V];return new c(k,~N.h).add(T)}n.abs=function(){return O(this)?S(this):this},n.add=function(N){const A=Math.max(this.g.length,N.g.length),k=[];let V=0;for(let b=0;b<=A;b++){let F=V+(this.i(b)&65535)+(N.i(b)&65535),C=(F>>>16)+(this.i(b)>>>16)+(N.i(b)>>>16);V=C>>>16,F&=65535,C&=65535,k[b]=C<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function Q(N,A){return N.add(S(A))}n.j=function(N){if(D(this)||D(N))return E;if(O(this))return O(N)?S(this).j(S(N)):S(S(this).j(N));if(O(N))return S(this.j(S(N)));if(this.l(P)<0&&N.l(P)<0)return m(this.m()*N.m());const A=this.g.length+N.g.length,k=[];for(var V=0;V<2*A;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(let b=0;b<N.g.length;b++){const F=this.i(V)>>>16,C=this.i(V)&65535,He=N.i(b)>>>16,Tt=N.i(b)&65535;k[2*V+2*b]+=C*Tt,W(k,2*V+2*b),k[2*V+2*b+1]+=F*Tt,W(k,2*V+2*b+1),k[2*V+2*b+1]+=C*He,W(k,2*V+2*b+1),k[2*V+2*b+2]+=F*He,W(k,2*V+2*b+2)}for(N=0;N<A;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=A;N<2*A;N++)k[N]=0;return new c(k,0)};function W(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function H(N,A){this.g=N,this.h=A}function ie(N,A){if(D(A))throw Error("division by zero");if(D(N))return new H(E,E);if(O(N))return A=ie(S(N),A),new H(S(A.g),S(A.h));if(O(A))return A=ie(N,S(A)),new H(S(A.g),A.h);if(N.g.length>30){if(O(N)||O(A))throw Error("slowDivide_ only works with positive integers.");for(var k=T,V=A;V.l(N)<=0;)k=K(k),V=K(V);var b=he(k,1),F=he(V,1);for(V=he(V,2),k=he(k,2);!D(V);){var C=F.add(V);C.l(N)<=0&&(b=b.add(k),F=C),V=he(V,1),k=he(k,1)}return A=Q(N,b.j(A)),new H(b,A)}for(b=E;N.l(A)>=0;){for(k=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=m(k),C=F.j(A);O(C)||C.l(N)>0;)k-=V,F=m(k),C=F.j(A);D(F)&&(F=T),b=b.add(F),N=Q(N,C)}return new H(b,N)}n.B=function(N){return ie(this,N).h},n.and=function(N){const A=Math.max(this.g.length,N.g.length),k=[];for(let V=0;V<A;V++)k[V]=this.i(V)&N.i(V);return new c(k,this.h&N.h)},n.or=function(N){const A=Math.max(this.g.length,N.g.length),k=[];for(let V=0;V<A;V++)k[V]=this.i(V)|N.i(V);return new c(k,this.h|N.h)},n.xor=function(N){const A=Math.max(this.g.length,N.g.length),k=[];for(let V=0;V<A;V++)k[V]=this.i(V)^N.i(V);return new c(k,this.h^N.h)};function K(N){const A=N.g.length+1,k=[];for(let V=0;V<A;V++)k[V]=N.i(V)<<1|N.i(V-1)>>>31;return new c(k,N.h)}function he(N,A){const k=A>>5;A%=32;const V=N.g.length-k,b=[];for(let F=0;F<V;F++)b[F]=A>0?N.i(F+k)>>>A|N.i(F+k+1)<<32-A:N.i(F+k);return new c(b,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,bE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Di=c}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DE,rl,VE,pc,Wd,LE,ME,FE;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var y=0;y<u.length;++y){var v=u[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,y){if(y)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var j=u[I];if(!(j in v))break e;v=v[j]}u=u[u.length-1],I=v[u],y=y(I),y!=I&&y!=null&&e(v,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var v=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&v.push([I,y[I]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function p(u,y,v){return u.call.apply(u.bind,arguments)}function m(u,y,v){return m=p,m.apply(null,arguments)}function _(u,y){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function E(u,y){function v(){}v.prototype=y.prototype,u.Z=y.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(I,j,$){for(var re=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)re[Ie-2]=arguments[Ie];return y.prototype[j].apply(I,re)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const y=u.length;if(y>0){const v=Array(y);for(let I=0;I<y;I++)v[I]=u[I];return v}return[]}function D(u,y){for(let I=1;I<arguments.length;I++){const j=arguments[I];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const $=j.length||0;u.length=v+$;for(let re=0;re<$;re++)u[v+re]=j[re]}else u.push(j)}}class O{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function S(u){c.setTimeout(()=>{throw u},0)}function Q(){var u=N;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,v){const I=H.get();I.set(y,v),this.h?this.h.next=I:this.g=I,this.h=I}}var H=new O(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let K,he=!1,N=new W,A=()=>{const u=Promise.resolve(void 0);K=()=>{u.then(k)}};function k(){for(var u;u=Q();){try{u.h.call(u.g)}catch(v){S(v)}var y=H;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}he=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function He(u,y){b.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}E(He,b),He.prototype.init=function(u,y){const v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(v=="mouseover"?y=u.fromElement:v=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),Vt=0;function Ze(u,y,v,I,j){this.listener=u,this.proxy=null,this.src=y,this.type=v,this.capture=!!I,this.ha=j,this.key=++Vt,this.da=this.fa=!1}function se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ge(u,y,v){for(const I in u)y.call(v,u[I],I,u)}function ue(u,y){for(const v in u)y.call(void 0,u[v],v,u)}function M(u){const y={};for(const v in u)y[v]=u[v];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(u,y){let v,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(v in I)u[v]=I[v];for(let $=0;$<Y.length;$++)v=Y[$],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function Re(u){this.src=u,this.g={},this.h=0}Re.prototype.add=function(u,y,v,I,j){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const re=ke(u,y,I,j);return re>-1?(y=u[re],v||(y.fa=!1)):(y=new Ze(y,this.src,$,!!I,j),y.fa=v,u.push(y)),y};function Ce(u,y){const v=y.type;if(v in u.g){var I=u.g[v],j=Array.prototype.indexOf.call(I,y,void 0),$;($=j>=0)&&Array.prototype.splice.call(I,j,1),$&&(se(y),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ke(u,y,v,I){for(let j=0;j<u.length;++j){const $=u[j];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==I)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ve={};function qe(u,y,v,I,j){if(Array.isArray(y)){for(let $=0;$<y.length;$++)qe(u,y[$],v,I,j);return null}return v=oa(v),u&&u[Tt]?u.J(y,v,d(I)?!!I.capture:!1,j):Ht(u,y,v,!1,I,j)}function Ht(u,y,v,I,j,$){if(!y)throw Error("Invalid event type");const re=d(j)?!!j.capture:!!j;let Ie=Us(u);if(Ie||(u[Ue]=Ie=new Re(u)),v=Ie.add(y,v,I,re,$),v.proxy)return v;if(I=Ms(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)F||(j=re),j===void 0&&(j=!1),u.addEventListener(y.toString(),I,j);else if(u.attachEvent)u.attachEvent(Fs(y.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ms(){function u(v){return y.call(u.src,u.listener,v)}const y=Wl;return u}function sa(u,y,v,I,j){if(Array.isArray(y))for(var $=0;$<y.length;$++)sa(u,y[$],v,I,j);else I=d(I)?!!I.capture:!!I,v=oa(v),u&&u[Tt]?(u=u.i,$=String(y).toString(),$ in u.g&&(y=u.g[$],v=ke(y,v,I,j),v>-1&&(se(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete u.g[$],u.h--)))):u&&(u=Us(u))&&(y=u.g[y.toString()],u=-1,y&&(u=ke(y,v,I,j)),(v=u>-1?y[u]:null)&&qr(v))}function qr(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Tt])Ce(y.i,u);else{var v=u.type,I=u.proxy;y.removeEventListener?y.removeEventListener(v,I,u.capture):y.detachEvent?y.detachEvent(Fs(v),I):y.addListener&&y.removeListener&&y.removeListener(I),(v=Us(y))?(Ce(v,u),v.h==0&&(v.src=null,y[Ue]=null)):se(u)}}}function Fs(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function Wl(u,y){if(u.da)u=!0;else{y=new He(y,this);const v=u.listener,I=u.ha||u.src;u.fa&&qr(u),u=v.call(I,y)}return u}function Us(u){return u=u[Ue],u instanceof Re?u:null}var Xi="__closure_events_fn_"+(Math.random()*1e9>>>0);function oa(u){return typeof u=="function"?u:(u[Xi]||(u[Xi]=function(y){return u.handleEvent(y)}),u[Xi])}function ft(){V.call(this),this.i=new Re(this),this.M=this,this.G=null}E(ft,V),ft.prototype[Tt]=!0,ft.prototype.removeEventListener=function(u,y,v,I){sa(this,u,y,v,I)};function lt(u,y){var v,I=u.G;if(I)for(v=[];I;I=I.G)v.push(I);if(u=u.M,I=y.type||y,typeof y=="string")y=new b(y,u);else if(y instanceof b)y.target=y.target||u;else{var j=y;y=new b(I,u),Ae(y,j)}j=!0;let $,re;if(v)for(re=v.length-1;re>=0;re--)$=y.g=v[re],j=An($,I,!0,y)&&j;if($=y.g=u,j=An($,I,!0,y)&&j,j=An($,I,!1,y)&&j,v)for(re=0;re<v.length;re++)$=y.g=v[re],j=An($,I,!1,y)&&j}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const v=u.g[y];for(let I=0;I<v.length;I++)se(v[I]);delete u.g[y],u.h--}}this.G=null},ft.prototype.J=function(u,y,v,I){return this.i.add(String(u),y,!1,v,I)},ft.prototype.K=function(u,y,v,I){return this.i.add(String(u),y,!0,v,I)};function An(u,y,v,I){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let $=0;$<y.length;++$){const re=y[$];if(re&&!re.da&&re.capture==v){const Ie=re.listener,ut=re.ha||re.src;re.fa&&Ce(u.i,re),j=Ie.call(ut,I)!==!1&&j}}return j&&!I.defaultPrevented}function aa(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(u,y||0)}function la(u){u.g=aa(()=>{u.g=null,u.i&&(u.i=!1,la(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Hl extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:la(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(u){V.call(this),this.h=u,this.g={}}E(Wr,V);var ua=[];function js(u){ge(u.g,function(y,v){this.g.hasOwnProperty(v)&&qr(y)},u),u.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),js(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hr=c.JSON.stringify,Kl=c.JSON.parse,Yi=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function Kr(){}function Gl(){}var Gr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bs(){b.call(this,"d")}E(Bs,b);function ca(){b.call(this,"c")}E(ca,b);var Rn={},zs=null;function Qr(){return zs=zs||new ft}Rn.Ia="serverreachability";function $s(u){b.call(this,Rn.Ia,u)}E($s,b);function dr(u){const y=Qr();lt(y,new $s(y))}Rn.STAT_EVENT="statevent";function pr(u,y){b.call(this,Rn.STAT_EVENT,u),this.stat=y}E(pr,b);function st(u){const y=Qr();lt(y,new pr(y,u))}Rn.Ja="timingevent";function ha(u,y){b.call(this,Rn.Ja,u),this.size=y}E(ha,b);function Xr(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},y)}function Yr(){this.g=!0}Yr.prototype.ua=function(){this.g=!1};function Ql(u,y,v,I,j,$){u.info(function(){if(u.g)if($){var re="",Ie=$.split("&");for(let $e=0;$e<Ie.length;$e++){var ut=Ie[$e].split("=");if(ut.length>1){const dt=ut[0];ut=ut[1];const un=dt.split("_");re=un.length>=2&&un[1]=="type"?re+(dt+"="+ut+"&"):re+(dt+"=redacted&")}}}else re=null;else re=$;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+y+`
`+v+`
`+re})}function Xl(u,y,v,I,j,$,re){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+y+`
`+v+`
`+$+" "+re})}function jn(u,y,v,I){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ji(u,v)+(I?" "+I:"")})}function Yl(u,y){u.info(function(){return"TIMEOUT: "+y})}Yr.prototype.info=function(){};function Ji(u,y){if(!u.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var v=$[u];if(!(v.length<2)){var I=v[1];if(Array.isArray(I)&&!(I.length<1)){var j=I[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<I.length;re++)I[re]=""}}}}return Hr($)}catch{return y}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jl;function mr(){}E(mr,Kr),mr.prototype.g=function(){return new XMLHttpRequest},Jl=new mr;function Bn(u){return encodeURIComponent(String(u))}function qs(u){var y=1;u=u.split(":");const v=[];for(;y>0&&u.length;)v.push(u.shift()),y--;return u.length&&v.push(u.join(":")),v}function mn(u,y,v,I){this.j=u,this.i=y,this.l=v,this.S=I||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zl}function Zl(){this.i=null,this.g="",this.h=!1}var eu={},fa={};function Pn(u,y,v){u.M=1,u.A=yr(gn(y)),u.u=v,u.R=!0,da(u,null)}function da(u,y){u.F=Date.now(),Zi(u),u.B=gn(u.A);var v=u.B,I=u.S;Array.isArray(I)||(I=[String(I)]),Ia(v.i,"t",I),u.C=0,v=u.j.L,u.h=new Zl,u.g=cu(u.j,v?y:null,!u.u),u.P>0&&(u.O=new Hl(m(u.Y,u,u.g),u.P)),y=u.V,v=u.g,I=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(ua[0]=j.toString()),j=ua);for(let $=0;$<j.length;$++){const re=qe(v,j[$],I||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),dr(),Ql(u.i,u.v,u.B,u.l,u.S,u.u)}mn.prototype.ba=function(u){u=u.target;const y=this.O;y&&Gn(u)==3?y.j():this.Y(u)},mn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Gn(this.g),ut=this.g.ya(),$e=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||lu(this.g)))){this.K||Ie!=4||ut==7||(ut==8||$e<=0?dr(3):dr(2)),Ws(this);var y=this.g.ca();this.X=y;var v=tu(this);if(this.o=y==200,Xl(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var I,j=this.g;if((I=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(I)){var $=I;break t}}$=null}if(u=$)jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qe(this,u);else{this.o=!1,this.m=3,st(12),gr(this),es(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<v.length;)if(dt=ru(this,v),dt==fa){Ie==4&&(this.m=4,st(14),u=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==eu){this.m=4,st(15),jn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else jn(this.i,this.l,dt,null),Qe(this,dt);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,st(16),u=!1),this.o=this.o&&u,!u)jn(this.i,this.l,v,"[Invalid Chunked Response]"),gr(this),es(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),us(re),re.P=!0,st(11))}}else jn(this.i,this.l,v,null),Qe(this,v);Ie==4&&gr(this),this.o&&!this.K&&(Ie==4?to(this.j,this):(this.o=!1,Zi(this)))}else Aa(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),gr(this),es(this)}}}catch{}finally{}};function tu(u){if(!nu(u))return u.g.la();const y=lu(u.g);if(y==="")return"";let v="";const I=y.length,j=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gr(u),es(u),"";u.h.i=new c.TextDecoder}for(let $=0;$<I;$++)u.h.h=!0,v+=u.h.i.decode(y[$],{stream:!(j&&$==I-1)});return y.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,y){var v=u.C,I=y.indexOf(`
`,v);return I==-1?fa:(v=Number(y.substring(v,I)),isNaN(v)?eu:(I+=1,I+v>y.length?fa:(y=y.slice(I,I+v),u.C=I+v,y)))}mn.prototype.cancel=function(){this.K=!0,gr(this)};function Zi(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xr(m(u.aa,u),y)}function Ws(u){u.D&&(c.clearTimeout(u.D),u.D=null)}mn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Yl(this.i,this.B),this.M!=2&&(dr(),st(17)),gr(this),this.m=2,es(this)):pa(this,this.T-u)};function es(u){u.j.I==0||u.K||to(u.j,u)}function gr(u){Ws(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,js(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Qe(u,y){try{var v=u.j;if(v.I!=0&&(v.g==u||ga(v.h,u))){if(!u.L&&ga(v.h,u)&&v.I==3){try{var I=v.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)eo(v),an(v);else break e;Yn(v),st(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Xr(m(v.Va,v),6e3));ts(v.h)<=1&&v.ta&&(v.ta=void 0)}else ln(v,11)}else if((u.L||v.g==u)&&eo(v),!C(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let $e=j[y];const dt=$e[0];if(!(dt<=v.K))if(v.K=dt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const un=$e[3];un!=null&&(v.ka=un,v.j.info("VER="+v.ka));const Tr=$e[4];Tr!=null&&(v.za=Tr,v.j.info("SVER="+v.za));const Jn=$e[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(I=1.5*Jn,v.O=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Zn=u.g;if(Zn){const io=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var $=I.h;$.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ks($,$.h),$.h=null))}if(I.G){const Ca=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(I.wa=Ca,Fe(I.J,I.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),I=v;var re=u;if(I.na=Pa(I,I.L?I.ba:null,I.W),re.L){ns(I.h,re);var Ie=re,ut=I.O;ut&&(Ie.H=ut),Ie.D&&(Ws(Ie),Zi(Ie)),I.g=re}else Lt(I);v.i.length>0&&wr(v)}else $e[0]!="stop"&&$e[0]!="close"||ln(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ln(v,7):Js(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}dr(4)}catch{}}var Ph=class{constructor(u,y){this.g=u,this.map=y}};function Hs(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ma(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ts(u){return u.h?1:u.g?u.g.size:0}function ga(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ks(u,y){u.g?u.g.add(y):u.h=y}function ns(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Hs.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function rn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const v of u.g.values())y=y.concat(v.G);return y}return P(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sn(u,y){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const I=u[v].indexOf("=");let j,$=null;I>=0?(j=u[v].substring(0,I),$=u[v].substring(I+1)):j=u[v],y(j,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function zn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof zn?(this.l=u.l,rs(this,u.j),this.o=u.o,this.g=u.g,$n(this,u.u),this.h=u.h,ei(this,Sa(u.i)),this.m=u.m):u&&(y=String(u).match(iu))?(this.l=!1,rs(this,y[1]||"",!0),this.o=is(y[2]||""),this.g=is(y[3]||"",!0),$n(this,y[4]),this.h=is(y[5]||"",!0),ei(this,y[6]||"",!0),this.m=is(y[7]||"")):(this.l=!1,this.i=new be(null,this.l))}zn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(ss(y,va,!0),":");var v=this.g;return(v||y=="file")&&(u.push("//"),(y=this.o)&&u.push(ss(y,va,!0),"@"),u.push(Bn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ss(v,v.charAt(0)=="/"?os:_a,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ss(v,Ea)),u.join("")},zn.prototype.resolve=function(u){const y=gn(this);let v=!!u.j;v?rs(y,u.j):v=!!u.o,v?y.o=u.o:v=!!u.g,v?y.g=u.g:v=u.u!=null;var I=u.h;if(v)$n(y,u.u);else if(v=!!u.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var j=y.h.lastIndexOf("/");j!=-1&&(I=y.h.slice(0,j+1)+I)}if(j=I,j==".."||j==".")I="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){I=j.lastIndexOf("/",0)==0,j=j.split("/");const $=[];for(let re=0;re<j.length;){const Ie=j[re++];Ie=="."?I&&re==j.length&&$.push(""):Ie==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),I&&re==j.length&&$.push("")):($.push(Ie),I=!0)}I=$.join("/")}else I=j}return v?y.h=I:v=u.i.toString()!=="",v?ei(y,Sa(u.i)):v=!!u.m,v&&(y.m=u.m),y};function gn(u){return new zn(u)}function rs(u,y,v){u.j=v?is(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function $n(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function ei(u,y,v){y instanceof be?(u.i=y,Qs(u.i,u.l)):(v||(y=ss(y,Ch)),u.i=new be(y,u.l))}function Fe(u,y,v){u.i.set(y,v)}function yr(u){return Fe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function is(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,y,v){return typeof u=="string"?(u=encodeURI(u).replace(y,ya),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ya(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,_a=/[#\?:]/g,os=/[#\?]/g,Ch=/[#\?@]/g,Ea=/#/g;function be(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function qn(u){u.g||(u.g=new Map,u.h=0,u.i&&sn(u.i,function(y,v){u.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=be.prototype,n.add=function(u,y){qn(this),this.i=null,u=Wn(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(y),this.h+=1,this};function wa(u,y){qn(u),y=Wn(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Gs(u,y){return qn(u),y=Wn(u,y),u.g.has(y)}n.forEach=function(u,y){qn(this),this.g.forEach(function(v,I){v.forEach(function(j){u.call(y,j,I,this)},this)},this)};function Ta(u,y){qn(u);let v=[];if(typeof y=="string")Gs(u,y)&&(v=v.concat(u.g.get(Wn(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)v=v.concat(u[y]);return v}n.set=function(u,y){return qn(this),this.i=null,u=Wn(this,u),Gs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},n.get=function(u,y){return u?(u=Ta(this,u),u.length>0?String(u[0]):y):y};function Ia(u,y,v){wa(u,y),v.length>0&&(u.i=null,u.g.set(Wn(u,y),P(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var v=y[I];const j=Bn(v);v=Ta(this,v);for(let $=0;$<v.length;$++){let re=j;v[$]!==""&&(re+="="+Bn(v[$])),u.push(re)}}return this.i=u.join("&")};function Sa(u){const y=new be;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Wn(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Qs(u,y){y&&!u.j&&(qn(u),u.i=null,u.g.forEach(function(v,I){const j=I.toLowerCase();I!=j&&(wa(this,I),Ia(this,j,v))},u)),u.j=y}function Hn(u,y){const v=new Yr;if(c.Image){const I=new Image;I.onload=_(Ct,v,"TestLoadImage: loaded",!0,y,I),I.onerror=_(Ct,v,"TestLoadImage: error",!1,y,I),I.onabort=_(Ct,v,"TestLoadImage: abort",!1,y,I),I.ontimeout=_(Ct,v,"TestLoadImage: timeout",!1,y,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else y(!1)}function Kn(u,y){const v=new Yr,I=new AbortController,j=setTimeout(()=>{I.abort(),Ct(v,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:I.signal}).then($=>{clearTimeout(j),$.ok?Ct(v,"TestPingServer: ok",!0,y):Ct(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Ct(v,"TestPingServer: error",!1,y)})}function Ct(u,y,v,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(v)}catch{}}function as(){this.g=new Yi}function vr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(vr,Kr),vr.prototype.g=function(){return new on(this.i,this.h)};function on(u,y){ft.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(on,ft),n=on.prototype,n.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Cn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;su(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function su(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?ti(this):Cn(this),this.readyState==3&&su(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,ti(this))},n.Na=function(u){this.g&&(this.response=u,ti(this))},n.ga=function(){this.g&&ti(this)};function ti(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Cn(u)}n.setRequestHeader=function(u,y){this.A.append(u,y)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=y.next();return u.join(`\r
`)};function Cn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(on.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ou(u){let y="";return ge(u,function(v,I){y+=I,y+=":",y+=v,y+=`\r
`}),y}function Xs(u,y,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=ou(v),typeof u=="string"?v!=null&&Bn(v):Fe(u,y,v))}function We(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(We,ft);var au=/^https?$/i,kh=["POST","PUT"];n=We.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,y,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jl.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch($){ni(this,$);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)v.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())v.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),j=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(kh,y,void 0)>=0)||I||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of v)this.g.setRequestHeader($,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){ni(this,$)}};function ni(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,ri(u),Er(u)}function ri(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,lt(this,"complete"),lt(this,"abort"),Er(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),We.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},n.Xa=function(){_r(this)};function _r(u){if(u.h&&typeof l<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(lt(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var I;if(I=$===0){let re=String(u.D).match(iu)[1]||null;!re&&c.self&&c.self.location&&(re=c.self.location.protocol.slice(0,-1)),I=!au.test(re?re.toLowerCase():"")}v=I}if(v)lt(u,"complete"),lt(u,"success");else{u.o=6;try{var j=Gn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",ri(u)}}finally{Er(u)}}}}function Er(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,y||lt(u,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}n.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Kl(y)}};function lu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Aa(u){const y={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(C(u[I]))continue;var v=qs(u[I]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[j]||[];y[j]=$,$.push(v)}ue(y,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(u,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||y}function Ys(u){this.za=0,this.i=[],this.j=new Yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qn("baseRetryDelayMs",5e3,u),this.Za=Qn("retryDelaySeedMs",1e4,u),this.Ta=Qn("forwardChannelMaxRetries",2,u),this.va=Qn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Hs(u&&u.concurrentRequestLimit),this.Ba=new as,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ys.prototype,n.ka=8,n.I=1,n.connect=function(u,y,v,I){st(0),this.W=u,this.H=y||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.J=Pa(this,null,this.W),wr(this)};function Js(u){if(Zs(u),u.I==3){var y=u.V++,v=gn(u.J);if(Fe(v,"SID",u.M),Fe(v,"RID",y),Fe(v,"TYPE","terminate"),Xn(u,v),y=new mn(u,u.j,y),y.M=2,y.A=yr(gn(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=cu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Zi(y)}cs(u)}function an(u){u.g&&(us(u),u.g.cancel(),u.g=null)}function Zs(u){an(u),u.v&&(c.clearTimeout(u.v),u.v=null),eo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function wr(u){if(!ma(u.h)&&!u.m){u.m=!0;var y=u.Ea;K||A(),he||(K(),he=!0),N.add(y,u),u.D=0}}function uu(u,y){return ts(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xr(m(u.Ea,u,y),no(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new mn(this,this.j,u);let $=this.o;if(this.U&&($?($=M($),Ae($,this.U)):$=this.U),this.u!==null||this.R||(j.J=$,$=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ra(this,j,y),v=gn(this.J),Fe(v,"RID",u),Fe(v,"CVER",22),this.G&&Fe(v,"X-HTTP-Session-Id",this.G),Xn(this,v),$&&(this.R?y="headers="+Bn(ou($))+"&"+y:this.u&&Xs(v,this.u,$)),Ks(this.h,j),this.Ra&&Fe(v,"TYPE","init"),this.S?(Fe(v,"$req",y),Fe(v,"SID","null"),j.U=!0,Pn(j,v,null)):Pn(j,v,y),this.I=2}}else this.I==3&&(u?ls(this,u):this.i.length==0||ma(this.h)||ls(this))};function ls(u,y){var v;y?v=y.l:v=u.V++;const I=gn(u.J);Fe(I,"SID",u.M),Fe(I,"RID",v),Fe(I,"AID",u.K),Xn(u,I),u.u&&u.o&&Xs(I,u.u,u.o),v=new mn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ra(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ks(u.h,v),Pn(v,I,y)}function Xn(u,y){u.H&&ge(u.H,function(v,I){Fe(y,I,v)}),u.l&&ge({},function(v,I){Fe(y,I,v)})}function Ra(u,y,v){v=Math.min(u.i.length,v);const I=u.l?m(u.l.Ka,u.l,u):null;e:{var j=u.i;let Ie=-1;for(;;){const ut=["count="+v];Ie==-1?v>0?(Ie=j[0].g,ut.push("ofs="+Ie)):Ie=0:ut.push("ofs="+Ie);let $e=!0;for(let dt=0;dt<v;dt++){var $=j[dt].g;const un=j[dt].map;if($-=Ie,$<0)Ie=Math.max(0,j[dt].g-100),$e=!1;else try{$="req"+$+"_"||"";try{var re=un instanceof Map?un:Object.entries(un);for(const[Tr,Jn]of re){let Zn=Jn;d(Jn)&&(Zn=Hr(Jn)),ut.push($+Tr+"="+encodeURIComponent(Zn))}}catch(Tr){throw ut.push($+"type="+encodeURIComponent("_badmap")),Tr}}catch{I&&I(un)}}if($e){re=ut.join("&");break e}}re=void 0}return u=u.i.splice(0,v),y.G=u,re}function Lt(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;K||A(),he||(K(),he=!0),N.add(y,u),u.A=0}}function Yn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xr(m(u.Da,u),no(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,ii(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xr(m(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),an(this),ii(this))};function us(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function ii(u){u.g=new mn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=gn(u.na);Fe(y,"RID","rpc"),Fe(y,"SID",u.M),Fe(y,"AID",u.K),Fe(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Fe(y,"TO",u.ia),Fe(y,"TYPE","xmlhttp"),Xn(u,y),u.u&&u.o&&Xs(y,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=yr(gn(y)),v.u=null,v.R=!0,da(v,u)}n.Va=function(){this.C!=null&&(this.C=null,an(this),Yn(this),st(19))};function eo(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function to(u,y){var v=null;if(u.g==y){eo(u),us(u),u.g=null;var I=2}else if(ga(u.h,y))v=y.G,ns(u.h,y),I=1;else return;if(u.I!=0){if(y.o)if(I==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=u.D;I=Qr(),lt(I,new ha(I,v)),wr(u)}else Lt(u);else if(j=y.m,j==3||j==0&&y.X>0||!(I==1&&uu(u,y)||I==2&&Yn(u)))switch(v&&v.length>0&&(y=u.h,y.i=y.i.concat(v)),j){case 1:ln(u,5);break;case 4:ln(u,10);break;case 3:ln(u,6);break;default:ln(u,2)}}}function no(u,y){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*y}function ln(u,y){if(u.j.info("Error code "+y),y==2){var v=m(u.bb,u),I=u.Ua;const j=!I;I=new zn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rs(I,"https"),yr(I),j?Hn(I.toString(),v):Kn(I.toString(),v)}else st(2);u.I=0,u.l&&u.l.pa(y),cs(u),Zs(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function cs(u){if(u.I=0,u.ja=[],u.l){const y=rn(u.h);(y.length!=0||u.i.length!=0)&&(D(u.ja,y),D(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Pa(u,y,v){var I=v instanceof zn?gn(v):new zn(v);if(I.g!="")y&&(I.g=y+"."+I.g),$n(I,I.u);else{var j=c.location;I=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const $=new zn(null);I&&rs($,I),y&&($.g=y),j&&$n($,j),v&&($.h=v),I=$}return v=u.G,y=u.wa,v&&y&&Fe(I,v,y),Fe(I,"VER",u.ka),Xn(u,I),I}function cu(u,y,v){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new We(new vr({ab:v})):new We(u.ma),y.Fa(u.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}n=hu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ro(){}ro.prototype.g=function(u,y){return new kt(u,y)};function kt(u,y){ft.call(this),this.g=new Ys(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!C(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new si(this)}E(kt,ft),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Js(this.g)},kt.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Hr(u),u=v);y.i.push(new Ph(y.Ya++,u)),y.I==3&&wr(y)},kt.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,kt.Z.N.call(this)};function fu(u){Bs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const v in y){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}E(fu,Bs);function du(){ca.call(this),this.status=1}E(du,ca);function si(u){this.g=u}E(si,hu),si.prototype.ra=function(){lt(this.g,"a")},si.prototype.qa=function(u){lt(this.g,new fu(u))},si.prototype.pa=function(u){lt(this.g,new du)},si.prototype.oa=function(){lt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,FE=function(){return new ro},ME=function(){return Qr()},LE=Rn,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,pc=Jr,Zr.COMPLETE="complete",VE=Zr,Gl.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",ft.prototype.listen=ft.prototype.J,rl=Gl,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,DE=We}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore",Pv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Ip("@firebase/firestore");function Ro(){return xs.logLevel}function le(n,...e){if(xs.logLevel<=Ne.DEBUG){const t=e.map(Rp);xs.debug(`Firestore (${Jo}): ${n}`,...t)}}function Mr(n,...e){if(xs.logLevel<=Ne.ERROR){const t=e.map(Rp);xs.error(`Firestore (${Jo}): ${n}`,...t)}}function Bo(n,...e){if(xs.logLevel<=Ne.WARN){const t=e.map(Rp);xs.warn(`Firestore (${Jo}): ${n}`,...t)}}function Rp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,UE(n,i,t)}function UE(n,e,t){let i=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Mr(i),new Error(i)}function ze(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||UE(e,o,i)}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class gR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class yR{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new br;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new br,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new br)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string",31837,{l:i}),new jE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class vR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _R{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new vR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ER{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Cv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=wR(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function xe(n,e){return n<e?-1:n>e?1:0}function Hd(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return Td(o)===Td(l)?xe(o,l):Td(o)?1:-1}return xe(n.length,e.length)}const TR=55296,IR=57343;function Td(n){const e=n.charCodeAt(0);return e>=TR&&e<=IR}function zo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="__name__";class ir{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ee(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ir.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return xe(e.length,t.length)}static compareSegments(e,t){const i=ir.isNumericId(e),o=ir.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ir.extractNumericId(e).compare(ir.extractNumericId(t)):Hd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class Ge extends ir{construct(e,t,i){return new Ge(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new oe(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new Ge(t)}static emptyPath(){return new Ge([])}}const SR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends ir{construct(e,t,i){return new bt(e,t,i)}static isValidIdentifier(e){return SR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new bt([kv])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new oe(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new oe(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new oe(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Ge.fromString(e))}static fromName(e){return new me(Ge.fromString(e).popFirst(5))}static empty(){return new me(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n,e,t){if(!t)throw new oe(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AR(n,e,t,i){if(e===!0&&i===!0)throw new oe(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Nv(n){if(!me.isDocumentKey(n))throw new oe(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xv(n){if(me.isDocumentKey(n))throw new oe(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function lh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Fr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lh(n);throw new oe(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n,e){const t={typeString:n};return e&&(t.value=e),t}function bl(n,e){if(!zE(n))throw new oe(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new oe(G.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-62135596800,bv=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*bv);return new Je(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ov)throw new oe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bl(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:yt("string",Je._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Je(0,0))}static max(){return new Te(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function RR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new Je(t+1,0):new Je(t,i));return new Ui(o,me.empty(),e)}function PR(n){return new Ui(n.readTime,n.key,El)}class Ui{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ui(Te.min(),me.empty(),El)}static max(){return new Ui(Te.max(),me.empty(),El)}}function CR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==kR)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,i)=>{t(e)}))}static reject(e){return new X(((t,i)=>{i(e)}))}static waitFor(e){return new X(((t,i)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&t()}),(p=>i(p)))})),c=!0,l===o&&t()}))}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next((o=>o?X.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new X(((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((_=>{c[m]=_,++d,d===l&&i(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new X(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function xR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ea(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function ch(n){return n==null}function Vc(n){return n===0&&1/n==-1/0}function OR(n){return typeof n=="number"&&Number.isInteger(n)&&!Vc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="";function bR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Dv(e)),e=DR(n.get(t),e);return Dv(e)}function DR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case $E:t+="";break;default:t+=l}}return t}function Dv(n){return n+$E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ki(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new dn([])}unionWith(e){let t=new wt(bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new WE("Invalid base64 string: "+l):l}})(e);return new Dt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=VR.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bi(n){return typeof n=="string"?Dt.fromBase64String(n):Dt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="server_timestamp",KE="__type__",GE="__previous_value__",QE="__local_write_time__";function kp(n){return(n?.mapValue?.fields||{})[KE]?.stringValue===HE}function hh(n){const e=n.mapValue.fields[GE];return kp(e)?hh(e):e}function wl(n){const e=ji(n.mapValue.fields[QE].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t,i,o,l,c,d,p,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=_}}const Lc="(default)";class Tl{constructor(e,t){this.projectId=e,this.database=t||Lc}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="__type__",MR="__max__",uc={mapValue:{}},YE="__vector__",Mc="value";function zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kp(n)?4:UR(n)?9007199254740991:FR(n)?10:11:Ee(28295,{value:n})}function fr(n,e){if(n===e)return!0;const t=zi(n);if(t!==zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wl(n).isEqual(wl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ji(o.timestampValue),d=ji(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Bi(o.bytesValue).isEqual(Bi(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return ht(o.geoPointValue.latitude)===ht(l.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ht(o.integerValue)===ht(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ht(o.doubleValue),d=ht(l.doubleValue);return c===d?Vc(c)===Vc(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Vv(c)!==Vv(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!fr(c[p],d[p])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function Il(n,e){return(n.values||[]).find((t=>fr(t,e)))!==void 0}function $o(n,e){if(n===e)return 0;const t=zi(n),i=zi(e);if(t!==i)return xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=ht(l.integerValue||l.doubleValue),p=ht(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return Mv(n.timestampValue,e.timestampValue);case 4:return Mv(wl(n),wl(e));case 5:return Hd(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=Bi(l),p=Bi(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const _=xe(d[m],p[m]);if(_!==0)return _}return xe(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=xe(ht(l.latitude),ht(c.latitude));return d!==0?d:xe(ht(l.longitude),ht(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Fv(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},m=d[Mc]?.arrayValue,_=p[Mc]?.arrayValue,E=xe(m?.values?.length||0,_?.values?.length||0);return E!==0?E:Fv(m,_)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===uc.mapValue&&c===uc.mapValue)return 0;if(l===uc.mapValue)return 1;if(c===uc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const T=Hd(p[E],_[E]);if(T!==0)return T;const P=$o(d[p[E]],m[_[E]]);if(P!==0)return P}return xe(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function Mv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);const t=ji(n),i=ji(e),o=xe(t.seconds,i.seconds);return o!==0?o:xe(t.nanos,i.nanos)}function Fv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=$o(t[o],i[o]);if(l)return l}return xe(t.length,i.length)}function qo(n){return Kd(n)}function Kd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=ji(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Bi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Kd(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Kd(t.fields[c])}`;return o+"}"})(n.mapValue):Ee(61005,{value:n})}function mc(n){switch(zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(n);return e?16+mc(e):16;case 5:return 2*n.stringValue.length;case 6:return Bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+mc(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Ki(i.fields,((l,c)=>{o+=l.length+mc(c)})),o})(n.mapValue);default:throw Ee(13486,{value:n})}}function Uv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Gd(n){return!!n&&"integerValue"in n}function Np(n){return!!n&&"arrayValue"in n}function jv(n){return!!n&&"nullValue"in n}function Bv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gc(n){return!!n&&"mapValue"in n}function FR(n){return(n?.mapValue?.fields||{})[XE]?.stringValue===YE}function ul(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ki(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ul(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ul(n.arrayValue.values[t]);return e}return{...n}}function UR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===MR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}setAll(e){let t=bt.emptyPath(),i={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=ul(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());gc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ki(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new nn(ul(this.value))}}function JE(n){const e=[];return Ki(n.fields,((t,i)=>{const o=new bt([t]);if(gc(i)){const l=JE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new qt(e,0,Te.min(),Te.min(),Te.min(),nn.empty(),0)}static newFoundDocument(e,t,i,o){return new qt(e,1,t,Te.min(),i,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Te.min(),Te.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Te.min(),Te.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this.position=e,this.inclusive=t}}function zv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=me.comparator(me.fromName(c.referenceValue),t.key):i=$o(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function $v(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function jR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{}class gt extends ZE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new zR(e,t,i):t==="array-contains"?new WR(e,i):t==="in"?new HR(e,i):t==="not-in"?new KR(e,i):t==="array-contains-any"?new GR(e,i):new gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new $R(e,i):new qR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($o(t,this.value)):t!==null&&zi(this.value)===zi(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends ZE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fn(e,t)}matches(e){return ew(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ew(n){return n.op==="and"}function tw(n){return BR(n)&&ew(n)}function BR(n){for(const e of n.filters)if(e instanceof Fn)return!1;return!0}function Qd(n){if(n instanceof gt)return n.field.canonicalString()+n.op.toString()+qo(n.value);if(tw(n))return n.filters.map((e=>Qd(e))).join(",");{const e=n.filters.map((t=>Qd(t))).join(",");return`${n.op}(${e})`}}function nw(n,e){return n instanceof gt?(function(i,o){return o instanceof gt&&i.op===o.op&&i.field.isEqual(o.field)&&fr(i.value,o.value)})(n,e):n instanceof Fn?(function(i,o){return o instanceof Fn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,d)=>l&&nw(c,o.filters[d])),!0):!1})(n,e):void Ee(19439)}function rw(n){return n instanceof gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${qo(t.value)}`})(n):n instanceof Fn?(function(t){return t.op.toString()+" {"+t.getFilters().map(rw).join(" ,")+"}"})(n):"Filter"}class zR extends gt{constructor(e,t,i){super(e,t,i),this.key=me.fromName(i.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class $R extends gt{constructor(e,t){super(e,"in",t),this.keys=iw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class qR extends gt{constructor(e,t){super(e,"not-in",t),this.keys=iw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function iw(n,e){return(e.arrayValue?.values||[]).map((t=>me.fromName(t.referenceValue)))}class WR extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Np(t)&&Il(t.arrayValue,this.value)}}class HR extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Il(this.value.arrayValue,t)}}class KR extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Il(this.value.arrayValue,t)}}class GR extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Np(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Il(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function qv(n,e=null,t=[],i=[],o=null,l=null,c=null){return new QR(n,e,t,i,o,l,c)}function xp(n){const e=Se(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Qd(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>qo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>qo(i))).join(",")),e.Te=t}return e.Te}function Op(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$v(n.startAt,e.startAt)&&$v(n.endAt,e.endAt)}function Xd(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XR(n,e,t,i,o,l,c,d){return new Dl(n,e,t,i,o,l,c,d)}function bp(n){return new Dl(n)}function Wv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sw(n){return n.collectionGroup!==null}function cl(n){const e=Se(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new wt(bt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Uc(l,i))})),t.has(bt.keyField().canonicalString())||e.Ie.push(new Uc(bt.keyField(),i))}return e.Ie}function or(n){const e=Se(n);return e.Ee||(e.Ee=YR(e,cl(n))),e.Ee}function YR(n,e){if(n.limitType==="F")return qv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Uc(o.field,l)}));const t=n.endAt?new Fc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Fc(n.startAt.position,n.startAt.inclusive):null;return qv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Yd(n,e){const t=n.filters.concat([e]);return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Jd(n,e,t){return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fh(n,e){return Op(or(n),or(e))&&n.limitType===e.limitType}function ow(n){return`${xp(or(n))}|lt:${n.limitType}`}function Po(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>rw(o))).join(", ")}]`),ch(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>qo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>qo(o))).join(",")),`Target(${i})`})(or(n))}; limitType=${n.limitType})`}function dh(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of cl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,d,p){const m=zv(c,d,p);return c.inclusive?m<=0:m<0})(i.startAt,cl(i),o)||i.endAt&&!(function(c,d,p){const m=zv(c,d,p);return c.inclusive?m>=0:m>0})(i.endAt,cl(i),o))})(n,e)}function JR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aw(n){return(e,t)=>{let i=!1;for(const o of cl(n)){const l=ZR(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function ZR(n,e,t){const i=n.field.isKeyField()?me.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?$o(p,m):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return qE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new it(me.comparator);function Ur(){return eP}const lw=new it(me.comparator);function il(...n){let e=lw;for(const t of n)e=e.insert(t.key,t);return e}function uw(n){let e=lw;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function As(){return hl()}function cw(){return hl()}function hl(){return new Vs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const tP=new it(me.comparator),nP=new wt(me.comparator);function Oe(...n){let e=nP;for(const t of n)e=e.add(t);return e}const rP=new wt(xe);function iP(){return rP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function hw(n){return{integerValue:""+n}}function sP(n,e){return OR(e)?hw(e):Dp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function oP(n,e,t){return n instanceof jc?(function(o,l){const c={fields:{[KE]:{stringValue:HE},[QE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&kp(l)&&(l=hh(l)),l&&(c.fields[GE]=l),{mapValue:c}})(t,e):n instanceof Sl?dw(n,e):n instanceof Al?pw(n,e):(function(o,l){const c=fw(o,l),d=Hv(c)+Hv(o.Ae);return Gd(c)&&Gd(o.Ae)?hw(d):Dp(o.serializer,d)})(n,e)}function aP(n,e,t){return n instanceof Sl?dw(n,e):n instanceof Al?pw(n,e):t}function fw(n,e){return n instanceof Bc?(function(i){return Gd(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class jc extends ph{}class Sl extends ph{constructor(e){super(),this.elements=e}}function dw(n,e){const t=mw(e);for(const i of n.elements)t.some((o=>fr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Al extends ph{constructor(e){super(),this.elements=e}}function pw(n,e){let t=mw(e);for(const i of n.elements)t=t.filter((o=>!fr(o,i)));return{arrayValue:{values:t}}}class Bc extends ph{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Hv(n){return ht(n.integerValue||n.doubleValue)}function mw(n){return Np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function lP(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Sl&&o instanceof Sl||i instanceof Al&&o instanceof Al?zo(i.elements,o.elements,fr):i instanceof Bc&&o instanceof Bc?fr(i.Ae,o.Ae):i instanceof jc&&o instanceof jc})(n.transform,e.transform)}class uP{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mh{}function gw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vp(n.key,Mn.none()):new Vl(n.key,n.data,Mn.none());{const t=n.data,i=nn.empty();let o=new wt(bt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Gi(n.key,i,new dn(o.toArray()),Mn.none())}}function cP(n,e,t){n instanceof Vl?(function(o,l,c){const d=o.value.clone(),p=Gv(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Gi?(function(o,l,c){if(!yc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Gv(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(yw(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function fl(n,e,t,i){return n instanceof Vl?(function(l,c,d,p){if(!yc(l.precondition,c))return d;const m=l.value.clone(),_=Qv(l.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof Gi?(function(l,c,d,p){if(!yc(l.precondition,c))return d;const m=Qv(l.fieldTransforms,p,c),_=c.data;return _.setAll(yw(l)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(l,c,d){return yc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function hP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=fw(i.transform,o||null);l!=null&&(t===null&&(t=nn.empty()),t.set(i.field,l))}return t||null}function Kv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&zo(i,o,((l,c)=>lP(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vl extends mh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gi extends mh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Gv(n,e,t){const i=new Map;ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,aP(c,d,t[o]))}return i}function Qv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,oP(l,c,e))}return i}class Vp extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fP extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&cP(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=fl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=fl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=cw();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=gw(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Te.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,((t,i)=>Kv(t,i)))&&zo(this.baseMutations,e.baseMutations,((t,i)=>Kv(t,i)))}}class Lp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ze(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return tP})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Lp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,De;function gP(n){switch(n){case G.OK:return Ee(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function vw(n){if(n===void 0)return Mr("GRPC error has no .code"),G.UNKNOWN;switch(n){case mt.OK:return G.OK;case mt.CANCELLED:return G.CANCELLED;case mt.UNKNOWN:return G.UNKNOWN;case mt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case mt.INTERNAL:return G.INTERNAL;case mt.UNAVAILABLE:return G.UNAVAILABLE;case mt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case mt.NOT_FOUND:return G.NOT_FOUND;case mt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case mt.ABORTED:return G.ABORTED;case mt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case mt.DATA_LOSS:return G.DATA_LOSS;default:return Ee(39323,{code:n})}}(De=mt||(mt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new Di([4294967295,4294967295],0);function Xv(n){const e=yP().encode(n),t=new bE;return t.update(e),new Uint8Array(t.digest())}function Yv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Di([t,i],0),new Di([o,l],0)]}class Mp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new sl(`Invalid padding: ${t}`);if(i<0)throw new sl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new sl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Di.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Di.fromNumber(i)));return o.compare(vP)===1&&(o=new Di([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Xv(e),[i,o]=Yv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Mp(l,o,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=Xv(e),[i,o]=Yv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gh(Te.min(),o,new it(xe),Ur(),Oe())}}class Ll{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ll(i,t,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class _w{constructor(e,t){this.targetId=e,this.Ce=t}}class Ew{constructor(e,t,i=Dt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Jv{constructor(){this.ve=0,this.Fe=Zv(),this.Me=Dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),t=Oe(),i=Oe();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:l})}})),new Ll(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Zv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _P{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.Je=cc(),this.He=cc(),this.Ye=new it(xe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Xd(l))if(i===0){const c=new me(l.path);this.et(t,c,qt.newNoDocument(c,Te.min()))}else ze(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=Bi(i).toUint8Array()}catch(p){if(p instanceof WE)return Bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Mp(c,o,l)}catch(p){return Bo(p instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Xd(d.target)){const p=new me(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,qt.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Oe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new gh(e,t,this.Ye,this.je,i);return this.je=Ur(),this.Je=cc(),this.He=cc(),this.Ye=new it(xe),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Jv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new wt(xe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new wt(xe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function cc(){return new it(me.comparator)}function Zv(){return new it(me.comparator)}const EP={asc:"ASCENDING",desc:"DESCENDING"},wP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TP={and:"AND",or:"OR"};class IP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zd(n,e){return n.useProto3Json||ch(e)?e:{value:e}}function zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ww(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SP(n,e){return zc(n,e.toTimestamp())}function ar(n){return ze(!!n,49232),Te.fromTimestamp((function(t){const i=ji(t);return new Je(i.seconds,i.nanos)})(n))}function Fp(n,e){return ep(n,e).canonicalString()}function ep(n,e){const t=(function(o){return new Ge(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Tw(n){const e=Ge.fromString(n);return ze(Pw(e),10190,{key:e.toString()}),e}function tp(n,e){return Fp(n.databaseId,e.path)}function Id(n,e){const t=Tw(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(Sw(t))}function Iw(n,e){return Fp(n.databaseId,e)}function AP(n){const e=Tw(n);return e.length===4?Ge.emptyPath():Sw(e)}function np(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Sw(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function e_(n,e,t){return{name:tp(n,e),fields:t.value.mapValue.fields}}function RP(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ee(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,_){return m.useProto3Json?(ze(_===void 0||typeof _=="string",58123),Dt.fromBase64String(_||"")):(ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Dt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const _=m.code===void 0?G.UNKNOWN:vw(m.code);return new oe(_,m.message||"")})(c);t=new Ew(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Id(n,i.document.name),l=ar(i.document.updateTime),c=i.document.createTime?ar(i.document.createTime):Te.min(),d=new nn({mapValue:{fields:i.document.fields}}),p=qt.newFoundDocument(o,l,c,d),m=i.targetIds||[],_=i.removedTargetIds||[];t=new vc(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Id(n,i.document),l=i.readTime?ar(i.readTime):Te.min(),c=qt.newNoDocument(o,l),d=i.removedTargetIds||[];t=new vc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Id(n,i.document),l=i.removedTargetIds||[];t=new vc([],l,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new mP(o,l),d=i.targetId;t=new _w(d,c)}}return t}function PP(n,e){let t;if(e instanceof Vl)t={update:e_(n,e.key,e.value)};else if(e instanceof Vp)t={delete:tp(n,e.key)};else if(e instanceof Gi)t={update:e_(n,e.key,e.data),updateMask:LP(e.fieldMask)};else{if(!(e instanceof fP))return Ee(16599,{Vt:e.type});t={verify:tp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof jc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Sl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Al)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bc)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ee(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:SP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(n,e.precondition)),t}function CP(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?ar(o.updateTime):ar(l);return c.isEqual(Te.min())&&(c=ar(l)),new uP(c,o.transformResults||[])})(t,e)))):[]}function kP(n,e){return{documents:[Iw(n,e.path)]}}function NP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Iw(n,o);const l=(function(m){if(m.length!==0)return Rw(Fn.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((_=>(function(T){return{field:Co(T.field),direction:bP(T.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Zd(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function xP(n){let e=AP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ze(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const T=Aw(E);return T instanceof Fn&&tw(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((T=>(function(D){return new Uc(ko(D.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let T;return T=typeof E=="object"?E.value:E,ch(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(E){const T=!!E.before,P=E.values||[];return new Fc(P,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(E){const T=!E.before,P=E.values||[];return new Fc(P,T)})(t.endAt)),XR(e,o,c,l,d,"F",p,m)}function OP(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Aw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ko(t.unaryFilter.field);return gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ko(t.unaryFilter.field);return gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ko(t.unaryFilter.field);return gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ko(t.unaryFilter.field);return gt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return gt.create(ko(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Fn.create(t.compositeFilter.filters.map((i=>Aw(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function bP(n){return EP[n]}function DP(n){return wP[n]}function VP(n){return TP[n]}function Co(n){return{fieldPath:n.canonicalString()}}function ko(n){return bt.fromServerFormat(n.fieldPath)}function Rw(n){return n instanceof gt?(function(t){if(t.op==="=="){if(Bv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NAN"}};if(jv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NAN"}};if(jv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(t.field),op:DP(t.op),value:t.value}}})(n):n instanceof Fn?(function(t){const i=t.getFilters().map((o=>Rw(o)));return i.length===1?i[0]:{compositeFilter:{op:VP(t.op),filters:i}}})(n):Ee(54877,{filter:n})}function LP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Pw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t,i,o,l=Te.min(),c=Te.min(),d=Dt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.yt=e}}function FP(n){const e=xP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.Cn=new jP}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Ui.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class jP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new wt(Ge.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new wt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cw=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Cw,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",BP=1048576;function r_([n,e],[t,i]){const o=xe(n,t);return o===0?xe(e,i):o}class zP{constructor(e){this.Ir=e,this.buffer=new wt(r_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();r_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $P{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ea(t)?le(n_,"Ignoring IndexedDB error during garbage collection: ",t):await Zo(t)}await this.Vr(3e5)}))}}class qP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(uh.ce);const i=new zP(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(t_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,d,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(m=Date.now(),Ro()<=Ne.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function WP(n,e){return new qP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.changes=new Vs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&fl(i.mutation,o,dn.empty(),Je.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Oe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Oe()){const o=As();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=il();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=As();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Oe())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,o){let l=Ur();const c=hl(),d=(function(){return hl()})();return t.forEach(((p,m)=>{const _=i.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Gi)?l=l.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),fl(_.mutation,m,_.mutation.getFieldMask(),Je.now())):c.set(m.key,dn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,_)=>c.set(m,_))),t.forEach(((m,_)=>d.set(m,new KP(_,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=hl();let o=new it(((c,d)=>c-d)),l=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let _=i.get(p)||dn.empty();_=d.applyToLocalView(m,_),i.set(p,_);const E=(o.get(d.batchId)||Oe()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,_=p.value,E=cw();_.forEach((T=>{if(!l.has(T)){const P=gw(t.get(T),i.get(T));P!==null&&E.set(T,P),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,E))}return X.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(As());let d=El,p=l;return c.next((m=>X.forEach(m,((_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{p=p.insert(_,T)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Oe()))).next((_=>({batchId:d,changes:uw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((i=>{let o=il();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=il();return this.indexManager.getCollectionParents(e,l).next((d=>X.forEach(d,(p=>{const m=(function(E,T){return new Dl(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((_=>{_.forEach(((E,T)=>{c=c.insert(E,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,qt.newInvalidDocument(_)))}));let d=il();return c.forEach(((p,m)=>{const _=l.get(p);_!==void 0&&fl(_.mutation,m,dn.empty(),Je.now()),dh(t,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:FP(o.bundledQuery),readTime:ar(o.readTime)}})(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.overlays=new it(me.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=As();return X.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=As(),l=t.length+1,c=new me(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new it(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=l.get(m.largestBatchId);_===null&&(_=As(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=As(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,_)=>d.set(m,_))),!(d.size()>=o)););return X.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new pP(t,i));let l=this.qr.get(t);l===void 0&&(l=Oe(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Qr=new wt(Rt.$r),this.Ur=new wt(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Rt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Rt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new me(new Ge([])),i=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new me(new Ge([])),i=new Rt(t,e),o=new Rt(t,e+1);let l=Oe();return this.Ur.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Rt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return me.comparator(e.key,t.key)||xe(e.Yr,t.Yr)}static Kr(e,t){return xe(e.Yr,t.Yr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new wt(Rt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new dP(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new Rt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cp:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(c=>{const d=this.Xr(c.Yr);l.push(d)})),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(xe);return t.forEach((o=>{const l=new Rt(o,0),c=new Rt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),X.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;me.isDocumentKey(l)||(l=l.child(""));const c=new Rt(new me(l),0);let d=new wt(xe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(d=d.add(p.Yr)),!0)}),c),X.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return X.forEach(t.mutations,(o=>{const l=new Rt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Rt(t,0),o=this.Zr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.ri=e,this.docs=(function(){return new it(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():qt.newInvalidDocument(o))})),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Ur();const c=t.path,d=new me(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||CR(PR(_),i)<=0||(o.has(_.key)||dh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ee(9500)}ii(e,t){return X.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new eC(this)}getSize(e){return X.resolve(this.size)}}class eC extends HP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.persistence=e,this.si=new Vs((t=>xp(t)),Op),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Up,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),X.waitFor(l).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new YP,this.referenceDelegate=e(this),this.Pi=new tC(this),this.indexManager=new UP,this.remoteDocumentCache=(function(o){return new ZP(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new MP(t),this.Ii=new QP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new JP(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new nC(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return X.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class nC extends NR{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ri=new Up,this.Vi=null}static mi(e){return new jp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(i=>{const o=me.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class $c{constructor(e,t){this.persistence=e,this.pi=new Vs((i=>bR(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=WP(this,t)}static mi(e,t){return new $c(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?X.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Te.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mc(e.data.value)),t}br(e,t,i){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Oe(),o=Oe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Bp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Y1()?8:xR(Wt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new rC;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Ro()<=Ne.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ro()<=Ne.DEBUG&&le("QueryEngine","Query:",Po(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Ro()<=Ne.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):X.resolve())}ys(e,t){if(Wv(t))return X.resolve(null);let i=or(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Jd(t,null,"F"),i=or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Oe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const m=this.Ds(t,d);return this.Cs(t,m,c,p.readTime)?this.ys(e,Jd(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,i,o){return Wv(t)||o.isEqual(Te.min())?X.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?X.resolve(null):(Ro()<=Ne.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Po(t)),this.vs(e,c,t,RR(o,El)).next((d=>d)))}))}Ds(e,t){let i=new wt(aw(e));return t.forEach(((o,l)=>{dh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return Ro()<=Ne.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Po(t)),this.ps.getDocumentsMatchingQuery(e,t,Ui.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",sC=3e8;class oC{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(xe),this.xs=new Vs((l=>xp(l)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function aC(n,e,t,i){return new oC(n,e,t,i)}async function Nw(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=Oe();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){d.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function lC(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,_){const E=m.batch,T=E.keys();let P=X.resolve();return T.forEach((D=>{P=P.next((()=>_.getEntry(p,D))).next((O=>{const S=m.docVersions.get(D);ze(S!==null,48541),O.version.compareTo(S)<0&&(E.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),_.addEntry(O)))}))})),P.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Oe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function xw(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function uC(n,e){const t=Se(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((_,E)=>{const T=o.get(E);if(!T)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,E))));let P=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?P=P.withResumeToken(Dt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,i)),o=o.insert(E,P),(function(O,S,Q){return O.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=sC?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(T,P,_)&&d.push(t.Pi.updateTargetData(l,P))}));let p=Ur(),m=Oe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(cC(l,c,e.documentUpdates).next((_=>{p=_.ks,m=_.qs}))),!i.isEqual(Te.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(_)}return X.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function cC(n,e,t){let i=Oe(),o=Oe();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Ur();return t.forEach(((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):le(zp,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function hC(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Cp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function fC(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,X.resolve(o)):t.Pi.allocateTargetId(i).next((c=>(o=new Pi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function rp(n,e,t){const i=Se(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ea(c))throw c;le(zp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function i_(n,e,t){const i=Se(n);let o=Te.min(),l=Oe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,_){const E=Se(p),T=E.xs.get(_);return T!==void 0?X.resolve(E.Ms.get(T)):E.Pi.getTargetData(m,_)})(i,c,or(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Te.min(),t?l:Oe()))).next((d=>(dC(i,JR(e),d),{documents:d,Qs:l})))))}function dC(n,e,t){let i=n.Os.get(e)||Te.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class s_{constructor(){this.activeTargetIds=iP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pC{constructor(){this.Mo=new s_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="ConnectivityMonitor";class a_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(o_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function ip(){return hc===null?hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="RestConnection",gC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Lc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=ip(),d=this.zo(e,t.toUriEncodedString());le(Sd,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:m}=new URL(d),_=Xo(m);return this.Jo(e,d,p,i,_).then((E=>(le(Sd,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Bo(Sd,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E}))}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=gC[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class _C extends yC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=ip();return new Promise(((d,p)=>{const m=new DE;m.setWithCredentials(!0),m.listenOnce(VE.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case pc.NO_ERROR:const E=m.getResponseJson();le(Bt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case pc.TIMEOUT:le(Bt,`RPC '${e}' ${c} timed out`),p(new oe(G.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const T=m.getStatus();if(le(Bt,`RPC '${e}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let P=m.getResponseJson();Array.isArray(P)&&(P=P[0]);const D=P?.error;if(D&&D.status&&D.message){const O=(function(Q){const W=Q.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(W)>=0?W:G.UNKNOWN})(D.status);p(new oe(O,D.message))}else p(new oe(G.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new oe(G.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le(Bt,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);le(Bt,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",_,i,15)}))}T_(e,t,i){const o=ip(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=FE(),d=ME(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");le(Bt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);this.I_(E);let T=!1,P=!1;const D=new vC({Yo:S=>{P?le(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(T||(le(Bt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),le(Bt,`RPC '${e}' stream ${o} sending:`,S),E.send(S))},Zo:()=>E.close()}),O=(S,Q,W)=>{S.listen(Q,(H=>{try{W(H)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return O(E,rl.EventType.OPEN,(()=>{P||(le(Bt,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),O(E,rl.EventType.CLOSE,(()=>{P||(P=!0,le(Bt,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(E))})),O(E,rl.EventType.ERROR,(S=>{P||(P=!0,Bo(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),D.a_(new oe(G.UNAVAILABLE,"The operation could not be completed")))})),O(E,rl.EventType.MESSAGE,(S=>{if(!P){const Q=S.data[0];ze(!!Q,16349);const W=Q,H=W?.error||W[0]?.error;if(H){le(Bt,`RPC '${e}' stream ${o} received error:`,H);const ie=H.status;let K=(function(A){const k=mt[A];if(k!==void 0)return vw(k)})(ie),he=H.message;K===void 0&&(K=G.INTERNAL,he="Unknown error status: "+ie+" with message "+H.message),P=!0,D.a_(new oe(K,he)),E.close()}else le(Bt,`RPC '${e}' stream ${o} received:`,Q),D.u_(Q)}})),O(d,LE.STAT_EVENT,(S=>{S.stat===Wd.PROXY?le(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===Wd.NOPROXY&&le(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n){return new IP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class bw{constructor(e,t,i,o,l,c,d,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ow(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new oe(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(le(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EC extends bw{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=RP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Te.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Te.min():c.readTime?ar(c.readTime):Te.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=np(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=Xd(p)?{documents:kP(l,p)}:{query:NP(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=ww(l,c.resumeToken);const m=Zd(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Te.min())>0){d.readTime=zc(l,c.snapshotVersion.toTimestamp());const m=Zd(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const i=OP(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=np(this.serializer),t.removeTarget=e,this.q_(t)}}class wC extends bw{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=CP(e.writeResults,e.commitTime),i=ar(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=np(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>PP(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{}class IC extends TC{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ep(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(G.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,ep(t,i),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(G.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class AC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ls(this)&&(le(Os,"Restarting streams for network reachability change."),await(async function(p){const m=Se(p);m.Ea.add(4),await Ml(m),m.Ra.set("Unknown"),m.Ea.delete(4),await vh(m)})(this))}))})),this.Ra=new SC(i,o)}}async function vh(n){if(Ls(n))for(const e of n.da)await e(!0)}async function Ml(n){for(const e of n.da)await e(!1)}function Dw(n,e){const t=Se(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Hp(t)?Wp(t):ta(t).O_()&&qp(t,e))}function $p(n,e){const t=Se(n),i=ta(t);t.Ia.delete(e),i.O_()&&Vw(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ls(t)&&t.Ra.set("Unknown"))}function qp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ta(n).Y_(e)}function Vw(n,e){n.Va.Ue(e),ta(n).Z_(e)}function Wp(n){n.Va=new _P({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ta(n).start(),n.Ra.ua()}function Hp(n){return Ls(n)&&!ta(n).x_()&&n.Ia.size>0}function Ls(n){return Se(n).Ea.size===0}function Lw(n){n.Va=void 0}async function RC(n){n.Ra.set("Online")}async function PC(n){n.Ia.forEach(((e,t)=>{qp(n,e)}))}async function CC(n,e){Lw(n),Hp(n)?(n.Ra.ha(e),Wp(n)):n.Ra.set("Unknown")}async function kC(n,e,t){if(n.Ra.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(i){le(Os,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await qc(n,i)}else if(e instanceof vc?n.Va.Ze(e):e instanceof _w?n.Va.st(e):n.Va.tt(e),!t.isEqual(Te.min()))try{const i=await xw(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(m);_&&l.Ia.set(m,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(Dt.EMPTY_BYTE_STRING,_.snapshotVersion)),Vw(l,p);const E=new Pi(_.target,p,m,_.sequenceNumber);qp(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){le(Os,"Failed to raise snapshot:",i),await qc(n,i)}}async function qc(n,e,t){if(!ea(e))throw e;n.Ea.add(1),await Ml(n),n.Ra.set("Offline"),t||(t=()=>xw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{le(Os,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await vh(n)}))}function Mw(n,e){return e().catch((t=>qc(n,t,e)))}async function _h(n){const e=Se(n),t=$i(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;NC(e);)try{const o=await hC(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,xC(e,o)}catch(o){await qc(e,o)}Fw(e)&&Uw(e)}function NC(n){return Ls(n)&&n.Ta.length<10}function xC(n,e){n.Ta.push(e);const t=$i(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Fw(n){return Ls(n)&&!$i(n).x_()&&n.Ta.length>0}function Uw(n){$i(n).start()}async function OC(n){$i(n).ra()}async function bC(n){const e=$i(n);for(const t of n.Ta)e.ea(t.mutations)}async function DC(n,e,t){const i=n.Ta.shift(),o=Lp.from(i,e,t);await Mw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await _h(n)}async function VC(n,e){e&&$i(n).X_&&await(async function(i,o){if((function(c){return gP(c)&&c!==G.ABORTED})(o.code)){const l=i.Ta.shift();$i(i).B_(),await Mw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await _h(i)}})(n,e),Fw(n)&&Uw(n)}async function u_(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),le(Os,"RemoteStore received new credentials");const i=Ls(t);t.Ea.add(3),await Ml(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vh(t)}async function LC(n,e){const t=Se(n);e?(t.Ea.delete(2),await vh(t)):e||(t.Ea.add(2),await Ml(t),t.Ra.set("Unknown"))}function ta(n){return n.ma||(n.ma=(function(t,i,o){const l=Se(t);return l.sa(),new EC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:RC.bind(null,n),t_:PC.bind(null,n),r_:CC.bind(null,n),H_:kC.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Hp(n)?Wp(n):n.Ra.set("Unknown")):(await n.ma.stop(),Lw(n))}))),n.ma}function $i(n){return n.fa||(n.fa=(function(t,i,o){const l=Se(t);return l.sa(),new wC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:OC.bind(null,n),r_:VC.bind(null,n),ta:bC.bind(null,n),na:DC.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await _h(n)):(await n.fa.stop(),n.Ta.length>0&&(le(Os,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new Kp(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(n,e){if(Mr("AsyncQueue",`${e}: ${n}`),ea(n))return new oe(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||me.comparator(t.key,i.key):(t,i)=>me.comparator(t.key,i.key),this.keyedMap=il(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ga=new it(me.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Ho{constructor(e,t,i,o,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Ho(e,t,bo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FC{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Se(t),l=o.queries;o.queries=h_(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new oe(G.ABORTED,"Firestore shutting down"))}}function h_(){return new Vs((n=>ow(n)),fh)}async function jw(n,e){const t=Se(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new MC,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Gp(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Qp(t)}async function Bw(n,e){const t=Se(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function UC(n,e){const t=Se(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(i=!0);c.wa=o}}i&&Qp(t)}function jC(n,e,t){const i=Se(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function Qp(n){n.Ca.forEach((e=>{e.next()}))}var sp,f_;(f_=sp||(sp={})).Ma="default",f_.Cache="cache";class zw{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ho(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.key=e}}class qw{constructor(e){this.key=e}}class BC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=aw(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new c_,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const T=o.get(_),P=dh(this.query,E)?E:null,D=!!T&&this.mutatedKeys.has(T.key),O=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let S=!1;T&&P?T.data.isEqual(P.data)?D!==O&&(i.track({type:3,doc:P}),S=!0):this.su(T,P)||(i.track({type:2,doc:P}),S=!0,(p&&this.eu(P,p)>0||m&&this.eu(P,m)<0)&&(d=!0)):!T&&P?(i.track({type:0,doc:P}),S=!0):T&&!P&&(i.track({type:1,doc:T}),S=!0,(p||m)&&(d=!0)),S&&(P?(c=c.add(P),l=O?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(P,D){const O=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:S})}};return O(P)-O(D)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new Ho(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new qw(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new $w(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Oe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xp="SyncEngine";class zC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class $C{constructor(e){this.key=e,this.hu=!1}}class qC{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Vs((d=>ow(d)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new it(me.comparator),this.Au=new Map,this.Ru=new Up,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WC(n,e,t=!0){const i=Xw(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Ww(i,e,t,!0),o}async function HC(n,e){const t=Xw(n);await Ww(t,e,!0,!1)}async function Ww(n,e,t,i){const o=await fC(n.localStore,or(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await KC(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Dw(n.remoteStore,o),d}async function KC(n,e,t,i,o){n.pu=(E,T,P)=>(async function(O,S,Q,W){let H=S.view.ru(Q);H.Cs&&(H=await i_(O.localStore,S.query,!1).then((({documents:N})=>S.view.ru(N,H))));const ie=W&&W.targetChanges.get(S.targetId),K=W&&W.targetMismatches.get(S.targetId)!=null,he=S.view.applyChanges(H,O.isPrimaryClient,ie,K);return p_(O,S.targetId,he.au),he.snapshot})(n,E,T,P);const l=await i_(n.localStore,e,!0),c=new BC(e,l.Qs),d=c.ru(l.documents),p=Ll.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(d,n.isPrimaryClient,p);p_(n,t,m.au);const _=new zC(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function GC(n,e,t){const i=Se(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!fh(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&$p(i.remoteStore,o.targetId),op(i,o.targetId)})).catch(Zo)):(op(i,o.targetId),await rp(i.localStore,o.targetId,!0))}async function QC(n,e){const t=Se(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),$p(t.remoteStore,i.targetId))}async function XC(n,e,t){const i=rk(n);try{const o=await(function(c,d){const p=Se(c),m=Je.now(),_=d.reduce(((P,D)=>P.add(D.key)),Oe());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let D=Ur(),O=Oe();return p.Ns.getEntries(P,_).next((S=>{D=S,D.forEach(((Q,W)=>{W.isValidDocument()||(O=O.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,D))).next((S=>{E=S;const Q=[];for(const W of d){const H=hP(W,E.get(W.key).overlayedDocument);H!=null&&Q.push(new Gi(W.key,H,JE(H.value.mapValue),Mn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,m,Q,d)})).next((S=>{T=S;const Q=S.applyToLocalDocumentSet(E,O);return p.documentOverlayCache.saveOverlays(P,S.batchId,Q)}))})).then((()=>({batchId:T.batchId,changes:uw(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new it(xe)),m=m.insert(d,p),c.Vu[c.currentUser.toKey()]=m})(i,o.batchId,t),await Fl(i,o.changes),await _h(i.remoteStore)}catch(o){const l=Gp(o,"Failed to persist write");t.reject(l)}}async function Hw(n,e){const t=Se(n);try{const i=await uC(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ze(c.hu,14607):o.removedDocuments.size>0&&(ze(c.hu,42227),c.hu=!1))})),await Fl(t,i,e)}catch(i){await Zo(i)}}function d_(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Se(c);p.onlineState=d;let m=!1;p.queries.forEach(((_,E)=>{for(const T of E.Sa)T.va(d)&&(m=!0)})),m&&Qp(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function YC(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new it(me.comparator);c=c.insert(l,qt.newNoDocument(l,Te.min()));const d=Oe().add(l),p=new gh(Te.min(),new Map,new it(xe),c,d);await Hw(i,p),i.du=i.du.remove(l),i.Au.delete(e),Yp(i)}else await rp(i.localStore,e,!1).then((()=>op(i,e,t))).catch(Zo)}async function JC(n,e){const t=Se(n),i=e.batch.batchId;try{const o=await lC(t.localStore,e);Gw(t,i,null),Kw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Fl(t,o)}catch(o){await Zo(o)}}async function ZC(n,e,t){const i=Se(n);try{const o=await(function(c,d){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return p.mutationQueue.lookupMutationBatch(m,d).next((E=>(ze(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(m,E)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>p.localDocuments.getDocuments(m,_)))}))})(i.localStore,e);Gw(i,e,t),Kw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Fl(i,o)}catch(o){await Zo(o)}}function Kw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Gw(n,e,t){const i=Se(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function op(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||Qw(n,i)}))}function Qw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&($p(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Yp(n))}function p_(n,e,t){for(const i of t)i instanceof $w?(n.Ru.addReference(i.key,e),ek(n,i)):i instanceof qw?(le(Xp,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||Qw(n,i.key)):Ee(19791,{wu:i})}function ek(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(le(Xp,"New document in limbo: "+t),n.Eu.add(i),Yp(n))}function Yp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new me(Ge.fromString(e)),i=n.fu.next();n.Au.set(i,new $C(t)),n.du=n.du.insert(t,i),Dw(n.remoteStore,new Pi(or(bp(t.path)),i,"TargetPurposeLimboResolution",uh.ce))}}async function Fl(n,e,t){const i=Se(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((m=>{if((m||t)&&i.isPrimaryClient){const _=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){o.push(m);const _=Bp.As(p.targetId,m);l.push(_)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(p,m){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>X.forEach(m,(T=>X.forEach(T.Es,(P=>_.persistence.referenceDelegate.addReference(E,T.targetId,P))).next((()=>X.forEach(T.ds,(P=>_.persistence.referenceDelegate.removeReference(E,T.targetId,P)))))))))}catch(E){if(!ea(E))throw E;le(zp,"Failed to update sequence numbers: "+E)}for(const E of m){const T=E.targetId;if(!E.fromCache){const P=_.Ms.get(T),D=P.snapshotVersion,O=P.withLastLimboFreeSnapshotVersion(D);_.Ms=_.Ms.insert(T,O)}}})(i.localStore,l))}async function tk(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){le(Xp,"User change. New user:",e.toKey());const i=await Nw(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new oe(G.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fl(t,i.Ls)}}function nk(n,e){const t=Se(n),i=t.Au.get(e);if(i&&i.hu)return Oe().add(i.key);{let o=Oe();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function Xw(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YC.bind(null,e),e.Pu.H_=UC.bind(null,e.eventManager),e.Pu.yu=jC.bind(null,e.eventManager),e}function rk(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZC.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return aC(this.persistence,new iC,e.initialUser,this.serializer)}Cu(e){return new kw(jp.mi,this.serializer)}Du(e){return new pC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class ik extends Wc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof $c,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new $P(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new kw((i=>$c.mi(i,t)),this.serializer)}}class ap{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>d_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tk.bind(null,this.syncEngine),await LC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FC})()}createDatastore(e){const t=yh(e.databaseInfo.databaseId),i=(function(l){return new _C(l)})(e.databaseInfo);return(function(l,c,d,p){return new IC(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,d){return new AC(i,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>d_(this.syncEngine,t,0)),(function(){return a_.v()?new a_:new mC})())}createSyncEngine(e,t){return(function(o,l,c,d,p,m,_){const E=new qC(o,l,c,d,p,m);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Se(t);le(Os,"RemoteStore shutting down."),i.Ea.add(5),await Ml(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="FirestoreClient";class sk{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{le(qi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(le(qi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Gp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Rd(n,e){n.asyncQueue.verifyOperationInProgress(),le(qi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Nw(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function m_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ok(n);le(qi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>u_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>u_(e.remoteStore,o))),n._onlineComponents=e}async function ok(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(qi,"Using user provided OfflineComponentProvider");try{await Rd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Bo("Error using user provided cache. Falling back to memory cache: "+t),await Rd(n,new Wc)}}else le(qi,"Using default OfflineComponentProvider"),await Rd(n,new ik(void 0));return n._offlineComponents}async function Jw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(qi,"Using user provided OnlineComponentProvider"),await m_(n,n._uninitializedComponentsProvider._online)):(le(qi,"Using default OnlineComponentProvider"),await m_(n,new ap))),n._onlineComponents}function ak(n){return Jw(n).then((e=>e.syncEngine))}async function Zw(n){const e=await Jw(n),t=e.eventManager;return t.onListen=WC.bind(null,e.syncEngine),t.onUnlisten=GC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QC.bind(null,e.syncEngine),t}function lk(n,e,t={}){const i=new br;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,m){const _=new Yw({next:T=>{_.Nu(),c.enqueueAndForget((()=>Bw(l,E)));const P=T.docs.has(d);!P&&T.fromCache?m.reject(new oe(G.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&T.fromCache&&p&&p.source==="server"?m.reject(new oe(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),E=new zw(bp(d.path),_,{includeMetadataChanges:!0,qa:!0});return jw(l,E)})(await Zw(n),n.asyncQueue,e,t,i))),i.promise}function uk(n,e,t={}){const i=new br;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,m){const _=new Yw({next:T=>{_.Nu(),c.enqueueAndForget((()=>Bw(l,E))),T.fromCache&&p.source==="server"?m.reject(new oe(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),E=new zw(d,_,{includeMetadataChanges:!0,qa:!0});return jw(l,E)})(await Zw(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firestore.googleapis.com",y_=!0;class v_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tT,this.ssl=y_}else this.host=e.host,this.ssl=e.ssl??y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BP)throw new oe(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new mR;switch(i.type){case"firstParty":return new _R(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=g_.get(t);i&&(le("ComponentProvider","Removing Datastore"),g_.delete(t),i.terminate())})(this),Promise.resolve()}}function ck(n,e,t,i={}){n=Fr(n,Eh);const o=Xo(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(AE(`https://${d}`),RE("Firestore",!0)),l.host!==tT&&l.host!==d&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:o,emulatorOptions:i};if(!ks(p,c)&&(n._setSettings(p),i.mockUserToken)){let m,_;if(typeof i.mockUserToken=="string")m=i.mockUserToken,_=$t.MOCK_USER;else{m=z1(i.mockUserToken,n._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new oe(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new $t(E)}n._authCredentials=new gR(new jE(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class vt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(bl(t,vt._jsonSchema))return new vt(e,i||null,new me(Ge.fromString(t.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:yt("string",vt._jsonSchemaVersion),referencePath:yt("string")};class Vi extends na{constructor(e,t,i){super(e,t,bp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new me(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function Hc(n,e,...t){if(n=Pt(n),BE("collection","path",e),n instanceof Eh){const i=Ge.fromString(e,...t);return xv(i),new Vi(n,null,i)}{if(!(n instanceof vt||n instanceof Vi))throw new oe(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ge.fromString(e,...t));return xv(i),new Vi(n.firestore,null,i)}}function Ul(n,e,...t){if(n=Pt(n),arguments.length===1&&(e=Pp.newId()),BE("doc","path",e),n instanceof Eh){const i=Ge.fromString(e,...t);return Nv(i),new vt(n,null,new me(i))}{if(!(n instanceof vt||n instanceof Vi))throw new oe(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ge.fromString(e,...t));return Nv(i),new vt(n.firestore,n instanceof Vi?n.converter:null,new me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ow(this,"async_queue_retry"),this._c=()=>{const i=Ad();i&&le(__,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Ad();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ad();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ea(e))throw e;le(__,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",w_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Kp.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:w_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function w_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ra extends Eh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new E_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function hk(n,e){const t=typeof n=="object"?n:NE(),i=typeof n=="string"?n:Lc,o=Ap(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=j1("firestore");l&&ck(o,...l)}return o}function Jp(n){if(n._terminated)throw new oe(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fk(n),n._firestoreClient}function fk(n){const e=n._freezeSettings(),t=(function(o,l,c,d){return new LR(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,eT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new sk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Dt.fromBase64String(e))}catch(t){throw new oe(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sn(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bl(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:yt("string",Sn._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lr._jsonSchemaVersion}}static fromJSON(e){if(bl(e,lr._jsonSchema))return new lr(e.latitude,e.longitude)}}lr._jsonSchemaVersion="firestore/geoPoint/1.0",lr._jsonSchema={type:yt("string",lr._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bl(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ur(e.vectorValues);throw new oe(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:yt("string",ur._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=/^__.*__$/;class pk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vl(e,this.data,t,this.fieldTransforms)}}class nT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Gi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class em{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new em({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rT(this.Ac)&&dk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||yh(e)}Cc(e,t,i,o=!1){return new em({Ac:e,methodName:t,Dc:i,path:bt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tm(n){const e=n._freezeSettings(),t=yh(n._databaseId);return new mk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gk(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);nm("Data must be an object, but it was:",c,i);const d=iT(i,c);let p,m;if(l.merge)p=new dn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const T=lp(e,E,t);if(!c.contains(T))throw new oe(G.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);oT(_,T)||_.push(T)}p=new dn(_),m=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,m=c.fieldTransforms;return new pk(new nn(d),p,m)}class Th extends Zp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function yk(n,e,t,i){const o=n.Cc(1,e,t);nm("Data must be an object, but it was:",o,i);const l=[],c=nn.empty();Ki(i,((p,m)=>{const _=rm(e,p,t);m=Pt(m);const E=o.yc(_);if(m instanceof Th)l.push(_);else{const T=jl(m,E);T!=null&&(l.push(_),c.set(_,T))}}));const d=new dn(l);return new nT(c,d,o.fieldTransforms)}function vk(n,e,t,i,o,l){const c=n.Cc(1,e,t),d=[lp(e,i,t)],p=[o];if(l.length%2!=0)throw new oe(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(lp(e,l[T])),p.push(l[T+1]);const m=[],_=nn.empty();for(let T=d.length-1;T>=0;--T)if(!oT(m,d[T])){const P=d[T];let D=p[T];D=Pt(D);const O=c.yc(P);if(D instanceof Th)m.push(P);else{const S=jl(D,O);S!=null&&(m.push(P),_.set(P,S))}}const E=new dn(m);return new nT(_,E,c.fieldTransforms)}function _k(n,e,t,i=!1){return jl(t,n.Cc(i?4:3,e))}function jl(n,e){if(sT(n=Pt(n)))return nm("Unsupported field value:",e,n),iT(n,e);if(n instanceof Zp)return(function(i,o){if(!rT(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const d of i){let p=jl(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=Pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return sP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Je.fromDate(i);return{timestampValue:zc(o.serializer,l)}}if(i instanceof Je){const l=new Je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zc(o.serializer,l)}}if(i instanceof lr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sn)return{bytesValue:ww(o.serializer,i._byteString)};if(i instanceof vt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Fp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof ur)return(function(c,d){return{mapValue:{fields:{[XE]:{stringValue:YE},[Mc]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return Dp(d.serializer,m)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${lh(i)}`)})(n,e)}function iT(n,e){const t={};return qE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(n,((i,o)=>{const l=jl(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function sT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Je||n instanceof lr||n instanceof Sn||n instanceof vt||n instanceof Zp||n instanceof ur)}function nm(n,e,t){if(!sT(t)||!zE(t)){const i=lh(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function lp(n,e,t){if((e=Pt(e))instanceof wh)return e._internalPath;if(typeof e=="string")return rm(n,e);throw Kc("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ek=new RegExp("[~\\*/\\[\\]]");function rm(n,e,t){if(e.search(Ek)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wh(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new oe(G.INVALID_ARGUMENT,d+n+p)}function oT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(im("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wk extends aT{data(){return super.data()}}function im(n,e){return typeof e=="string"?rm(n,e):e instanceof wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sm{}class Ik extends sm{}function lT(n,e,...t){let i=[];e instanceof sm&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof om)).length,d=l.filter((p=>p instanceof Ih)).length;if(c>1||c>0&&d>0)throw new oe(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class Ih extends Ik{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ih(e,t,i)}_apply(e){const t=this._parse(e);return cT(e._query,t),new na(e.firestore,e.converter,Yd(e._query,t))}_parse(e){const t=tm(e.firestore);return(function(l,c,d,p,m,_,E){let T;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new oe(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){I_(E,_);const D=[];for(const O of E)D.push(T_(p,l,O));T={arrayValue:{values:D}}}else T=T_(p,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||I_(E,_),T=_k(d,c,E,_==="in"||_==="not-in");return gt.create(m,_,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function uT(n,e,t){const i=e,o=im("where",n);return Ih._create(o,i,t)}class om extends sm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new om(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)cT(c,p),c=Yd(c,p)})(e._query,t),new na(e.firestore,e.converter,Yd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T_(n,e,t){if(typeof(t=Pt(t))=="string"){if(t==="")throw new oe(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sw(e)&&t.indexOf("/")!==-1)throw new oe(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ge.fromString(t));if(!me.isDocumentKey(i))throw new oe(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Uv(n,new me(i))}if(t instanceof vt)return Uv(n,t._key);throw new oe(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(t)}.`)}function I_(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cT(n,e){const t=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Sk{convertValue(e,t="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ki(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Mc].arrayValue?.values?.map((i=>ht(i.doubleValue)));return new ur(t)}convertGeoPoint(e){return new lr(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=hh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const t=ji(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ge.fromString(e);ze(Pw(i),9688,{name:e});const o=new Tl(i.get(1),i.get(3)),l=new me(i.popFirst(5));return o.isEqual(t)||Mr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends aT{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(im("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ps._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:yt("string",Ps._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class _c extends Ps{data(e={}){return super.data(e)}}class Do{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ol(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new _c(this._firestore,this._userDataWriter,i.key,i,new ol(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new _c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ol(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new _c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ol(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:Rk(d.type),doc:p,oldIndex:m,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Do._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Rk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n){n=Fr(n,vt);const e=Fr(n.firestore,ra);return lk(Jp(e),n._key).then((t=>kk(e,n,t)))}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:yt("string",Do._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class hT extends Sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function fT(n){n=Fr(n,na);const e=Fr(n.firestore,ra),t=Jp(e),i=new hT(e);return Tk(n._query),uk(t,n._query).then((o=>new Do(e,i,n,o)))}function Ck(n,e,t,...i){n=Fr(n,vt);const o=Fr(n.firestore,ra),l=tm(o);let c;return c=typeof(e=Pt(e))=="string"||e instanceof wh?vk(l,"updateDoc",n._key,e,t,i):yk(l,"updateDoc",n._key,e),am(o,[c.toMutation(n._key,Mn.exists(!0))])}function dT(n){return am(Fr(n.firestore,ra),[new Vp(n._key,Mn.none())])}function pT(n,e){const t=Fr(n.firestore,ra),i=Ul(n),o=Ak(n.converter,e);return am(t,[gk(tm(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Mn.exists(!1))]).then((()=>i))}function am(n,e){return(function(i,o){const l=new br;return i.asyncQueue.enqueueAndForget((async()=>XC(await ak(i),o,l))),l.promise})(Jp(n),e)}function kk(n,e,t){const i=t.docs.get(e._key),o=new hT(n);return new Ps(n,o,e._key,i,new ol(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Jo=o})(Yo),jo(new Ns("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ra(new yR(i.getProvider("auth-internal")),new ER(c,i.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new oe(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(m.options.projectId,_)})(c,o),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),bi(Rv,Pv,e),bi(Rv,Pv,"esm2020")})();var Nk="firebase",xk="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(Nk,xk,"app");function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ok=mT,gT=new xl("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Ip("@firebase/auth");function bk(n,...e){Gc.logLevel<=Ne.WARN&&Gc.warn(`Auth (${Yo}): ${n}`,...e)}function Ec(n,...e){Gc.logLevel<=Ne.ERROR&&Gc.error(`Auth (${Yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n,...e){throw lm(n,...e)}function cr(n,...e){return lm(n,...e)}function yT(n,e,t){const i={...Ok(),[e]:t};return new xl("auth","Firebase",i).create(e,{appName:n.name})}function Dr(n){return yT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return gT.create(n,...e)}function _e(n,e,...t){if(!n)throw lm(e,...t)}function xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ec(e),new Error(e)}function jr(n,e){n||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){return typeof self<"u"&&self.location?.href||""}function Dk(){return S_()==="http:"||S_()==="https:"}function S_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dk()||G1()||"connection"in navigator)?navigator.onLine:!0}function Lk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=W1()||Q1()}get(){return Vk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(n,e){jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uk=new Bl(3e4,6e4);function zr(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $r(n,e,t,i,o={}){return _T(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Ol({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...l};return K1()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Xo(n.emulatorConfig.host)&&(m.credentials="include"),vT.fetch()(await ET(n,n.config.apiHost,t,d),m)})}async function _T(n,e,t){n._canInitEmulator=!1;const i={...Mk,...e};try{const o=new Bk(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw fc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw fc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw fc(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw yT(n,_,m);Un(n,_)}}catch(o){if(o instanceof Br)throw o;Un(n,"network-request-failed",{message:String(o)})}}async function zl(n,e,t,i,o={}){const l=await $r(n,e,t,i,o);return"mfaPendingCredential"in l&&Un(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function ET(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?um(n.config,o):`${n.config.apiScheme}://${o}`;return Fk.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function jk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(cr(this.auth,"network-request-failed")),Uk.get())})}}function fc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=cr(n,e,i);return o.customData._tokenResponse=t,o}function A_(n){return n!==void 0&&n.enterprise!==void 0}class zk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $k(n,e){return $r(n,"GET","/v2/recaptchaConfig",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e){return $r(n,"POST","/v1/accounts:delete",e)}async function Qc(n,e){return $r(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wk(n,e=!1){const t=Pt(n),i=await t.getIdToken(e),o=cm(i);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:i,authTime:dl(Pd(o.auth_time)),issuedAtTime:dl(Pd(o.iat)),expirationTime:dl(Pd(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Pd(n){return Number(n)*1e3}function cm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const o=wE(t);return o?JSON.parse(o):(Ec("Failed to decode base64 JWT payload"),null)}catch(o){return Ec("Caught error parsing JWT payload as JSON",o?.toString()),null}}function R_(n){const e=cm(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Br&&Hk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Hk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(n){const e=n.auth,t=await n.getIdToken(),i=await Rl(n,Qc(e,{idToken:t}));_e(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?wT(o.providerUserInfo):[],c=Qk(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,m=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function Gk(n){const e=Pt(n);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qk(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function wT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(n,e){const t=await _T(n,{},async()=>{const i=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await ET(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&Xo(n.emulatorConfig.host)&&(p.credentials="include"),vT.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Yk(n,e){return $r(n,"POST","/v2/accounts:revokeToken",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=R_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await Xk(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Vo;return i&&(_e(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(_e(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(_e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ln{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new Kk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Wk(this,e)}reload(){return Gk(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Xc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Rl(this,qk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:P,providerData:D,stsTokenManager:O}=t;_e(E&&O,e,"internal-error");const S=Vo.fromJSON(this.name,O);_e(typeof E=="string",e,"internal-error"),Ei(i,e.name),Ei(o,e.name),_e(typeof T=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),Ei(l,e.name),Ei(c,e.name),Ei(d,e.name),Ei(p,e.name),Ei(m,e.name),Ei(_,e.name);const Q=new Ln({uid:E,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:P,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:S,createdAt:m,lastLoginAt:_});return D&&Array.isArray(D)&&(Q.providerData=D.map(W=>({...W}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(e,t,i=!1){const o=new Vo;o.updateFromServerResponse(t);const l=new Ln({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Xc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?wT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Vo;d.updateFromIdToken(i);const p=new Ln({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function Or(n){jr(n instanceof Function,"Expected a class definition");let e=P_.get(n);return e?(jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,P_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TT.type="NONE";const C_=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n,e,t){return`firebase:${n}:${e}:${t}`}class Lo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=wc(this.userKey,o.apiKey,l),this.fullPersistenceKey=wc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Qc(this.auth,{idToken:e}).catch(()=>{});return t?Ln._fromGetAccountInfoResponse(this.auth,t,e):null}return Ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Lo(Or(C_),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Or(C_);const c=wc(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(c);if(_){let E;if(typeof _=="string"){const T=await Qc(e,{idToken:_}).catch(()=>{});if(!T)break;E=await Ln._fromGetAccountInfoResponse(e,T,_)}else E=Ln._fromJSON(e,_);m!==l&&(d=E),l=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Lo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Lo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(kT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||AT(e))&&!e.includes("edge/"))return"Chrome";if(PT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function IT(n=Wt()){return/firefox\//i.test(n)}function ST(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AT(n=Wt()){return/crios\//i.test(n)}function RT(n=Wt()){return/iemobile/i.test(n)}function PT(n=Wt()){return/android/i.test(n)}function CT(n=Wt()){return/blackberry/i.test(n)}function kT(n=Wt()){return/webos/i.test(n)}function hm(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Jk(n=Wt()){return hm(n)&&!!window.navigator?.standalone}function Zk(){return X1()&&document.documentMode===10}function NT(n=Wt()){return hm(n)||PT(n)||kT(n)||CT(n)||/windows phone/i.test(n)||RT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n,e=[]){let t;switch(n){case"Browser":t=k_(Wt());break;case"Worker":t=`${k_(Wt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(n,e={}){return $r(n,"GET","/v2/passwordPolicy",zr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=6;class rN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new eN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qc(this,{idToken:e}),i=await Ln._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Dr(this));const t=e?Pt(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tN(this),t=new rN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Yk(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qi(n){return Pt(n)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=iA(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(n){Sh=n}function OT(n){return Sh.loadJS(n)}function oN(){return Sh.recaptchaEnterpriseScript}function aN(){return Sh.gapiScript}function lN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uN{constructor(){this.enterprise=new cN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hN="recaptcha-enterprise",bT="NO_RECAPTCHA";class fN{constructor(e){this.type=hN,this.auth=Qi(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{$k(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new zk(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;A_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(bT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&A_(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oN();p.length!==0&&(p+=d),OT(p).then(()=>{o(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function x_(n,e,t,i=!1,o=!1){const l=new fN(n);let c;if(o)c=bT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Yc(n,e,t,i,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await x_(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await x_(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(n,e){const t=Ap(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ks(l,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function pN(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Or);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function mN(n,e,t){const i=Qi(n);_e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=DT(e),{host:c,port:d}=gN(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){_e(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),_e(ks(m,i.config.emulator)&&ks(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Xo(c)?(AE(`${l}//${c}${p}`),RE("Auth",!0)):yN()}function DT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gN(n){const e=DT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:O_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:O_(c)}}}function O_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,t){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function vN(n,e){return $r(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e){return zl(n,"POST","/v1/accounts:signInWithPassword",zr(n,e))}async function EN(n,e){return $r(n,"POST","/v1/accounts:sendOobCode",zr(n,e))}async function wN(n,e){return EN(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",zr(n,e))}async function IN(n,e){return zl(n,"POST","/v1/accounts:signInWithEmailLink",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends fm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Pl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Pl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yc(e,t,"signInWithPassword",_N);case"emailLink":return TN(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yc(e,i,"signUpPassword",vN);case"emailLink":return IN(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e){return zl(n,"POST","/v1/accounts:signInWithIdp",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="http://localhost";class bs extends fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new bs(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Mo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Mo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mo(e,t)}buildRequest(){const e={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ol(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RN(n){const e=tl(nl(n)).link,t=e?tl(nl(e)).deep_link_id:null,i=tl(nl(n)).deep_link_id;return(i?tl(nl(i)).link:null)||i||t||e||n}class dm{constructor(e){const t=tl(nl(e)),i=t.apiKey??null,o=t.oobCode??null,l=AN(t.mode??null);_e(i&&o&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=RN(e);try{return new dm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,t){return Pl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=dm.parseLink(t);return _e(i,"argument-error"),Pl._fromEmailAndCode(e,i.code,i.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends VT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends $l{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ii.credential(t,i)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends $l{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends $l{constructor(){super("twitter.com")}static credential(e,t){return bs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ai.credential(t,i)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(n,e){return zl(n,"POST","/v1/accounts:signUp",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Ln._fromIdTokenResponse(e,i,o),c=b_(i);return new Ds({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=b_(i);return new Ds({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function b_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Br{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Jc(e,t,i,o)}}function LT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(n,l,e,i):l})}async function CN(n,e,t=!1){const i=await Rl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ds._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(n,e,t=!1){const{auth:i}=n;if(In(i.app))return Promise.reject(Dr(i));const o="reauthenticate";try{const l=await Rl(n,LT(i,o,e,n),t);_e(l.idToken,i,"internal-error");const c=cm(l.idToken);_e(c,i,"internal-error");const{sub:d}=c;return _e(n.uid===d,i,"user-mismatch"),Ds._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Un(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(n,e,t=!1){if(In(n.app))return Promise.reject(Dr(n));const i="signIn",o=await LT(n,i,e),l=await Ds._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function NN(n,e){return MT(Qi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(n){const e=Qi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xN(n,e,t){const i=Qi(n);await Yc(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wN)}async function ON(n,e,t){if(In(n.app))return Promise.reject(Dr(n));const i=Qi(n),c=await Yc(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&FT(n),p}),d=await Ds._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function bN(n,e,t){return In(n.app)?Promise.reject(Dr(n)):NN(Pt(n),ia.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&FT(n),i})}function DN(n,e,t,i){return Pt(n).onIdTokenChanged(e,t,i)}function VN(n,e,t){return Pt(n).beforeAuthStateChanged(e,t)}function LN(n,e,t,i){return Pt(n).onAuthStateChanged(e,t,i)}function MN(n){return Pt(n).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=1e3,UN=10;class jT extends UT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);Zk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UN):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const jN=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends UT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BT.type="SESSION";const zT=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ah(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await BN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=pm("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function $N(n){hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function qN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WN(){return navigator?.serviceWorker?.controller||null}function HN(){return $T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebaseLocalStorageDb",KN=1,eh="firebaseLocalStorage",WT="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rh(n,e){return n.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function GN(){const n=indexedDB.deleteDatabase(qT);return new ql(n).toPromise()}function hp(){const n=indexedDB.open(qT,KN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(eh,{keyPath:WT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(eh)?e(i):(i.close(),await GN(),e(await hp()))})})}async function D_(n,e,t){const i=Rh(n,!0).put({[WT]:e,value:t});return new ql(i).toPromise()}async function QN(n,e){const t=Rh(n,!1).get(e),i=await new ql(t).toPromise();return i===void 0?null:i.value}function V_(n,e){const t=Rh(n,!0).delete(e);return new ql(t).toPromise()}const XN=800,YN=3;class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>YN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(HN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new zN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await D_(e,Zc,"1"),await V_(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>D_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>QN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>V_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Rh(o,!1).getAll();return new ql(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HT.type="LOCAL";const JN=HT;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n,e){return e?Or(e):(_e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ex(n){return MT(n.auth,new mm(n),n.bypassAuthState)}function tx(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),kN(t,new mm(n),n.bypassAuthState)}async function nx(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),CN(t,new mm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ex;case"linkViaPopup":case"linkViaRedirect":return nx;case"reauthViaPopup":case"reauthViaRedirect":return tx;default:Un(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Bl(2e3,1e4);class No extends KT{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rx.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="pendingRedirect",Tc=new Map;class sx extends KT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Tc.get(this.auth._key());if(!e){try{const i=await ox(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Tc.set(this.auth._key(),e)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ox(n,e){const t=ux(e),i=lx(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ax(n,e){Tc.set(n._key(),e)}function lx(n){return Or(n._redirectPersistence)}function ux(n){return wc(ix,n.config.apiKey,n.name)}async function cx(n,e,t=!1){if(In(n.app))return Promise.reject(Dr(n));const i=Qi(n),o=ZN(i,e),c=await new sx(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=600*1e3;class fx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!GT(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(cr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hx&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function dx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(n,e={}){return $r(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gx=/^https?/;async function yx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await px(n);for(const t of e)try{if(vx(t))return}catch{}Un(n,"unauthorized-domain")}function vx(n){const e=up(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!gx.test(t))return!1;if(mx.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Bl(3e4,6e4);function M_(){const n=hr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ex(n){return new Promise((e,t)=>{function i(){M_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M_(),t(cr(n,"network-request-failed"))},timeout:_x.get()})}if(hr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hr().gapi?.load)i();else{const o=lN("iframefcb");return hr()[o]=()=>{gapi.load?i():t(cr(n,"network-request-failed"))},OT(`${aN()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Ic=null,e})}let Ic=null;function wx(n){return Ic=Ic||Ex(n),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Bl(5e3,15e3),Ix="__/auth/iframe",Sx="emulator/auth/iframe",Ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Px(n){const e=n.config;_e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?um(e,Sx):`https://${n.config.authDomain}/${Ix}`,i={apiKey:e.apiKey,appName:n.name,v:Yo},o=Rx.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ol(i).slice(1)}`}async function Cx(n){const e=await wx(n),t=hr().gapi;return _e(t,n,"internal-error"),e.open({where:document.body,url:Px(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ax,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=cr(n,"network-request-failed"),d=hr().setTimeout(()=>{l(c)},Tx.get());function p(){hr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nx=500,xx=600,Ox="_blank",bx="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dx(n,e,t,i=Nx,o=xx){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...kx,width:i.toString(),height:o.toString(),top:l,left:c},m=Wt().toLowerCase();t&&(d=AT(m)?Ox:t),IT(m)&&(e=e||bx,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[P,D])=>`${T}${P}=${D},`,"");if(Jk(m)&&d!=="_self")return Vx(e||"",d),new F_(null);const E=window.open(e||"",d,_);_e(E,n,"popup-blocked");try{E.focus()}catch{}return new F_(E)}function Vx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="__/auth/handler",Mx="emulator/auth/handler",Fx=encodeURIComponent("fac");async function U_(n,e,t,i,o,l){_e(n.config.authDomain,n,"auth-domain-config-required"),_e(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Yo,eventId:o};if(e instanceof VT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",rA(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof $l){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),m=p?`#${Fx}=${encodeURIComponent(p)}`:"";return`${Ux(n)}?${Ol(d).slice(1)}${m}`}function Ux({config:n}){return n.emulator?um(n,Mx):`https://${n.authDomain}/${Lx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class jx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zT,this._completeRedirectFn=cx,this._overrideRedirectResult=ax}async _openPopup(e,t,i,o){jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await U_(e,t,i,up(),o);return Dx(e,l,pm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await U_(e,t,i,up(),o);return $N(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(jr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Cx(e),i=new fx(e);return t.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cd,{type:Cd},o=>{const l=o?.[0]?.[Cd];l!==void 0&&t(!!l),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NT()||ST()||hm()}}const Bx=jx;var j_="@firebase/auth",B_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qx(n){jo(new Ns("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(n)},m=new iN(i,o,l,p);return pN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),jo(new Ns("auth-internal",e=>{const t=Qi(e.getProvider("auth").getImmediate());return(i=>new zx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(j_,B_,$x(n)),bi(j_,B_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=300,Hx=SE("authIdTokenMaxAge")||Wx;let z_=null;const Kx=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Hx)return;const o=t?.token;z_!==o&&(z_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Gx(n=NE()){const e=Ap(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dN(n,{popupRedirectResolver:Bx,persistence:[JN,jN,zT]}),i=SE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Kx(l.toString());VN(t,c,()=>c(t.currentUser)),DN(t,d=>c(d))}}const o=TE("auth");return o&&mN(t,`http://${o}`),t}function Qx(){return document.getElementsByTagName("head")?.[0]??document}sN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=cr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",Qx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qx("Browser");const Xx={apiKey:"AIzaSyDM6vndXnMOjXqRzoLzigTU03buYc1OhYQ",authDomain:"rufai-book-list-with-firebase.firebaseapp.com",projectId:"rufai-book-list-with-firebase",storageBucket:"rufai-book-list-with-firebase.firebasestorage.app",messagingSenderId:"768928976646",appId:"1:768928976646:web:03c9f05427784e3b08d887"},QT=kE(Xx),Rs=Gx(QT),Li=hk(QT),Yx=vE({name:"books",initialState:{books:[],status:"idle"},reducers:{},extraReducers:n=>{n.addCase(Sc.pending,(e,t)=>{e.status="loading"}).addCase(Sc.fulfilled,(e,t)=>{e.status="succeeded",e.books=t.payload}).addCase(Sc.rejected,(e,t)=>{e.status="failed",console.log(t.error.message??"Unknown Error")}).addCase(th.fulfilled,(e,t)=>{e.books.map(i=>{i.id==t.payload&&(i.isRead=!i.isRead)})}).addCase(th.rejected,(e,t)=>{e.status="failed",console.log(t.error.message??"Unknown Error")}).addCase(Ac.pending,(e,t)=>{e.status="loading"}).addCase(Ac.fulfilled,(e,t)=>{e.books=e.books.filter(i=>i.id!=t.payload),e.status="succeeded"}).addCase(Ac.rejected,(e,t)=>{e.status="failed",console.log(t.error.message??"Unknown Error")}).addCase(fp.fulfilled,(e,t)=>{e.books.push(t.payload)}).addCase(fp.rejected,(e,t)=>{e.status="failed",console.log(t.error.message??"Unknown Error")})}}),$_=n=>n.books,Jx=Yx.reducer,Sc=oh("books/fetchBooks",async()=>{const n=lT(Hc(Li,"books"),uT("user_id","==",Rs.currentUser.uid)),e=await fT(n);let t=[];return e.forEach(i=>{t.push({id:i.id,...i.data()})}),t}),th=oh("books/toggleRead",async n=>{const e=Ul(Li,"books",n.id);return await Ck(e,{isRead:!n.isRead}),n.id}),Ac=oh("books/eraseBook",async n=>(await dT(Ul(Li,"books",n)),n)),fp=oh("books/addBook",async n=>{let e=n;e.user_id=Rs.currentUser.uid;const t=await pT(Hc(Li,"books"),e);return e.id=t.id,e});function Zx({book:n}){const e=Go();function t(i,o,l){i.preventDefault(),e(th({id:o,isRead:l}))}return q.jsx(q.Fragment,{children:q.jsx(sh,{to:"/book/"+n.id,children:q.jsxs("div",{className:"book",children:[n.isRead&&q.jsx("div",{className:"readIt",children:q.jsx("i",{className:"fa-solid fa-eye"})}),q.jsxs("div",{className:"book-cover",children:[q.jsx("img",{src:n.cover}),q.jsxs("button",{onClick:i=>{t(i,n.id,n.isRead)},className:n.isRead?"isRead":"",children:[q.jsx("i",{className:"fa-solid fa-eye"}),q.jsx("span",{children:n.isRead?"Already Read It":"Haven't Read it yet"})]})]}),q.jsxs("div",{className:"book-details",children:[q.jsx("p",{className:"book-author",children:n.author}),q.jsx("h3",{className:"book-title",children:n.title})]})]})})})}const XT=vE({name:"users",initialState:{currentUser:null},reducers:{setUsers:(n,e)=>{n.currentUser=e.payload}}}),{setUsers:al}=XT.actions,eO=n=>n.users,tO=XT.reducer;function YT({pageTitle:n}){const e=Go();function t(){confirm("Are you sure you want to log out?")&&MN(Rs).then(()=>{e(al(null))}).catch(i=>{i.message})}return q.jsxs(q.Fragment,{children:[q.jsx("h1",{children:n}),q.jsxs("div",{className:"header-btns",children:[q.jsx(jy,{to:"/",children:q.jsx("button",{className:"btn",children:"Books List"})}),q.jsx(jy,{to:"/add-book",children:q.jsx("button",{className:"btn",children:"Add Book +"})}),q.jsx("button",{onClick:t,className:"btn transparent",children:"Logout"})]})]})}function nO(){const n=Go(),e=bd($_).books,t=" Rufai's, Book List with Router, Redux & Firebase",i=bd($_).status;return te.useEffect(()=>{i=="idle"&&n(Sc())},[]),q.jsx(q.Fragment,{children:q.jsxs("div",{className:"container",children:[q.jsx(YT,{pageTitle:t}),q.jsx("div",{className:"books-container",children:e.length?q.jsx("div",{className:"books-list",children:e.map(o=>q.jsx(Zx,{book:o},o.id))}):i=="loading"?q.jsx("div",{children:q.jsx("p",{children:"Loading..."})}):q.jsx("div",{children:q.jsxs("p",{children:["Your book list is empty. ",q.jsx(sh,{to:"/add-book",children:"Click here"})," to add a new book."]})})})]})})}function rO({bookId:n}){const e=async p=>{if(confirm("Are you sure you want to erase this note?"))try{await dT(Ul(Li,"notes",p)),o(i.filter(m=>m.id!=p))}catch{alert("Error deleting note")}},t=async p=>{p.preventDefault();const m={book_id:n,title:document.querySelector("input[name=title]").value,text:document.querySelector("textarea[name=note]").value};if(m.title&&m.text)try{const _=await pT(Hc(Li,"notes"),m);m.id=_.id,o([...i,m]),document.querySelector("input[name=title]").value="",document.querySelector("textarea[name=note]").value=""}catch{alert("Error whiles adding the notes")}else alert("Please fill the mandatory fields.")},[i,o]=te.useState(""),[l,c]=te.useState("idle"),d=async p=>{try{const m=lT(Hc(Li,"notes"),uT("book_id","==",p));let _=[];(await fT(m)).forEach(T=>{_.push({...T.data(),id:T.id})}),o(_),c("Success")}catch(m){console.log("error",m),c("error")}};return te.useEffect(()=>{l=="idle"&&d(n)},[]),q.jsx(q.Fragment,{children:q.jsxs("div",{className:"notes-wrapper",children:[q.jsx("h2",{children:"Reader's Notes"}),i.length?q.jsx("div",{className:"notes",children:i.map(p=>q.jsxs("div",{className:"note",children:[q.jsx("div",{onClick:()=>e(p.id),className:"erase-note",children:"Erase note"}),q.jsx("h3",{children:p.title}),q.jsx("p",{children:p.text})]},p.id))}):l=="success"?q.jsx("p",{children:"This books doesn't have notes yet. Use the form below to add a note."}):l=="error"?q.jsx("div",{children:q.jsx("p",{children:"Error whiles fetching the notes"})}):q.jsx("div",{children:q.jsx("p",{children:"Loading..."})}),q.jsxs("details",{children:[q.jsx("summary",{children:"Add a note"}),q.jsxs("form",{className:"add-note",children:[q.jsxs("div",{className:"form-control",children:[q.jsx("label",{children:"Title *"}),q.jsx("input",{type:"text",name:"title",placeholder:"Add a note title"})]}),q.jsxs("div",{className:"form-control",children:[q.jsx("label",{children:"Note *"}),q.jsx("textarea",{type:"text",name:"note",placeholder:"Add note"})]}),q.jsx("button",{onClick:p=>{t(p)},className:"btn btn-block",children:"Add Note"})]})]})]})})}function iO(){const n=Go(),e=pp();function t(_){confirm("Are you sure you want to erase this book and all notes associated with it?")&&(n(Ac(_)),e("/"))}function i(_){n(th({id:_.id,isRead:_.isRead})),d({...c,isRead:!_.isRead})}const o=async _=>{try{const E=Ul(Li,"books",_),T=await Pk(E);T.exists()&&d({...T.data(),id:T.id}),m("Success")}catch(E){console.log("error",E),m("error")}},{id:l}=WI(),[c,d]=te.useState(""),[p,m]=te.useState("idle");return te.useEffect(()=>{p=="idle"&&o(l)},[]),q.jsx(q.Fragment,{children:q.jsxs("div",{className:"container",children:[q.jsx(sh,{to:"/",children:q.jsx("button",{className:"btn",children:" Back to Books"})}),c?q.jsxs("div",{children:[q.jsxs("div",{className:"single-book",children:[q.jsx("div",{className:"book-cover",children:q.jsx("img",{src:c.cover})}),q.jsxs("div",{className:"book-details",children:[q.jsx("h3",{className:"book-title",children:c.title}),q.jsx("h4",{className:"book-author",children:c.author}),q.jsx("p",{children:c.synopsis}),q.jsxs("div",{className:"read-checkbox",children:[q.jsx("input",{onClick:()=>{i({id:c.id,isRead:c.isRead})},type:"checkbox",defaultChecked:c.isRead}),q.jsx("label",{children:c.isRead?"Already Read It":"Haven't Read it yet"})]}),q.jsx("div",{onClick:()=>t(c.id),className:"erase-book",children:"Erase book"})]})]}),q.jsx(rO,{bookId:l})]}):p=="success"?q.jsx("div",{children:q.jsx("p",{children:"Book not found. Click the button above to go back to the list of books."})}):p=="error"?q.jsx("div",{children:q.jsx("p",{children:"Error while fetching the book"})}):q.jsx("div",{children:q.jsx("p",{children:"Loading..."})})]})})}function sO({bg:n}){return q.jsx(q.Fragment,{children:q.jsx("div",{style:{backgroundColor:n||""},className:"full-page-loader",children:q.jsx("div",{className:"lds-dual-ring"})})})}function oO(){const[n,e]=te.useState(!0),[t,i]=te.useState("login"),[o,l]=te.useState({}),[c,d]=te.useState(""),p=Go();LN(Rs,P=>{p(al(P?{id:P.uid,email:P.email}:null)),n&&e(!1)});function m(P){l({...o,[P.target.name]:P.target.value})}function _(P){P.preventDefault(),d(""),ON(Rs,o.email,o.password).then(D=>{console.log(D.user),p(al({id:D.user.uid,email:D.user.email}))}).catch(D=>{d(D.message)})}function E(P){P.preventDefault(),d(""),bN(Rs,o.email,o.password).then(D=>{console.log(D.user),p(al({id:D.user.uid,email:D.user.email}))}).catch(D=>{d(D.message)})}function T(){const P=prompt("Please enter your email address");xN(Rs,P),alert("Email sent! Check your inbox")}return q.jsxs(q.Fragment,{children:[n&&q.jsx(sO,{}),q.jsx("div",{className:"container login-page",children:q.jsxs("section",{children:[q.jsx("h1",{children:"Welcome to the Book App"}),q.jsx("p",{children:"Login or create an account to continue"}),q.jsxs("div",{className:"login-type",children:[q.jsx("button",{className:`btn ${t=="login"?"selected":""}`,onClick:()=>i("login"),children:"Login"}),q.jsx("button",{className:`btn ${t=="signup"?"selected":""}`,onClick:()=>i("signup"),children:"Signup"})]}),q.jsxs("form",{className:"add-form login",children:[q.jsxs("div",{className:"form-control",children:[q.jsx("label",{children:"Email *"}),q.jsx("input",{onChange:P=>m(P),type:"text",name:"email",placeholder:"Enter your email"})]}),q.jsxs("div",{className:"form-control",children:[q.jsx("label",{children:"Password *"}),q.jsx("input",{onChange:P=>m(P),type:"password",name:"password",placeholder:"Enter your password"})]}),t=="login"?q.jsx("button",{onClick:P=>E(P),className:"active btn btn-block",children:"Login"}):q.jsx("button",{onClick:P=>_(P),className:"active btn btn-block",children:"Sign Up"}),c&&q.jsx("div",{className:"error",children:c}),q.jsx("p",{onClick:T,className:"forgot-password",children:"Forgot Password?"})]})]})})]})}function aO(){const n=Go(),e=pp();function t(o){o.preventDefault();const l={title:document.querySelector("input[name=title]").value,cover:document.querySelector("input[name=cover]").value,isRead:!1,author:document.querySelector("input[name=author]").value,synopsis:document.querySelector("textarea[name=synopsis]").value};l.title&&l.cover&&l.author?n(fp(l)).then(c=>{c.error?alert("An Error Occured!!!"):(alert("Book created successfully!"),e("/"))}):alert("Please fill the mandatory fields.")}return q.jsx(q.Fragment,{children:q.jsxs("div",{className:"container",children:[q.jsx(YT,{pageTitle:"Add Book"}),q.jsxs("form",{className:"add-form",children:[q.jsxs("div",{className:"form-control",children:[q.jsx("label",{children:"Title *"}),q.jsx("input",{type:"text",name:"title",placeholder:"Add Book Title"})]}),q.jsxs("div",{className:"form-control",children:[q.jsx("label",{children:"Book Cover *"}),q.jsx("input",{type:"text",name:"cover",placeholder:"Add Cover"})]}),q.jsxs("div",{className:"form-control",children:[q.jsx("label",{children:"Author *"}),q.jsx("input",{type:"text",name:"author",placeholder:"Add Author"})]}),q.jsxs("div",{className:"form-control",children:[q.jsx("label",{children:"Synopsis"}),q.jsx("textarea",{type:"text",name:"synopsis",placeholder:"Add a synopsis..."})]}),q.jsx("button",{onClick:o=>t(o),className:"btn btn-block",children:"Save Book"})]})]})})}function lO(){const n=bd(eO);return q.jsx(q.Fragment,{children:n.currentUser?q.jsx(mS,{children:q.jsxs(aS,{children:[q.jsx(dc,{index:!0,element:q.jsx(nO,{})})," :",q.jsx(dc,{path:"add-book",element:q.jsx(aO,{})}),q.jsx(dc,{path:"book/:id",element:q.jsx(iO,{})})]})}):q.jsx(oO,{})})}const uO=T1({reducer:{books:Jx,users:tO}});mI.createRoot(document.getElementById("root")).render(q.jsx(zS,{store:uO,children:q.jsx(lO,{})}));
